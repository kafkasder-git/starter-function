function e({requiredRole:e,requiredPermission:a,currentRole:l,onBack:t,onGoHome:r}){const{user:n,logout:i}=_();return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-red-500/5 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-40 h-40 bg-orange-500/5 rounded-full blur-3xl"})]}),o.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-lg relative z-10",children:[o.jsxs(O,{className:"border-red-200/60 shadow-xl bg-white/95 backdrop-blur-sm",children:[o.jsxs(Y,{className:"space-y-4 text-center pb-6",children:[o.jsx(oe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 mx-auto bg-gradient-to-br from-red-500 to-red-600 rounded-2xl flex items-center justify-center shadow-lg",children:o.jsx(m,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"EriÅŸim Reddedildi"}),o.jsx(A,{className:"text-slate-600 font-medium",children:"Bu sayfaya eriÅŸim yetkiniz bulunmuyor"})]})]}),o.jsxs(K,{className:"space-y-6",children:[o.jsx("div",{className:"bg-red-50/80 border border-red-200 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(u,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-red-800 font-semibold text-sm",children:"Yetersiz Yetki"}),o.jsxs("div",{className:"text-red-700 text-sm space-y-1",children:[e&&o.jsxs("p",{children:[o.jsx("strong",{children:"Gerekli Rol:"})," ",he[e]]}),a&&o.jsxs("p",{children:[o.jsx("strong",{children:"Gerekli Ä°zin:"})," ",pe[a]]})]})]})]})}),n&&o.jsx("div",{className:"bg-slate-50/80 border border-slate-200 rounded-xl p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-slate-700 font-semibold text-sm",children:"Mevcut KullanÄ±cÄ± Bilgileri"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-slate-600 text-sm",children:"KullanÄ±cÄ±:"}),o.jsx("span",{className:"text-slate-900 font-medium text-sm",children:n.name})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-slate-600 text-sm",children:"Mevcut Rol:"}),o.jsx(q,{variant:"outline",className:"text-xs",children:l?he[l]:n.role?he[n.role]:"GÃ¶rÃ¼ntÃ¼leyici"})]})]})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(R,{onClick:()=>{t?t():window.history.back()},variant:"outline",className:"w-full h-12 font-semibold border-slate-300 hover:bg-slate-50",children:[o.jsx(h,{className:"w-4 h-4 mr-2"}),"Geri DÃ¶n"]}),o.jsxs(R,{onClick:()=>{r?r():window.location.href="/"},className:"w-full h-12 bg-gradient-to-r from-primary to-blue-700 hover:from-primary/90 hover:to-blue-700/90 text-white font-semibold",children:[o.jsx(p,{className:"w-4 h-4 mr-2"}),"Ana Sayfaya Git"]}),o.jsx(R,{onClick:()=>i(),variant:"ghost",className:"w-full h-10 text-slate-600 hover:text-slate-800 font-medium",children:"FarklÄ± Hesapla GiriÅŸ Yap"})]})]})]}),o.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-8 text-center",children:o.jsx("p",{className:"text-xs text-slate-500",children:"EriÅŸim sorunlarÄ± iÃ§in sistem yÃ¶neticinizle iletiÅŸime geÃ§in."})})]})]})}function a({children:a,requireAuth:l=!0,requiredPermission:t,requiredRole:r,fallback:n}){const{isAuthenticated:i,isLoading:s,user:c}=_(),d=x(),m=(()=>{if(!c)return null;const e=c.metadata?.role||c.role;return e&&Object.values($).includes(e)?e:$.VIEWER})();return s?o.jsx("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-white to-slate-100",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx(I,{size:"lg"}),o.jsx("p",{className:"text-sm text-slate-600 animate-pulse",children:"Kimlik doÄŸrulanÄ±yor..."})]})}):l&&!i?n||o.jsx(g,{to:"/login",state:{from:d},replace:!0}):r&&(h=r,!m||m!==$.ADMIN&&m!==h&&(m!==$.MANAGER||h!==$.OPERATOR&&h!==$.VIEWER)&&(m!==$.OPERATOR||h!==$.VIEWER))?o.jsx(e,{requiredRole:r,currentRole:m}):!t||(u=t,m&&H[m].includes(u))?o.jsx(o.Fragment,{children:a}):o.jsx(e,{requiredPermission:t,currentRole:m});var u,h}function l({primaryAction:e,secondaryActions:a,className:l}){return o.jsxs("div",{className:L("flex items-center gap-2",l),children:[e&&o.jsxs(R,{onClick:e.onClick,variant:e.variant??"default",disabled:e.disabled,className:"flex items-center gap-2",children:[e.icon,e.label]}),a?.map((e,a)=>o.jsxs(R,{onClick:e.onClick,variant:e.variant??"outline",disabled:e.disabled,className:"flex items-center gap-2",children:[e.icon,e.label]},a))]})}function t({title:e,value:a,subtitle:l,icon:t,color:r="blue",className:n}){return o.jsxs(O,{className:n,children:[o.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(z,{className:"text-sm font-medium",children:e}),t&&o.jsx("div",{className:L("rounded-lg p-2",{blue:"text-info-600 bg-info-50",green:"text-success-600 bg-success-50",yellow:"text-warning-600 bg-warning-50",red:"text-error-600 bg-error-50",purple:"text-primary-600 bg-primary-50",gray:"text-neutral-600 bg-neutral-50"}[r]),children:t})]}),o.jsxs(K,{children:[o.jsx("div",{className:"text-2xl font-bold",children:a}),l&&o.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:l})]})]})}function r(){const{isMobile:e}=function(){function e(){const e="ontouchstart"in window||navigator.maxTouchPoints>0,a=window.innerWidth;let l="xs";return a>=1280?l="xl":a>=1024?l="lg":a>=768?l="md":a>=640&&(l="sm"),{isTouchDevice:e,isMobile:a<768&&e,isTablet:a>=768&&a<1024&&e,screenSize:l,orientation:window.innerHeight>a?"portrait":"landscape"}}const[a,l]=v.useState(()=>"undefined"==typeof window?{isTouchDevice:!1,isMobile:!1,isTablet:!1,screenSize:"md",orientation:"portrait"}:e());return v.useEffect(()=>{function a(){clearTimeout(r),r=setTimeout(()=>{l(e())},150)}function t(){setTimeout(()=>{l(e())},100)}let r;return window.addEventListener("resize",a),window.addEventListener("orientationchange",t),l(e()),()=>{clearTimeout(r),window.removeEventListener("resize",a),window.removeEventListener("orientationchange",t)}},[]),a}();return e}function n({children:e,className:a,cols:l={default:1,sm:2,lg:3},gap:t="md"}){const r=L("grid",1===l.default&&"grid-cols-1",2===l.default&&"grid-cols-2",3===l.default&&"grid-cols-3",4===l.default&&"grid-cols-4",l.sm&&`sm:grid-cols-${l.sm}`,l.md&&`md:grid-cols-${l.md}`,l.lg&&`lg:grid-cols-${l.lg}`,l.xl&&`xl:grid-cols-${l.xl}`,"sm"===t&&"gap-3 sm:gap-4","md"===t&&"gap-4 sm:gap-6","lg"===t&&"gap-6 sm:gap-8",a);return o.jsx("div",{className:r,children:e})}function i({icon:e,title:a,value:l,badge:t,color:r="text-primary",onClick:n,className:i}){const s=Boolean(n);return o.jsxs(ge,{variant:"mobile",interactive:s,onClick:n,className:L("relative overflow-hidden","min-h-[100px] sm:min-h-[120px]","w-full",i),children:[o.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 opacity-5",children:o.jsx("div",{className:L("w-full h-full",r.replace("text-","bg-")),children:e})}),o.jsxs("div",{className:"relative flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("div",{className:L("p-2 rounded-lg bg-neutral-50",r),children:e}),t&&o.jsx("span",{className:"bg-primary text-white text-xs px-2 py-1 rounded-full font-medium",children:t})]}),o.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-neutral-900 mb-1",children:l}),o.jsx("div",{className:"text-sm text-neutral-600 font-medium",children:a})]})]})]})}function s({icon:e,title:a,description:l,onClick:t,variant:r="primary",className:n}){const i={primary:"border-primary/20 hover:border-primary/40 hover:bg-primary/5",secondary:"border-neutral-200 hover:border-neutral-300 hover:bg-neutral-50",success:"border-success-200 hover:border-success-300 hover:bg-success-50",warning:"border-warning-200 hover:border-warning-300 hover:bg-warning-50",danger:"border-error-200 hover:border-error-300 hover:bg-error-50",default:"border-neutral-200 hover:border-neutral-300 hover:bg-neutral-50"},s={primary:"text-primary",secondary:"text-neutral-600",success:"text-success-600",warning:"text-warning-600",danger:"text-error-600",default:"text-neutral-600"};return o.jsx(oe.button,{onClick:t,whileHover:{scale:1.02},whileTap:{scale:.98},className:L("w-full p-6 rounded-xl border-2 transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-primary/20","min-h-[88px]",r in i?i[r]:i.default,n),children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:L("text-xl",r in s?s[r]:s.default),children:e}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-neutral-900 mb-1",children:a}),l&&o.jsx("div",{className:"text-sm text-neutral-600",children:l})]}),o.jsx("div",{className:"text-neutral-400",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})})}function c(){return o.jsx(a,{requiredPermission:P.MANAGE_FINANCIAL,children:o.jsx(d,{})})}function d(){const e=r(),[a,l]=v.useState("thisMonth"),[t,s]=v.useState("all"),[c,d]=v.useState(!1),[m,u]=v.useState(!1),[,h]=v.useState(!1),[p,x]=v.useState([]),[g,y]=v.useState({type:"income",category:"",description:"",amount:0,date:(new Date).toISOString().split("T")[0],paymentMethod:"bank"});v.useEffect(()=>{N()},[]);const N=async()=>{try{h(!0);const{data:e,error:a}=await V.list(U.FINANCE_TRANSACTIONS,[me.equal("transaction_type","income")]);if(a)return Z.error("Error loading transactions:",a),D.error("Ä°ÅŸlemler yÃ¼klenirken hata oluÅŸtu"),void 0;const l=(e?.documents||[]).map(e=>({id:e.$id,type:"income"===e.transaction_type?"income":"expense",category:e.category||"",description:e.description||"",amount:e.amount||0,date:e.date||e.created_at?.split("T")[0]||"",paymentMethod:e.payment_method||"bank",status:e.status||"completed"}));x(l)}catch(e){Z.error("Failed to load transactions:",e),D.error("Ä°ÅŸlemler yÃ¼klenirken hata oluÅŸtu")}finally{h(!1)}},F=v.useMemo(()=>[{month:"Temmuz",income:58e3,expense:42e3,balance:16e3},{month:"AÄŸustos",income:49e3,expense:45e3,balance:4e3},{month:"EylÃ¼l",income:61e3,expense:39e3,balance:22e3},{month:"Ekim",income:63800,expense:49e3,balance:14800}],[]),B=v.useMemo(()=>{const e=p.filter(e=>"income"===e.type&&"completed"===e.status).reduce((e,a)=>e+a.amount,0),a=p.filter(e=>"expense"===e.type&&"completed"===e.status).reduce((e,a)=>e+a.amount,0);return{totalIncome:e,totalExpense:a,balance:e-a,pendingIncome:p.filter(e=>"income"===e.type&&"pending"===e.status).reduce((e,a)=>e+a.amount,0)}},[p]),S=v.useMemo(()=>{const e=p.reduce((e,a)=>{const l=`${a.type}_${a.category}`;return e[l]||(e[l]={category:a.category,type:a.type,total:0,count:0}),"completed"===a.status&&(e[l].total+=a.amount,e[l].count+=1),e},{});return Object.values(e)},[p]),M=S.filter(e=>"income"===e.type),_=S.filter(e=>"expense"===e.type),A=e=>{switch(e){case"cash":return o.jsx(C,{className:"h-4 w-4"});case"bank":return o.jsx(T,{className:"h-4 w-4"});case"card":return o.jsx(j,{className:"h-4 w-4"});default:return o.jsx(f,{className:"h-4 w-4"})}};return o.jsxs("div",{className:"safe-area min-h-full space-y-6 bg-slate-50/50 p-3 sm:p-6 lg:space-y-8 lg:p-8",children:[o.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[o.jsxs("h1",{className:"flex items-center gap-3 text-2xl font-bold text-slate-800 sm:text-3xl",children:[o.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-xl bg-gradient-to-br from-emerald-600 to-teal-700 sm:h-10 sm:w-10",children:o.jsx(f,{className:"h-5 w-5 text-white sm:h-6 sm:w-6"})}),"Gelir-Gider YÃ¶netimi"]}),o.jsx("p",{className:"text-sm text-slate-600 sm:text-base",children:"Mali durumu takip edin ve raporlayÄ±n"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Q,{value:a,onValueChange:l,children:[o.jsx(W,{className:"w-32 sm:w-36",children:o.jsx(X,{})}),o.jsxs(J,{children:[o.jsx(ee,{value:"thisMonth",children:"Bu Ay"}),o.jsx(ee,{value:"lastMonth",children:"GeÃ§en Ay"}),o.jsx(ee,{value:"thisYear",children:"Bu YÄ±l"}),o.jsx(ee,{value:"custom",children:"Ã–zel Tarih"})]})]}),o.jsxs(R,{onClick:()=>{D.success("Mali rapor Excel formatÄ±nda dÄ±ÅŸa aktarÄ±lÄ±yor...")},variant:"outline",size:"sm",className:"hidden sm:flex",children:[o.jsx(b,{className:"mr-2 h-4 w-4"}),"Rapor"]}),o.jsxs(R,{onClick:()=>{d(!0)},size:"sm",children:[o.jsx(k,{className:"mr-2 h-4 w-4"}),e?"Yeni":"Yeni Ä°ÅŸlem"]})]})]}),o.jsxs(n,{cols:{default:2,sm:4},gap:"sm",children:[o.jsx(i,{icon:o.jsx(w,{className:"h-5 w-5"}),title:"Toplam Gelir",value:`â‚º${B.totalIncome.toLocaleString()}`,color:"text-green-600"}),o.jsx(i,{icon:o.jsx(G,{className:"h-5 w-5"}),title:"Toplam Gider",value:`â‚º${B.totalExpense.toLocaleString()}`,color:"text-red-600"}),o.jsx(i,{icon:o.jsx(f,{className:"h-5 w-5"}),title:"Net Bakiye",value:`â‚º${B.balance.toLocaleString()}`,color:B.balance>=0?"text-green-600":"text-red-600"}),o.jsx(i,{icon:o.jsx(E,{className:"h-5 w-5"}),title:"Bekleyen Gelir",value:`â‚º${B.pendingIncome.toLocaleString()}`,color:"text-amber-600"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 lg:gap-8",children:[o.jsxs(O,{children:[o.jsx(Y,{className:"pb-4",children:o.jsxs(z,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[o.jsx(w,{className:"h-5 w-5 text-green-600"}),"Gelir Kategorileri"]})}),o.jsx(K,{className:"space-y-4",children:M.map(e=>{const a=Math.round(e.total/B.totalIncome*100);return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"font-medium text-slate-700",children:e.category}),o.jsxs("span",{className:"font-semibold text-green-600",children:["â‚º",e.total.toLocaleString()]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(xe,{value:a,className:"h-2 flex-1"}),o.jsxs("span",{className:"w-10 text-right text-xs text-slate-500",children:["%",a]})]})]},e.category)})})]}),o.jsxs(O,{children:[o.jsx(Y,{className:"pb-4",children:o.jsxs(z,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[o.jsx(G,{className:"h-5 w-5 text-red-600"}),"Gider Kategorileri"]})}),o.jsx(K,{className:"space-y-4",children:_.map(e=>{const a=Math.round(e.total/B.totalExpense*100);return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"font-medium text-slate-700",children:e.category}),o.jsxs("span",{className:"font-semibold text-red-600",children:["â‚º",e.total.toLocaleString()]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(xe,{value:a,className:"h-2 flex-1 [&>div]:bg-red-500"}),o.jsxs("span",{className:"w-10 text-right text-xs text-slate-500",children:["%",a]})]})]},e.category)})})]})]}),o.jsxs(O,{children:[o.jsx(Y,{className:"pb-4",children:o.jsxs(z,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[o.jsx(b,{className:"h-5 w-5"}),"AylÄ±k Trend"]})}),o.jsx(K,{className:"p-4 sm:p-6",children:o.jsx("div",{className:"space-y-4",children:F.map(e=>o.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-4 transition-colors hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"mb-1 font-medium text-slate-900",children:e.month}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("span",{className:"text-green-600",children:["Gelir: â‚º",e.income.toLocaleString()]}),o.jsxs("span",{className:"text-red-600",children:["Gider: â‚º",e.expense.toLocaleString()]})]})]}),o.jsxs("div",{className:"font-semibold "+(e.balance>=0?"text-green-600":"text-red-600"),children:[e.balance>=0?"+":"","â‚º",e.balance.toLocaleString()]})]},e.month))})})]}),o.jsxs(O,{children:[o.jsx(Y,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(z,{className:"text-lg sm:text-xl",children:"Son Ä°ÅŸlemler"}),o.jsxs(Q,{value:t,onValueChange:s,children:[o.jsx(W,{className:"w-32 sm:w-36",children:o.jsx(X,{placeholder:"Kategori"})}),o.jsxs(J,{children:[o.jsx(ee,{value:"all",children:"TÃ¼mÃ¼"}),o.jsx(ee,{value:"income",children:"Gelir"}),o.jsx(ee,{value:"expense",children:"Gider"})]})]})]})}),o.jsx(K,{className:"p-0 sm:p-6 sm:pt-0",children:o.jsx("div",{className:"space-y-3 p-4 sm:p-0",children:p.slice(0,8).map(e=>{const a=(e=>{const a={completed:{label:"TamamlandÄ±",variant:"default"},pending:{label:"Beklemede",variant:"secondary"},cancelled:{label:"Ä°ptal",variant:"destructive"}};return a[e]??a.completed})(e.status);return o.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 p-4 transition-colors hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-800",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg "+("income"===e.type?"bg-green-100 text-green-600":"bg-red-100 text-red-600"),children:A(e.paymentMethod)}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-900",children:e.description}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[o.jsx("span",{children:e.category}),o.jsx("span",{children:"â€¢"}),o.jsx("span",{children:new Date(e.date).toLocaleDateString("tr-TR")})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold "+("income"===e.type?"text-green-600":"text-red-600"),children:["income"===e.type?"+":"-","â‚º",e.amount.toLocaleString()]}),o.jsx(q,{variant:a.variant,className:"mt-1 text-xs",children:a.label})]})]},e.id)})})})]}),o.jsx(ae,{open:c,onOpenChange:d,children:o.jsxs(le,{className:"max-h-[90vh] overflow-y-auto sm:max-w-[600px]",children:[o.jsxs(te,{children:[o.jsxs(re,{className:"flex items-center gap-2",children:[o.jsx(k,{className:"h-5 w-5"}),"Yeni Gelir/Gider Ä°ÅŸlemi"]}),o.jsx(ne,{children:"Yeni bir gelir veya gider iÅŸlemi kaydedin. Zorunlu alanlarÄ± (*) doldurmanÄ±z gereklidir."})]}),o.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!g.category||!g.description||g.amount<=0)return D.error("LÃ¼tfen tÃ¼m zorunlu alanlarÄ± doldurun"),void 0;try{u(!0);const e=await V.create(U.FINANCE_TRANSACTIONS,{transaction_type:g.type,amount:g.amount,category:g.category,description:g.description,date:g.date,payment_method:g.paymentMethod,status:"completed",created_at:(new Date).toISOString()});if(e.error)return Z.error("Error creating transaction:",e.error),D.error("Ä°ÅŸlem kaydedilirken hata oluÅŸtu"),void 0;D.success("Ä°ÅŸlem baÅŸarÄ±yla kaydedildi!"),d(!1),y({type:"income",category:"",description:"",amount:0,date:(new Date).toISOString().split("T")[0],paymentMethod:"bank"}),await N()}catch(a){Z.error("Failed to create transaction:",a),D.error("Ä°ÅŸlem kaydedilirken hata oluÅŸtu")}finally{u(!1)}},className:"space-y-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ie,{htmlFor:"type",children:["Ä°ÅŸlem TÃ¼rÃ¼ ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs(Q,{value:g.type,onValueChange:e=>{y({...g,type:e})},children:[o.jsx(W,{children:o.jsx(X,{placeholder:"TÃ¼r seÃ§in"})}),o.jsxs(J,{children:[o.jsx(ee,{value:"income",children:"Gelir"}),o.jsx(ee,{value:"expense",children:"Gider"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ie,{htmlFor:"date",children:["Tarih ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(se,{id:"date",type:"date",value:g.date,onChange:e=>{y({...g,date:e.target.value})},required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ie,{htmlFor:"category",children:["Kategori ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(se,{id:"category",value:g.category,onChange:e=>{y({...g,category:e.target.value})},placeholder:"Ã–rn: BaÄŸÄ±ÅŸ, Aidat, Kira, MaaÅŸ",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ie,{htmlFor:"description",children:["AÃ§Ä±klama ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(ce,{id:"description",value:g.description,onChange:e=>{y({...g,description:e.target.value})},placeholder:"Ä°ÅŸlem detaylarÄ±",rows:3,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ie,{htmlFor:"amount",children:["Tutar (TL) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(se,{id:"amount",type:"number",value:g.amount||"",onChange:e=>{y({...g,amount:parseFloat(e.target.value)||0})},placeholder:"0.00",min:"0",step:"0.01",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"paymentMethod",children:"Ã–deme YÃ¶ntemi"}),o.jsxs(Q,{value:g.paymentMethod,onValueChange:e=>{y({...g,paymentMethod:e})},children:[o.jsx(W,{children:o.jsx(X,{placeholder:"YÃ¶ntem seÃ§in"})}),o.jsxs(J,{children:[o.jsx(ee,{value:"cash",children:"Nakit"}),o.jsx(ee,{value:"bank",children:"Banka"}),o.jsx(ee,{value:"card",children:"Kart"})]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx(R,{type:"button",variant:"outline",onClick:()=>{d(!1)},disabled:m,children:"Ä°ptal"}),o.jsx(R,{type:"submit",disabled:m,children:m?"Kaydediliyor...":"Ä°ÅŸlemi Kaydet"})]})]})]})})]})}import{j as o,af as m,p as u,n as h,m as p,ag as x,ah as g,r as v,ai as y,aj as N,ak as f,al as b,aa as k,a1 as w,am as G,a9 as E,an as j,ao as T,ap as C,aq as F,o as B,$ as S,ar as M}from"./react-vendor-Zi_jsHoK.js";import{t as D}from"./toast-vendor-Ci27VDWJ.js";import{u as _,C as O,a as Y,b as z,c as A,e as K,f as q,B as R,U as $,P,L as I,R as H,g as L,h as V,i as U,l as Z,S as Q,j as W,k as X,m as J,n as ee,o as ae,p as le,q as te,r as re,s as ne,t as ie,I as se,v as ce,w as de}from"./beneficiaries-page-CkZlrYV8.js";import{m as oe}from"./motion-vendor-iBxafAnt.js";import{Q as me,I as ue}from"./appwrite-vendor-Ct7vfU_L.js";const he={[$.SUPER_ADMIN]:"SÃ¼per YÃ¶netici",[$.ADMIN]:"Sistem YÃ¶neticisi",[$.MANAGER]:"Dernek MÃ¼dÃ¼rÃ¼",[$.OPERATOR]:"OperatÃ¶r",[$.VIEWER]:"GÃ¶rÃ¼ntÃ¼leyici",[$.VOLUNTEER]:"GÃ¶nÃ¼llÃ¼"},pe={[P.DASHBOARD_READ]:"Dashboard GÃ¶rÃ¼ntÃ¼leme",[P.USERS_READ]:"KullanÄ±cÄ±larÄ± GÃ¶rÃ¼ntÃ¼leme",[P.USERS_CREATE]:"KullanÄ±cÄ± OluÅŸturma",[P.USERS_UPDATE]:"KullanÄ±cÄ± GÃ¼ncelleme",[P.USERS_DELETE]:"KullanÄ±cÄ± Silme",[P.DONATIONS_READ]:"BaÄŸÄ±ÅŸlarÄ± GÃ¶rÃ¼ntÃ¼leme",[P.DONATIONS_CREATE]:"BaÄŸÄ±ÅŸ OluÅŸturma",[P.DONATIONS_UPDATE]:"BaÄŸÄ±ÅŸ GÃ¼ncelleme",[P.DONATIONS_DELETE]:"BaÄŸÄ±ÅŸ Silme",[P.DONATIONS_APPROVE]:"BaÄŸÄ±ÅŸ Onaylama",[P.BENEFICIARIES_READ]:"Ä°htiyaÃ§ Sahiplerini GÃ¶rÃ¼ntÃ¼leme",[P.BENEFICIARIES_CREATE]:"Ä°htiyaÃ§ Sahibi OluÅŸturma",[P.BENEFICIARIES_UPDATE]:"Ä°htiyaÃ§ Sahibi GÃ¼ncelleme",[P.BENEFICIARIES_DELETE]:"Ä°htiyaÃ§ Sahibi Silme",[P.AID_REQUESTS_READ]:"YardÄ±m BaÅŸvurularÄ±nÄ± GÃ¶rÃ¼ntÃ¼leme",[P.AID_REQUESTS_CREATE]:"YardÄ±m BaÅŸvurusu OluÅŸturma",[P.AID_REQUESTS_UPDATE]:"YardÄ±m BaÅŸvurusu GÃ¼ncelleme",[P.AID_REQUESTS_DELETE]:"YardÄ±m BaÅŸvurusu Silme",[P.AID_REQUESTS_APPROVE]:"YardÄ±m BaÅŸvurusu Onaylama",[P.SCHOLARSHIPS_READ]:"BurslarÄ± GÃ¶rÃ¼ntÃ¼leme",[P.SCHOLARSHIPS_CREATE]:"Burs OluÅŸturma",[P.SCHOLARSHIPS_UPDATE]:"Burs GÃ¼ncelleme",[P.SCHOLARSHIPS_DELETE]:"Burs Silme",[P.EVENTS_READ]:"Etkinlikleri GÃ¶rÃ¼ntÃ¼leme",[P.EVENTS_CREATE]:"Etkinlik OluÅŸturma",[P.EVENTS_UPDATE]:"Etkinlik GÃ¼ncelleme",[P.EVENTS_DELETE]:"Etkinlik Silme",[P.MESSAGING_READ]:"MesajlarÄ± GÃ¶rÃ¼ntÃ¼leme",[P.MESSAGING_SEND]:"Mesaj GÃ¶nderme",[P.MESSAGING_BULK]:"Toplu Mesaj GÃ¶nderme",[P.FINANCIAL_READ]:"FinansÄ± GÃ¶rÃ¼ntÃ¼leme",[P.FINANCIAL_CREATE]:"Finans KaydÄ± OluÅŸturma",[P.FINANCIAL_UPDATE]:"Finans GÃ¼ncelleme",[P.FINANCIAL_DELETE]:"Finans Silme",[P.PARTNERS_READ]:"Partnerleri GÃ¶rÃ¼ntÃ¼leme",[P.PARTNERS_CREATE]:"Partner OluÅŸturma",[P.PARTNERS_UPDATE]:"Partner GÃ¼ncelleme",[P.PARTNERS_DELETE]:"Partner Silme",[P.REPORTS_READ]:"RaporlarÄ± GÃ¶rÃ¼ntÃ¼leme",[P.REPORTS_EXPORT]:"Rapor DÄ±ÅŸa Aktarma",[P.SETTINGS_READ]:"AyarlarÄ± GÃ¶rÃ¼ntÃ¼leme",[P.SETTINGS_UPDATE]:"AyarlarÄ± GÃ¼ncelleme",[P.STORAGE_READ]:"Depolama GÃ¶rÃ¼ntÃ¼leme",[P.STORAGE_UPLOAD]:"Dosya YÃ¼kleme",[P.STORAGE_DELETE]:"Dosya Silme",[P.SYSTEM_ADMIN]:"Sistem YÃ¶netimi"},xe=v.forwardRef(({className:e,value:a,...l},t)=>o.jsx(y,{ref:t,className:L("relative h-2 w-full overflow-hidden rounded-full bg-slate-100",e),...l,children:o.jsx(N,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a??0)}%)`}})}));xe.displayName=y.displayName;const ge=v.forwardRef(({className:e,variant:a="default",hoverable:l=!1,interactive:t=!1,children:r,...n},i)=>{const s=L("transition-all duration-200","mobile"===a&&"p-3 sm:p-4 md:p-6","compact"===a&&"p-2 sm:p-3","default"===a&&"p-4 sm:p-6",l&&"hover:shadow-lg hover:-translate-y-1",t&&"cursor-pointer hover:bg-neutral-50 active:scale-95",e);return t?o.jsx(oe.div,{ref:i,whileHover:{y:-2,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.98},transition:{type:"spring",damping:25,stiffness:300},children:o.jsx(O,{className:s,...n,children:r})}):o.jsx(O,{ref:i,className:s,...n,children:r})});ge.displayName="ResponsiveCard";const ve=Object.freeze(Object.defineProperty({__proto__:null,FinanceIncomePage:c,default:c},Symbol.toStringTag,{value:"Module"}));class ye{static instance;static getInstance(){return ye.instance||(ye.instance=new ye),ye.instance}constructor(){Z.info("EventsService initialized")}async getEvents(e={}){try{const a=[de.orderDesc("created_at"),de.limit(e.limit||50)];e.type&&a.push(de.equal("type",e.type)),e.status&&a.push(de.equal("status",e.status)),e.startDate&&a.push(de.greaterThanEqualDate("start_date",e.startDate)),e.endDate&&a.push(de.lessThanEqualDate("end_date",e.endDate)),e.offset&&a.push(de.offset(e.offset));const{data:l,error:t}=await V.list(U.EVENTS,a);return t?{data:null,error:"Failed to fetch events",success:!1}:{data:l?.documents?.map(e=>this.mapDocumentToEvent(e))||[],error:null,success:!0}}catch(a){return Z.error("Failed to get events",a),{data:null,error:"Failed to fetch events",success:!1}}}async getEventById(e){try{const{data:a,error:l}=await V.get(U.EVENTS,e);return l||!a?{data:null,error:"Event not found",success:!1}:{data:this.mapDocumentToEvent(a),error:null,success:!0}}catch(a){return Z.error("Failed to get event by ID",a),{data:null,error:"Failed to fetch event",success:!1}}}async createEvent(e){try{const a={title:e.title,description:e.description,start_date:e.startDate,end_date:e.endDate,location:e.location,type:e.type,status:"draft",created_by:"current-user",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{data:l,error:t}=await V.create(U.EVENTS,a,ue.unique());return t||!l?{data:null,error:"Failed to create event",success:!1}:{data:this.mapDocumentToEvent(l),error:null,success:!0}}catch(a){return Z.error("Failed to create event",a),{data:null,error:"Failed to create event",success:!1}}}async updateEvent(e,a){try{const l={...a,updated_at:(new Date).toISOString()},{data:t,error:r}=await V.update(U.EVENTS,e,l);return r||!t?{data:null,error:"Failed to update event",success:!1}:{data:this.mapDocumentToEvent(t),error:null,success:!0}}catch(l){return Z.error("Failed to update event",l),{data:null,error:"Failed to update event",success:!1}}}async deleteEvent(e){try{const{error:a}=await V.delete(U.EVENTS,e);return a?{data:null,error:"Failed to delete event",success:!1}:{data:!0,error:null,success:!0}}catch(a){return Z.error("Failed to delete event",a),{data:null,error:"Failed to delete event",success:!1}}}mapDocumentToEvent(e){return{id:e.$id,title:e.title,description:e.description,startDate:e.start_date,endDate:e.end_date,location:e.location,type:e.type,status:e.status,createdBy:e.created_by,createdAt:e.created_at,updatedAt:e.updated_at}}}const Ne=ye.getInstance(),fe=Object.freeze(Object.defineProperty({__proto__:null,EventsPage:function(){const[e,a]=v.useState("all"),[r,n]=v.useState(!1),[i,s]=v.useState(!1),[c,d]=v.useState(!0),[m,u]=v.useState(null),[h,p]=v.useState({title:"",description:"",date:"",time:"",location:"",max_attendees:0,type:"meeting"}),[x,g]=v.useState([]),y=async()=>{try{d(!0),u(null);const a="all"===e?{}:{type:e},l=await Ne.getEvents(a);l.error?(u("Etkinlikler yÃ¼klenirken hata oluÅŸtu."),Z.error("Error loading events:",l.error)):g(l.data||[])}catch(a){u("Etkinlikler yÃ¼klenirken beklenmeyen bir hata oluÅŸtu."),Z.error("Unexpected error loading events:",a)}finally{d(!1)}};v.useEffect(()=>{y()},[e]);const N=e=>{const a={meeting:{label:"ToplantÄ±",variant:"default"},charity:{label:"HayÄ±r Ä°ÅŸi",variant:"default"},education:{label:"EÄŸitim",variant:"default"},social:{label:"Sosyal",variant:"default"}}[e];return o.jsx(q,{variant:a.variant,children:a.label})},f=()=>{n(!0)},b=e=>{D.success(`Etkinlik detaylarÄ± aÃ§Ä±lÄ±yor: ${e}`)};return o.jsxs("div",{className:"min-h-full space-y-6 bg-gradient-to-br from-neutral-50 via-neutral-100 to-neutral-200 p-6 dark:from-neutral-900 dark:via-neutral-950 dark:to-neutral-950",children:[o.jsxs("div",{className:"flex flex-col space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h1",{className:"flex items-center gap-4 text-2xl font-bold text-neutral-900 dark:text-neutral-50",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-blue-600 shadow-md",children:o.jsx(E,{className:"h-6 w-6 text-white"})}),"Etkinlik Takvimi"]}),o.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Dernek etkinliklerini planlayÄ±n ve takip edin"})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs(Q,{value:e,onValueChange:a,children:[o.jsxs(W,{className:"w-48",children:[o.jsx(F,{className:"mr-2 h-4 w-4"}),o.jsx(X,{})]}),o.jsxs(J,{children:[o.jsx(ee,{value:"all",children:"TÃ¼m Etkinlikler"}),o.jsx(ee,{value:"meeting",children:"ToplantÄ±lar"}),o.jsx(ee,{value:"charity",children:"HayÄ±r Ä°ÅŸleri"}),o.jsx(ee,{value:"education",children:"EÄŸitimler"})]})]}),o.jsx(l,{primaryAction:{label:"Yeni Etkinlik Ekle",icon:o.jsx(k,{className:"h-4 w-4"}),onClick:f}})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsx(t,{title:"Toplam Etkinlik",value:x.length,subtitle:"Bu ay toplam",icon:o.jsx(E,{className:"h-4 w-4"}),color:"blue"}),o.jsx(t,{title:"YaklaÅŸan",value:x.filter(e=>"upcoming"===e.status).length,subtitle:"Bu hafta",icon:o.jsx(B,{className:"h-4 w-4"}),color:"yellow"}),o.jsx(t,{title:"Toplam KatÄ±lÄ±mcÄ±",value:x.reduce((e,a)=>e+a.attendees,0),subtitle:"TÃ¼m etkinlikler",icon:o.jsx(S,{className:"h-4 w-4"}),color:"green"}),o.jsx(t,{title:"Doluluk OranÄ±",value:`%${Math.round(x.reduce((e,a)=>e+a.attendees,0)/x.reduce((e,a)=>e+(a.maxAttendees??0),1)*100)||0}`,subtitle:"Ortalama",icon:o.jsx(M,{className:"h-4 w-4"}),color:"purple"})]}),c?o.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-3",children:[...Array(6)].map((e,a)=>o.jsx(O,{className:"border border-gray-200 shadow-md dark:border-gray-700 dark:bg-gray-900",children:o.jsx(K,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 animate-pulse"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 animate-pulse"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-3 bg-gray-200 rounded w-full animate-pulse"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3 animate-pulse"})]})]})})},a))}):m?o.jsxs("div",{className:"text-center py-12",children:[o.jsxs("div",{className:"text-red-500 mb-4",children:[o.jsx(E,{className:"w-12 h-12 mx-auto mb-3"}),o.jsx("p",{className:"text-sm font-medium",children:m})]}),o.jsx(R,{variant:"outline",size:"sm",onClick:()=>{y()},children:"Tekrar Dene"})]}):x.length>0?o.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-3",children:x.map(e=>o.jsxs(O,{className:"cursor-pointer border border-gray-200 shadow-md transition-all duration-200 hover:shadow-lg hover:-translate-y-1 dark:border-gray-700 dark:bg-gray-900",onClick:()=>{b(e.id)},children:[o.jsx(Y,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsx(z,{className:"flex-1 pr-2 text-lg sm:text-xl",children:e.title}),o.jsx("div",{className:"flex-shrink-0",children:N(e.type)})]})}),o.jsxs(K,{className:"space-y-4",children:[o.jsx("p",{className:"text-sm leading-relaxed text-neutral-600 dark:text-neutral-400",children:e.description}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm sm:grid-cols-2",children:[o.jsxs("div",{className:"flex items-center gap-3 text-neutral-600 dark:text-neutral-400",children:[o.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900",children:o.jsx(E,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:new Date(e.date).toLocaleDateString("tr-TR")}),o.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-500",children:"Tarih"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-neutral-600 dark:text-neutral-400",children:[o.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-green-100 dark:bg-green-900",children:o.jsx(B,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:e.time}),o.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-500",children:"Saat"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-neutral-600 dark:text-neutral-400 sm:col-span-2",children:[o.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-purple-100 dark:bg-purple-900",children:o.jsx(M,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:e.location}),o.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-500",children:"Konum"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-neutral-600 dark:text-neutral-400 sm:col-span-2",children:[o.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-orange-100 dark:bg-orange-900",children:o.jsx(S,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"font-medium",children:[e.attendees," katÄ±lÄ±mcÄ±",e.maxAttendees&&o.jsxs("span",{className:"text-neutral-500 dark:text-neutral-500",children:[" ","/ ",e.maxAttendees," maksimum"]})]}),o.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-500",children:"KatÄ±lÄ±m"})]})]})]}),e.maxAttendees&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-xs text-neutral-600 dark:text-neutral-400",children:[o.jsx("span",{children:"Doluluk OranÄ±"}),o.jsxs("span",{children:[Math.round(e.attendees/e.maxAttendees*100),"%"]})]}),o.jsx("div",{className:"h-2 w-full rounded-full bg-gray-200 dark:bg-gray-700",children:o.jsx("div",{className:"h-2 rounded-full bg-blue-500 transition-all duration-300",style:{width:`${Math.min(e.attendees/e.maxAttendees*100,100)}%`}})})]}),o.jsx(R,{variant:"outline",className:"mt-4 min-h-[44px] w-full border-gray-200 hover:border-gray-300 hover:bg-gray-50 dark:border-gray-700 dark:hover:border-gray-600 dark:hover:bg-gray-800",onClick:a=>{a.stopPropagation(),b(e.id)},children:"DetaylarÄ± GÃ¶rÃ¼ntÃ¼le"})]})]},e.id))}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-2xl bg-gray-100 dark:bg-gray-800 shadow-md",children:o.jsx(E,{className:"h-8 w-8 text-gray-600 dark:text-gray-400"})}),o.jsx("h2",{className:"mb-2 text-xl font-semibold text-neutral-900 dark:text-neutral-50",children:"HenÃ¼z etkinlik bulunmuyor"}),o.jsx("p",{className:"mb-4 text-neutral-600 dark:text-neutral-400",children:"Yeni etkinlikler burada gÃ¶rÃ¼necek."}),o.jsxs(R,{onClick:f,children:[o.jsx(k,{className:"h-4 w-4 mr-2"}),"Ä°lk EtkinliÄŸi OluÅŸtur"]})]}),o.jsxs("div",{className:"py-12 text-center",children:[o.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-2xl bg-blue-600 shadow-lg",children:o.jsx("span",{className:"text-2xl text-white",children:"ðŸ“…"})}),o.jsx("h2",{className:"mb-2 text-xl font-semibold text-neutral-900 dark:text-neutral-50",children:"Etkinlik YÃ¶netimi"}),o.jsx("p",{className:"mb-4 text-neutral-600 dark:text-neutral-400",children:"GeliÅŸmiÅŸ takvim Ã¶zellikleri yakÄ±nda kullanÄ±labilir olacak."}),o.jsx(q,{variant:"secondary",children:"GeliÅŸtiriliyor"})]}),o.jsx(ae,{open:r,onOpenChange:n,children:o.jsxs(le,{className:"max-h-[90vh] overflow-y-auto sm:max-w-[600px]",children:[o.jsxs(te,{children:[o.jsxs(re,{className:"flex items-center gap-2",children:[o.jsx(E,{className:"h-5 w-5"}),"Yeni Etkinlik OluÅŸtur"]}),o.jsx(ne,{children:"Etkinlik detaylarÄ±nÄ± doldurun. Zorunlu alanlarÄ± (*) doldurmanÄ±z gereklidir."})]}),o.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!(h.title&&h.date&&h.time&&h.location))return D.error("Etkinlik adÄ±, tarih, saat ve lokasyon alanlarÄ± zorunludur"),void 0;try{s(!0);const e=await Ne.createEvent({title:h.title,description:h.description,date:h.date,time:h.time,location:h.location,max_attendees:h.max_attendees,type:h.type,status:"upcoming",attendees:0});e.error?D.error(e.error):(D.success("Etkinlik baÅŸarÄ±yla oluÅŸturuldu!"),y()),D.success("Etkinlik baÅŸarÄ±yla oluÅŸturuldu!"),n(!1),p({title:"",description:"",date:"",time:"",location:"",max_attendees:0,type:"meeting"})}catch(a){Z.error("Error creating event:",a),D.error("Etkinlik oluÅŸturulurken hata oluÅŸtu")}finally{s(!1)}},className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ie,{htmlFor:"title",children:["Etkinlik AdÄ± ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(se,{id:"title",value:h.title,onChange:e=>{p({...h,title:e.target.value})},placeholder:"AylÄ±k yÃ¶netim toplantÄ±sÄ±",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"description",children:"AÃ§Ä±klama"}),o.jsx(ce,{id:"description",value:h.description,onChange:e=>{p({...h,description:e.target.value})},placeholder:"Etkinlik hakkÄ±nda detaylÄ± bilgi",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ie,{htmlFor:"date",children:["Tarih ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(se,{id:"date",type:"date",value:h.date,onChange:e=>{p({...h,date:e.target.value})},required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ie,{htmlFor:"time",children:["Saat ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(se,{id:"time",type:"time",value:h.time,onChange:e=>{p({...h,time:e.target.value})},required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ie,{htmlFor:"location",children:["Lokasyon ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(se,{id:"location",value:h.location,onChange:e=>{p({...h,location:e.target.value})},placeholder:"Dernek merkezi, konferans salonu, vb.",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"type",children:"Etkinlik TÃ¼rÃ¼"}),o.jsxs(Q,{value:h.type,onValueChange:e=>{p({...h,type:e})},children:[o.jsx(W,{children:o.jsx(X,{placeholder:"TÃ¼r seÃ§in"})}),o.jsxs(J,{children:[o.jsx(ee,{value:"meeting",children:"ToplantÄ±"}),o.jsx(ee,{value:"charity",children:"HayÄ±r Ä°ÅŸleri"}),o.jsx(ee,{value:"education",children:"EÄŸitim"}),o.jsx(ee,{value:"social",children:"Sosyal"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"max_attendees",children:"Maksimum KatÄ±lÄ±mcÄ±"}),o.jsx(se,{id:"max_attendees",type:"number",value:h.max_attendees||"",onChange:e=>{p({...h,max_attendees:parseInt(e.target.value)||0})},placeholder:"50",min:"0"})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx(R,{type:"button",variant:"outline",onClick:()=>{n(!1)},disabled:i,children:"Ä°ptal"}),o.jsx(R,{type:"submit",disabled:i,children:i?"OluÅŸturuluyor...":"Etkinlik OluÅŸtur"})]})]})]})})]})}},Symbol.toStringTag,{value:"Module"}));export{l as D,fe as E,ve as F,i as M,xe as P,n as R,s as T,a,r as u};

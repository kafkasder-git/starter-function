function e({className:e,variant:a,dismissible:t=!1,onDismiss:l,showIcon:i=!0,actions:r,animated:n=!0,children:s,...d}){const[c,o]=y.useState(!1),[u,m]=y.useState(!1);if(c)return null;const h=Oe[a||"default"];return b.jsxs("div",{"data-slot":"alert",role:"alert","aria-live":"polite","aria-atomic":"true",className:ae(Be({variant:a}),n&&"animate-slide-in",u&&"animate-slide-out opacity-0",t&&"pr-10",e),...d,children:[i&&b.jsx(h,{className:"mt-0.5"}),b.jsx("div",{className:"col-start-2 flex-1",children:s}),t&&b.jsx("button",{type:"button",onClick:()=>{l&&(m(!0),setTimeout(()=>{o(!0),l(),m(!1)},200))},className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground transition-colors","aria-label":"Dismiss alert",children:b.jsx(z,{className:"h-4 w-4"})}),r&&b.jsx("div",{className:"col-start-2 mt-2 flex gap-2",children:r})]})}function a({className:e,...a}){return b.jsx("div",{"data-slot":"alert-title",className:ae("line-clamp-1 min-h-4 font-medium tracking-tight",e),...a})}function t({className:e,...a}){return b.jsx("div",{"data-slot":"alert-description",className:ae("grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed mt-1",e),...a})}function l({...e}){return b.jsx(C,{"data-slot":"alert-dialog",...e})}function i({...e}){return b.jsx(E,{"data-slot":"alert-dialog-portal",...e})}function r({className:e,...a}){return b.jsx(Y,{"data-slot":"alert-dialog-overlay",className:ae("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function n({className:e,...a}){return b.jsxs(i,{children:[b.jsx(r,{}),b.jsx(D,{"data-slot":"alert-dialog-content",className:ae("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...a})]})}function s({className:e,...a}){return b.jsx("div",{"data-slot":"alert-dialog-header",className:ae("flex flex-col gap-2 text-center sm:text-left",e),...a})}function d({className:e,...a}){return b.jsx("div",{"data-slot":"alert-dialog-footer",className:ae("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...a})}function c({className:e,...a}){return b.jsx($,{"data-slot":"alert-dialog-title",className:ae("text-lg font-semibold",e),...a})}function o({className:e,...a}){return b.jsx(U,{"data-slot":"alert-dialog-description",className:ae("text-muted-foreground text-sm",e),...a})}function u({className:e,...a}){return b.jsx(S,{className:ae(ne(),e),...a})}function m({className:e,...a}){return b.jsx(j,{className:ae(ne({variant:"outline"}),e),...a})}function h({...e}){return b.jsx(P,{"data-slot":"dropdown-menu",...e})}function g({...e}){return b.jsx(B,{"data-slot":"dropdown-menu-trigger",...e})}function p({className:e,sideOffset:a=4,...t}){return b.jsx(O,{children:b.jsx(L,{"data-slot":"dropdown-menu-content",sideOffset:a,className:ae("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...t})})}function v({className:e,inset:a,variant:t="default",...l}){return b.jsx(T,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":t,className:ae("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...l})}function f({className:e,inset:a,...t}){return b.jsx(F,{"data-slot":"dropdown-menu-label","data-inset":a,className:ae("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...t})}function N({className:e,...a}){return b.jsx(M,{"data-slot":"dropdown-menu-separator",className:ae("bg-border -mx-1 my-1 h-px",e),...a})}function x(){return{toast:Pe,success:(e,a)=>{Pe.success(e,{description:a})},error:(e,a)=>{Pe.error(e,{description:a})},warning:(e,a)=>{Pe.warning(e,{description:a})},info:(e,a)=>{Pe.info(e,{description:a})}}}function w(){const[a,i]=y.useState([]),[r,h]=y.useState({total:0,active:0,inactive:0,suspended:0,new_this_month:0}),[g,p]=y.useState(!0),[v,f]=y.useState(null),[N,w]=y.useState(!1),[k,_]=y.useState(),[A,C]=y.useState(null),[D,$]=y.useState(""),{toast:U}=x(),j=async()=>{try{p(!0);const e=await Le.getUsers();i(e.users),h(e.stats)}catch(e){f(e instanceof Error?e.message:"Kullanıcılar yüklenirken hata oluştu")}finally{p(!1)}},S=a.filter(e=>e.email.toLowerCase().includes(D.toLowerCase())||e.full_name?.toLowerCase().includes(D.toLowerCase())||e.organization?.toLowerCase().includes(D.toLowerCase()));return y.useEffect(()=>{j()},[]),g?b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Array.from({length:5}).map((e,a)=>b.jsx(se,{children:b.jsx(de,{className:"p-4",children:b.jsx(ce,{className:"h-16 w-full"})})},a))}),b.jsxs(se,{children:[b.jsx(oe,{children:b.jsx(ce,{className:"h-6 w-32"})}),b.jsx(de,{children:b.jsx(ce,{className:"h-64 w-full"})})]})]}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold",children:"Kullanıcı Yönetimi"}),b.jsx("p",{className:"text-gray-600",children:"Sistem kullanıcılarını yönetin"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs(ue,{variant:"outline",onClick:j,children:[b.jsx(R,{className:"h-4 w-4 mr-2"}),"Yenile"]}),b.jsxs(me,{open:N,onOpenChange:w,children:[b.jsx(he,{asChild:!0,children:b.jsxs(ue,{onClick:()=>{_(void 0)},children:[b.jsx(q,{className:"h-4 w-4 mr-2"}),"Yeni Kullanıcı"]})}),b.jsxs(ge,{className:"max-w-2xl",children:[b.jsxs(pe,{children:[b.jsx(ve,{children:k?"Kullanıcı Düzenle":"Yeni Kullanıcı"}),b.jsx(fe,{children:k?"Kullanıcı bilgilerini güncelleyin":"Yeni kullanıcı oluşturun"})]}),b.jsx(Me,{user:k,onSubmit:async e=>{try{k?(await Le.updateUser(k.id,e),U({title:"Kullanıcı güncellendi"})):(await Le.createUser(e),U({title:"Kullanıcı oluşturuldu"})),w(!1),_(void 0),await j()}catch(a){f(a instanceof Error?a.message:"Kullanıcı kaydedilirken hata oluştu")}},onCancel:()=>{w(!1)},isLoading:!1})]})]})]})]}),v&&b.jsxs(e,{variant:"destructive",children:[b.jsx(K,{className:"h-4 w-4"}),b.jsxs(t,{className:"flex items-center justify-between",children:[v,b.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>{f(null)},children:b.jsx(z,{className:"h-4 w-4"})})]})]}),b.jsx(Te,{stats:r}),b.jsx(se,{children:b.jsx(de,{className:"p-4",children:b.jsx("div",{className:"flex items-center gap-4",children:b.jsxs("div",{className:"relative flex-1",children:[b.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),b.jsx(Ne,{placeholder:"Kullanıcı ara...",value:D,onChange:e=>{$(e.target.value)},className:"pl-10"})]})})})}),b.jsx(Fe,{users:S,onEdit:e=>{_(e),w(!0)},onDelete:C,onToggleStatus:async(e,a)=>{try{await Le.updateUserStatus(e,a),U({title:"Kullanıcı durumu güncellendi"}),await j()}catch(t){f(t instanceof Error?t.message:"Durum güncellenirken hata oluştu")}}}),b.jsx(l,{open:Boolean(A),onOpenChange:()=>{C(null)},children:b.jsxs(n,{children:[b.jsxs(s,{children:[b.jsx(c,{children:"Kullanıcıyı Sil"}),b.jsx(o,{children:"Bu kullanıcıyı silmek istediğinizden emin misiniz? Bu işlem geri alınamaz."})]}),b.jsxs(d,{children:[b.jsx(m,{children:"İptal"}),b.jsx(u,{onClick:()=>A&&(async e=>{try{await Le.deleteUser(e),U({title:"Kullanıcı silindi"}),C(null),await j()}catch(a){f(a instanceof Error?a.message:"Kullanıcı silinirken hata oluştu")}})(A),className:"bg-red-600 hover:bg-red-700",children:"Sil"})]})]})})]})}import{r as y,j as b,I as k,p as K,a0 as _,a8 as A,X as z,aX as C,aY as D,aZ as $,a_ as U,a$ as j,b0 as S,b1 as E,b2 as Y,b3 as P,b4 as B,b5 as O,b6 as L,b7 as T,b8 as F,b9 as M,ba as R,aa as q,l as I,$ as V,bb as G,bc as H,q as J,ab as Q,aT as W,a7 as X,i as Z}from"./react-vendor-Zi_jsHoK.js";import{a as ee}from"./utils-vendor-CH-VcvGo.js";import{g as ae,l as te,h as le,i as ie,w as re,G as ne,C as se,e as de,J as ce,a as oe,B as ue,o as me,K as he,p as ge,q as pe,r as ve,s as fe,I as Ne,t as xe,S as we,j as ye,k as be,m as ke,n as Ke,b as _e,M as Ae,N as ze,O as Ce,Q as De,V as $e,W as Ue,f as je}from"./beneficiaries-page-CkZlrYV8.js";import{A as Se,a as Ee,b as Ye}from"./messaging-page-BEU6nUaR.js";import{t as Pe}from"./toast-vendor-Ci27VDWJ.js";const Be=ee("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current transition-all duration-200",{variants:{variant:{default:"bg-card text-card-foreground border-border",destructive:"text-destructive bg-destructive/10 border-destructive/20 [&>svg]:text-destructive *:data-[slot=alert-description]:text-destructive/90",success:"text-success bg-success/10 border-success/20 [&>svg]:text-success *:data-[slot=alert-description]:text-success/90",warning:"text-warning bg-warning/10 border-warning/20 [&>svg]:text-warning *:data-[slot=alert-description]:text-warning/90",info:"text-info bg-info/10 border-info/20 [&>svg]:text-info *:data-[slot=alert-description]:text-info/90"}},defaultVariants:{variant:"default"}}),Oe={default:A,destructive:A,success:_,warning:K,info:k},Le={async getUsers(e){try{te.info("🔍 Kullanıcılar getiriliyor:",e);const a=[];e.search&&a.push(re.search("name",e.search)),e.role&&a.push(re.equal("role",e.role)),e.status&&a.push(re.equal("status",e.status)),e.email&&a.push(re.search("email",e.email));const t=e.sortBy||"created_at",l=e.sortDirection||"desc";a.push(re.order(l,t));const i=e.page||1,r=e.limit||10,n=(i-1)*r;a.push(re.offset(n)),a.push(re.limit(r));const{data:s,error:d}=await le.list(ie.USERS,a);if(d)return te.error("❌ Kullanıcılar getirilemedi:",d),{users:[],total:0,page:1,limit:10,totalPages:0};const c=s?.documents?.map(e=>({id:e.$id,name:e.name,email:e.email,role:e.role||"viewer",status:e.status||"active",createdAt:e.$createdAt,updatedAt:e.$updatedAt,lastLogin:e.last_login,avatar:e.avatar,phone:e.phone,department:e.department,permissions:e.permissions||[]}))||[],{data:o}=await le.list(ie.USERS,[re.limit(1)]),u=o?.total||0,m=Math.ceil(u/r);return te.info(`✅ ${c.length} kullanıcı getirildi`),{users:c,total:u,page:i,limit:r,totalPages:m}}catch(a){return te.error("❌ Kullanıcılar getirilirken hata:",a),{users:[],total:0,page:1,limit:10,totalPages:0}}},async createUser(e){try{te.info("👤 Yeni kullanıcı oluşturuluyor:",e.email);const a={name:e.name,email:e.email,phone:e.phone,role:e.role||"viewer",status:e.status||"active",department:e.department,permissions:e.permissions||[],avatar:e.avatar,created_by:"current-user",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{data:t,error:l}=await le.create(ie.USERS,a);if(l||!t)throw te.error("❌ Kullanıcı oluşturulamadı:",l),new Error(`Kullanıcı oluşturulamadı: ${l?.message||"Bilinmeyen hata"}`);const i={id:t.$id,name:t.name,email:t.email,role:t.role,status:t.status,createdAt:t.$createdAt,updatedAt:t.$updatedAt,lastLogin:null,avatar:t.avatar,phone:t.phone,department:t.department,permissions:t.permissions||[]};return te.info(`✅ Kullanıcı oluşturuldu: ${i.name} (${i.email})`),i}catch(a){throw te.error("❌ Kullanıcı oluşturulurken hata:",a),a}},async updateUser(e,a){try{te.info(`✏️ Kullanıcı güncelleniyor: ${e}`);const t={updated_at:(new Date).toISOString()};void 0!==a.name&&(t.name=a.name),void 0!==a.email&&(t.email=a.email),void 0!==a.phone&&(t.phone=a.phone),void 0!==a.role&&(t.role=a.role),void 0!==a.status&&(t.status=a.status),void 0!==a.department&&(t.department=a.department),void 0!==a.permissions&&(t.permissions=a.permissions),void 0!==a.avatar&&(t.avatar=a.avatar);const{data:l,error:i}=await le.update(ie.USERS,e,t);if(i||!l)throw te.error("❌ Kullanıcı güncellenemedi:",i),new Error(`Kullanıcı güncellenemedi: ${i?.message||"Bilinmeyen hata"}`);const r={id:l.$id,name:l.name,email:l.email,role:l.role,status:l.status,createdAt:l.$createdAt,updatedAt:l.$updatedAt,lastLogin:l.last_login,avatar:l.avatar,phone:l.phone,department:l.department,permissions:l.permissions||[]};return te.info(`✅ Kullanıcı güncellendi: ${r.name}`),r}catch(t){throw te.error("❌ Kullanıcı güncellenirken hata:",t),t}},async deleteUser(e){try{te.info(`🗑️ Kullanıcı siliniyor: ${e}`);const{error:a}=await le.update(ie.USERS,e,{status:"deleted",deleted_at:(new Date).toISOString(),updated_at:(new Date).toISOString()});if(a)throw te.error("❌ Kullanıcı silinemedi:",a),new Error(`Kullanıcı silinemedi: ${a.message}`);te.info(`✅ Kullanıcı silindi: ${e}`)}catch(a){throw te.error("❌ Kullanıcı silinirken hata:",a),a}},async resetUserPassword(e,a){try{te.info(`🔐 Kullanıcı şifresi sıfırlanıyor: ${e}`);const{error:a}=await le.update(ie.USERS,e,{password_reset_required:!0,password_reset_token:`reset_${Date.now()}`,updated_at:(new Date).toISOString()});if(a)throw te.error("❌ Şifre sıfırlama ayarlanamadı:",a),new Error(`Şifre sıfırlama ayarlanamadı: ${a.message}`);te.info(`✅ Şifre sıfırlama ayarlandı: ${e}`)}catch(t){throw te.error("❌ Şifre sıfırlanırken hata:",t),t}},async getUserActivities(e,a=50){try{te.info(`📋 Kullanıcı aktiviteleri getiriliyor: ${e}`);const{data:t,error:l}=await le.list(ie.USER_ACTIVITIES,[re.equal("user_id",e),re.order("desc","created_at"),re.limit(a)]);if(l)return te.error("❌ Kullanıcı aktiviteleri getirilemedi:",l),[];const i=t?.documents?.map(e=>({id:e.$id,userId:e.user_id,action:e.action,description:e.description,ipAddress:e.ip_address,userAgent:e.user_agent,timestamp:e.created_at,metadata:e.metadata||{}}))||[];return te.info(`✅ ${i.length} aktivite getirildi`),i}catch(t){return te.error("❌ Kullanıcı aktiviteleri getirilirken hata:",t),[]}},async getUserStats(){try{te.info("📊 Kullanıcı istatistikleri getiriliyor");const{data:e}=await le.list(ie.USERS,[re.limit(1)]),{data:a}=await le.list(ie.USERS,[re.equal("status","active"),re.limit(1)]),t=["admin","manager","operator","viewer"],l={};for(const s of t){const{data:e}=await le.list(ie.USERS,[re.equal("role",s),re.limit(1)]);l[s]=e?.total||0}const i=new Date;i.setDate(i.getDate()-30);const{data:r}=await le.list(ie.USERS,[re.greaterThanEqual("created_at",i.toISOString()),re.limit(1)]),n={totalUsers:e?.total||0,activeUsers:a?.total||0,inactiveUsers:(e?.total||0)-(a?.total||0),roleDistribution:l,recentRegistrations:r?.total||0,lastUpdated:(new Date).toISOString()};return te.info("✅ Kullanıcı istatistikleri hazırlandı"),n}catch(e){return te.error("❌ Kullanıcı istatistikleri getirilirken hata:",e),{totalUsers:0,activeUsers:0,inactiveUsers:0,roleDistribution:{},recentRegistrations:0,lastUpdated:(new Date).toISOString(),error:"İstatistikler alınamadı"}}},async getUserById(e){try{te.info(`👤 Kullanıcı detayları getiriliyor: ${e}`);const{data:a,error:t}=await le.get(ie.USERS,e);if(t||!a)return te.error("❌ Kullanıcı bulunamadı:",t),{data:null,error:t?.message||"Kullanıcı bulunamadı"};const l={id:a.$id,name:a.name,email:a.email,role:a.role,status:a.status,createdAt:a.$createdAt,updatedAt:a.$updatedAt,lastLogin:a.last_login,avatar:a.avatar,phone:a.phone,department:a.department,permissions:a.permissions||[]};return te.info(`✅ Kullanıcı detayları getirildi: ${l.name}`),{data:l,error:null}}catch(a){return te.error("❌ Kullanıcı detayları getirilirken hata:",a),{data:null,error:"Kullanıcı detayları alınamadı"}}}},Te=({stats:e})=>e?b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[b.jsx(se,{children:b.jsx(de,{className:"p-4",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:b.jsx(V,{className:"h-5 w-5 text-blue-600"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Toplam"}),b.jsx("p",{className:"text-xl font-bold",children:e.total})]})]})})}),b.jsx(se,{children:b.jsx(de,{className:"p-4",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:b.jsx(G,{className:"h-5 w-5 text-green-600"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Aktif"}),b.jsx("p",{className:"text-xl font-bold",children:e.active})]})]})})}),b.jsx(se,{children:b.jsx(de,{className:"p-4",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:b.jsx(H,{className:"h-5 w-5 text-gray-600"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Pasif"}),b.jsx("p",{className:"text-xl font-bold",children:e.inactive})]})]})})}),b.jsx(se,{children:b.jsx(de,{className:"p-4",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:b.jsx(J,{className:"h-5 w-5 text-red-600"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Askıya Alınmış"}),b.jsx("p",{className:"text-xl font-bold",children:e.suspended})]})]})})}),b.jsx(se,{children:b.jsx(de,{className:"p-4",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:b.jsx(Q,{className:"h-5 w-5 text-purple-600"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Bu Ay Yeni"}),b.jsx("p",{className:"text-xl font-bold",children:e.new_this_month})]})]})})})]}):b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[...Array(5)].map((e,a)=>b.jsx(se,{children:b.jsx(de,{className:"p-4",children:b.jsxs("div",{className:"animate-pulse",children:[b.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),b.jsx("div",{className:"h-6 bg-gray-200 rounded"})]})})},a))}),Fe=({users:e,onEdit:a,onDelete:t,onToggleStatus:l})=>b.jsxs(se,{children:[b.jsx(oe,{children:b.jsx(_e,{children:"Kullanıcı Listesi"})}),b.jsx(de,{children:b.jsxs(Ae,{children:[b.jsx(ze,{children:b.jsxs(Ce,{children:[b.jsx(De,{children:"Kullanıcı"}),b.jsx(De,{children:"Rol"}),b.jsx(De,{children:"Durum"}),b.jsx(De,{children:"Son Giriş"}),b.jsx(De,{className:"text-right",children:"İşlemler"})]})}),b.jsx($e,{children:e.map(e=>b.jsxs(Ce,{children:[b.jsx(Ue,{children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs(Se,{className:"h-8 w-8",children:[b.jsx(Ee,{src:e.avatar_url}),b.jsx(Ye,{children:e.full_name?.charAt(0)??e.email.charAt(0).toUpperCase()})]}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium",children:e.full_name??"İsimsiz"}),b.jsx("p",{className:"text-sm text-gray-500",children:e.email})]})]})}),b.jsx(Ue,{children:b.jsx(je,{variant:"admin"===e.role?"destructive":"secondary",children:"admin"===e.role?"Yönetici":"moderator"===e.role?"Moderatör":"Kullanıcı"})}),b.jsx(Ue,{children:b.jsx(je,{variant:"active"===e.status?"default":"secondary",children:"active"===e.status?"Aktif":"inactive"===e.status?"Pasif":"Askıya Alınmış"})}),b.jsx(Ue,{children:e.last_sign_in_at?new Date(e.last_sign_in_at).toLocaleDateString("tr-TR"):"Hiç giriş yapmamış"}),b.jsx(Ue,{className:"text-right",children:b.jsxs(h,{children:[b.jsx(g,{asChild:!0,children:b.jsx(ue,{variant:"ghost",size:"sm",children:b.jsx(W,{className:"h-4 w-4"})})}),b.jsxs(p,{align:"end",children:[b.jsx(f,{children:"İşlemler"}),b.jsxs(v,{onClick:()=>{a(e)},children:[b.jsx(X,{className:"mr-2 h-4 w-4"}),"Düzenle"]}),b.jsx(v,{onClick:()=>{l(e.id,"active"===e.status?"inactive":"active")},children:"active"===e.status?b.jsxs(b.Fragment,{children:[b.jsx(H,{className:"mr-2 h-4 w-4"}),"Pasifleştir"]}):b.jsxs(b.Fragment,{children:[b.jsx(G,{className:"mr-2 h-4 w-4"}),"Aktifleştir"]})}),b.jsx(N,{}),b.jsxs(v,{onClick:()=>{t(e.id)},className:"text-red-600",children:[b.jsx(Z,{className:"mr-2 h-4 w-4"}),"Sil"]})]})]})})]},e.id))})]})})]}),Me=({user:e,onSubmit:a,onCancel:t,isLoading:l})=>{const[i,r]=y.useState({email:e?.email??"",full_name:e?.full_name??"",role:e?.role??"user",status:e?.status??"active",phone:e?.phone??"",organization:e?.organization??"",permissions:e?.permissions??[]});return b.jsxs("form",{onSubmit:e=>{e.preventDefault(),a(i)},className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx(xe,{htmlFor:"email",children:"E-posta *"}),b.jsx(Ne,{id:"email",type:"email",value:i.email,onChange:e=>{r({...i,email:e.target.value})},required:!0})]}),b.jsxs("div",{children:[b.jsx(xe,{htmlFor:"full_name",children:"Ad Soyad *"}),b.jsx(Ne,{id:"full_name",value:i.full_name,onChange:e=>{r({...i,full_name:e.target.value})},required:!0})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx(xe,{htmlFor:"role",children:"Rol"}),b.jsxs(we,{value:i.role,onValueChange:e=>{r({...i,role:e})},children:[b.jsx(ye,{children:b.jsx(be,{})}),b.jsxs(ke,{children:[b.jsx(Ke,{value:"user",children:"Kullanıcı"}),b.jsx(Ke,{value:"moderator",children:"Moderatör"}),b.jsx(Ke,{value:"admin",children:"Yönetici"})]})]})]}),b.jsxs("div",{children:[b.jsx(xe,{htmlFor:"status",children:"Durum"}),b.jsxs(we,{value:i.status,onValueChange:e=>{r({...i,status:e})},children:[b.jsx(ye,{children:b.jsx(be,{})}),b.jsxs(ke,{children:[b.jsx(Ke,{value:"active",children:"Aktif"}),b.jsx(Ke,{value:"inactive",children:"Pasif"}),b.jsx(Ke,{value:"suspended",children:"Askıya Alınmış"})]})]})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx(xe,{htmlFor:"phone",children:"Telefon"}),b.jsx(Ne,{id:"phone",value:i.phone,onChange:e=>{r({...i,phone:e.target.value})}})]}),b.jsxs("div",{children:[b.jsx(xe,{htmlFor:"organization",children:"Kurum"}),b.jsx(Ne,{id:"organization",value:i.organization,onChange:e=>{r({...i,organization:e.target.value})}})]})]}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx(ue,{type:"button",variant:"outline",onClick:t,children:"İptal"}),b.jsx(ue,{type:"submit",disabled:l,children:l?"Kaydediliyor...":e?"Güncelle":"Oluştur"})]})]})},Re=Object.freeze(Object.defineProperty({__proto__:null,UserManagementPageReal:w,default:w},Symbol.toStringTag,{value:"Module"}));export{e as A,h as D,Re as U,g as a,p as b,v as c,f as d,N as e,t as f,Le as g,a as h,x as u};

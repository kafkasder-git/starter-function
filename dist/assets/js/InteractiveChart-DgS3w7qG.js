import{r as e,bw as a,al as r,bx as s,j as t,a1 as l,a2 as i,by as n}from"./react-vendor-Zi_jsHoK.js";import{C as c,a as d,b as o,e as h,B as m,f as u}from"./beneficiaries-page-CkZlrYV8.js";import{R as v,L as y,C as p,X as g,Y as b,T as f,a as N,P as x,b as k,c as w,B as j,d as $,A as C,e as K}from"./recharts-vendor-CZVoIEH2.js";import"./ui-vendor-f6_gbUtQ.js";import"./utils-vendor-CH-VcvGo.js";import"./toast-vendor-Ci27VDWJ.js";import"./appwrite-vendor-Ct7vfU_L.js";import"./motion-vendor-iBxafAnt.js";const D=["hsl(var(--primary-500))","hsl(var(--success-500))","hsl(var(--warning-500))","hsl(var(--error-500))","hsl(var(--info-500))","hsl(var(--primary-600))"],A=e.memo(({active:e,payload:a,label:r})=>e&&a?.length?t.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-xl border border-gray-200/50 backdrop-blur-sm",children:[t.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:r}),a.map((e,a)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),t.jsxs("span",{className:"text-sm text-gray-600",children:[e.name,": ",t.jsx("span",{className:"font-medium text-gray-900",children:e.value})]})]},a))]}):null),W=e.memo(({title:W,description:z,data:R,type:B="line",height:P=300,color:_="hsl(var(--primary-500))",showControls:E=!0,showExport:G=!0,className:I="",loading:L=!1})=>{const[M,O]=e.useState(B),[T,U]=e.useState(!1),X=e.useMemo(()=>[{key:"line",icon:a,label:"Çizgi"},{key:"area",icon:r,label:"Alan"},{key:"bar",icon:r,label:"Çubuk"},{key:"pie",icon:s,label:"Pasta"}],[]),Y=e.useMemo(()=>R&&0!==R.length?R.map(e=>({...e,value:"number"==typeof e.value?e.value:0})):[],[R]),q=e.useCallback(e=>{O(e)},[]),F=e.useCallback(()=>{U(e=>!e)},[]),H=e.useMemo(()=>{if(L)return t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"animate-pulse space-y-4 w-full",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"space-y-2",children:[...Array(6)].map((e,a)=>t.jsx("div",{className:"h-3 bg-gray-200 rounded",style:{width:60+40*Math.random()+"%"}},a))})]})});const e={data:Y,margin:{top:20,right:30,left:20,bottom:20}};switch(M){case"area":return t.jsx(v,{width:"100%",height:"100%",children:t.jsxs(C,{...e,children:[t.jsx(p,{strokeDasharray:"3 3",stroke:"hsl(var(--neutral-200))"}),t.jsx(g,{dataKey:"name",stroke:"hsl(var(--neutral-600))"}),t.jsx(b,{stroke:"#666"}),t.jsx(f,{content:t.jsx(A,{})}),t.jsx(K,{type:"monotone",dataKey:"value",stroke:_,fill:_,fillOpacity:.3,strokeWidth:2})]})});case"bar":return t.jsx(v,{width:"100%",height:"100%",children:t.jsxs(j,{...e,children:[t.jsx(p,{strokeDasharray:"3 3",stroke:"hsl(var(--neutral-200))"}),t.jsx(g,{dataKey:"name",stroke:"hsl(var(--neutral-600))"}),t.jsx(b,{stroke:"#666"}),t.jsx(f,{content:t.jsx(A,{})}),t.jsx($,{dataKey:"value",fill:_,radius:[4,4,0,0]})]})});case"pie":return t.jsx(v,{width:"100%",height:"100%",children:t.jsxs(x,{children:[t.jsx(k,{data:Y,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:e,value:a})=>`${e}: ${a}`,children:Y.map((e,a)=>t.jsx(w,{fill:D[a%D.length]},`cell-${a}`))}),t.jsx(f,{content:t.jsx(A,{})})]})});default:return t.jsx(v,{width:"100%",height:"100%",children:t.jsxs(y,{...e,children:[t.jsx(p,{strokeDasharray:"3 3",stroke:"hsl(var(--neutral-200))"}),t.jsx(g,{dataKey:"name",stroke:"hsl(var(--neutral-600))"}),t.jsx(b,{stroke:"#666"}),t.jsx(f,{content:t.jsx(A,{})}),t.jsx(N,{type:"monotone",dataKey:"value",stroke:_,strokeWidth:2,dot:{fill:_,strokeWidth:2,r:4},activeDot:{r:6,stroke:_,strokeWidth:2}})]})})}},[L,Y,M,_]);return L||Y.length?t.jsx("div",{className:`w-full ${I}`,children:t.jsxs(c,{className:"shadow-lg border-none bg-white/80 backdrop-blur-sm",children:[t.jsxs(d,{className:"pb-4",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsxs(o,{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[W,t.jsx(l,{className:"w-4 h-4 text-emerald-500"})]}),z&&t.jsx("p",{className:"text-sm text-gray-600",children:z})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[G&&t.jsxs(m,{variant:"outline",size:"sm",onClick:()=>{const e=`data:text/csv;charset=utf-8,Ad,Değer\n${Y.map(e=>`${e.name},${e.value}`).join("\n")}`,a=encodeURI(e),r=document.createElement("a");r.setAttribute("href",a),r.setAttribute("download",`${W.toLowerCase().replace(/\s+/g,"_")}_data.csv`),document.body.appendChild(r),r.click(),document.body.removeChild(r)},className:"h-8 px-3",children:[t.jsx(i,{className:"w-3 h-3 mr-1"}),"Dışa Aktar"]}),t.jsx(m,{variant:"outline",size:"sm",onClick:F,className:"h-8 px-3",children:t.jsx(n,{className:"w-3 h-3"})})]})]}),E&&t.jsx("div",{className:"flex items-center gap-2 pt-3",children:X.map(({key:e,icon:a,label:r})=>t.jsxs(u,{variant:M===e?"default":"outline",className:"cursor-pointer transition-all duration-200 hover:scale-105 "+(M===e?"bg-primary text-white":"hover:bg-gray-50"),onClick:()=>{q(e)},children:[t.jsx(a,{className:"w-3 h-3 mr-1"}),r]},e))})]}),t.jsx(h,{className:"pt-0",children:t.jsx("div",{className:"transition-all duration-300",style:{height:T?1.5*P:P},children:H})})]})}):t.jsxs(c,{className:`border border-gray-200 shadow-md ${I}`,children:[t.jsx(d,{children:t.jsx(o,{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:W}),z&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:z})]})})}),t.jsx(h,{children:t.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:t.jsxs("div",{className:"text-center",children:[t.jsx(r,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),t.jsx("p",{className:"text-sm",children:"Görüntülenecek veri yok"})]})})})]})});export{W as InteractiveChart,W as default};

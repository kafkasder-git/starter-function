function e(){return l.jsx(E,{requiredPermission:x.MANAGE_FINANCIAL,children:l.jsx(a,{})})}function a(){const[e,a]=i.useState(Q),[x,E]=i.useState(""),[W,$]=i.useState("all"),[H,J]=i.useState(!1),[U,X]=i.useState({type:"deposit",amount:"",description:"",recipientName:"",recipientId:""}),Z=e.length>0?e[0].balance:0,_=e.filter(e=>new Date(e.date).toDateString()===(new Date).toDateString()),ee=_.filter(e=>"deposit"===e.type).reduce((e,a)=>e+a.amount,0),ae=_.filter(e=>"withdrawal"===e.type).reduce((e,a)=>e+a.amount,0),le=e.filter(e=>{const a=e.description.toLowerCase().includes(x.toLowerCase())||e.reference.toLowerCase().includes(x.toLowerCase())||e.operator.toLowerCase().includes(x.toLowerCase())||e.recipientName?.toLowerCase().includes(x.toLowerCase())||e.recipientId?.includes(x),l="all"===W||e.type===W;return a&&l});return l.jsx(g,{title:"Nakdi Yardım Veznesi",subtitle:"Nakdi yardım kasasını yönetin ve işlemleri takip edin",actions:l.jsxs(D,{open:H,onOpenChange:J,children:[l.jsx(G,{asChild:!0,children:l.jsxs(K,{children:[l.jsx(u,{className:"w-4 h-4 mr-2"}),"Yeni İşlem"]})}),l.jsxs(L,{className:"sm:max-w-md",children:[l.jsx(O,{children:l.jsx(S,{children:"Yeni Vezne İşlemi"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"transaction-type",children:"İşlem Türü"}),l.jsxs(y,{value:U.type,onValueChange:e=>{X(a=>({...a,type:e}))},children:[l.jsx(k,{children:l.jsx(T,{})}),l.jsxs(C,{children:[l.jsx(j,{value:"deposit",children:"Para Yatırma"}),l.jsx(j,{value:"withdrawal",children:"Para Çekme"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"amount",children:"Tutar (TL)"}),l.jsx(b,{id:"amount",type:"number",placeholder:"0.00",value:U.amount,onChange:e=>{X(a=>({...a,amount:e.target.value}))}})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"description",children:"Açıklama"}),l.jsx(M,{id:"description",placeholder:"İşlem açıklaması...",value:U.description,onChange:e=>{X(a=>({...a,description:e.target.value}))}})]}),"withdrawal"===U.type&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"recipient-name",children:"Alıcı Adı"}),l.jsx(b,{id:"recipient-name",placeholder:"Yardım alan kişinin adı",value:U.recipientName,onChange:e=>{X(a=>({...a,recipientName:e.target.value}))}})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(q,{htmlFor:"recipient-id",children:"TC Kimlik No"}),l.jsx(b,{id:"recipient-id",placeholder:"12345678901",value:U.recipientId,onChange:e=>{X(a=>({...a,recipientId:e.target.value}))}})]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(K,{variant:"outline",onClick:()=>{J(!1)},children:"İptal"}),l.jsx(K,{onClick:()=>{if(!U.amount||!U.description)return v.error("Lütfen tüm alanları doldurun"),void 0;const l=parseFloat(U.amount);if(l<=0)return v.error("Geçerli bir tutar girin"),void 0;if("withdrawal"===U.type&&l>Z)return v.error("Yetersiz bakiye"),void 0;const i="deposit"===U.type?Z+l:Z-l,r={id:Date.now(),type:U.type,amount:l,date:(new Date).toISOString().slice(0,16).replace("T"," "),description:U.description,reference:`VLT-2024-${String(e.length+1).padStart(3,"0")}`,operator:"Admin Yöneticisi",recipientName:"withdrawal"===U.type?U.recipientName:void 0,recipientId:"withdrawal"===U.type?U.recipientId:void 0,approvedBy:"Sistem",balance:i};a(e=>[r,...e.map(e=>({...e,balance:e.balance+("deposit"===U.type?l:-l)}))]),X({type:"deposit",amount:"",description:"",recipientName:"",recipientId:""}),J(!1),v.success(("deposit"===U.type?"Para yatırma":"Para çekme")+" işlemi başarıyla kaydedildi")},children:"İşlemi Kaydet"})]})]})]})]}),children:l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsx(f,{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white",children:l.jsx(w,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-100 mb-2",children:"Güncel Kasa Bakiyesi"}),l.jsxs("p",{className:"text-4xl font-bold",children:["₺",Z.toLocaleString("tr-TR")]})]}),l.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:l.jsx(r,{className:"w-8 h-8"})})]})})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(f,{children:l.jsx(w,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:l.jsx(s,{className:"w-5 h-5 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Bugün Giren"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["₺",ee.toLocaleString("tr-TR")]})]})]})})}),l.jsx(f,{children:l.jsx(w,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:l.jsx(n,{className:"w-5 h-5 text-red-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Bugün Çıkan"}),l.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["₺",ae.toLocaleString("tr-TR")]})]})]})})}),l.jsx(f,{children:l.jsx(w,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:l.jsx(d,{className:"w-5 h-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Bugün İşlem"}),l.jsx("p",{className:"text-2xl font-bold",children:_.length})]})]})})})]}),l.jsx(f,{children:l.jsx(w,{className:"p-4",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx(b,{placeholder:"İşlem açıklaması, referans no, operatör veya alıcı ile ara...",value:x,onChange:e=>{E(e.target.value)},className:"pl-10"})]})}),l.jsx("div",{className:"flex gap-2",children:l.jsxs(y,{value:W,onValueChange:$,children:[l.jsx(k,{className:"w-40",children:l.jsx(T,{placeholder:"İşlem Türü"})}),l.jsxs(C,{children:[l.jsx(j,{value:"all",children:"Tüm İşlemler"}),l.jsx(j,{value:"deposit",children:"Para Yatırma"}),l.jsx(j,{value:"withdrawal",children:"Para Çekme"})]})]})})]})})}),l.jsxs(f,{children:[l.jsx(P,{children:l.jsxs(Y,{className:"flex items-center gap-2",children:[l.jsx(t,{className:"w-5 h-5 text-blue-600"}),"İşlem Geçmişi (",le.length," işlem)"]})}),l.jsx(w,{children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(B,{children:[l.jsx(A,{children:l.jsxs(F,{children:[l.jsx(R,{children:"Referans"}),l.jsx(R,{children:"Tarih/Saat"}),l.jsx(R,{children:"İşlem Türü"}),l.jsx(R,{children:"Tutar"}),l.jsx(R,{children:"Açıklama"}),l.jsx(R,{children:"Alıcı/Kaynak"}),l.jsx(R,{children:"Operatör"}),l.jsx(R,{children:"Bakiye"}),l.jsx(R,{children:"İşlemler"})]})}),l.jsx(V,{children:le.map(e=>l.jsxs(F,{children:[l.jsx(z,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(m,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{className:"font-mono text-sm",children:e.reference})]})}),l.jsx(z,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(h,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{className:"text-sm",children:e.date})]})}),l.jsx(z,{children:l.jsx("div",{className:"flex items-center gap-2",children:"deposit"===e.type?l.jsxs(l.Fragment,{children:[l.jsx(s,{className:"w-4 h-4 text-green-600"}),l.jsx(I,{className:"bg-green-100 text-green-800",children:"Para Yatırma"})]}):l.jsxs(l.Fragment,{children:[l.jsx(n,{className:"w-4 h-4 text-red-600"}),l.jsx(I,{className:"bg-red-100 text-red-800",children:"Para Çekme"})]})})}),l.jsx(z,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(o,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{className:"font-medium "+("deposit"===e.type?"text-green-600":"text-red-600"),children:["deposit"===e.type?"+":"-","₺",e.amount.toLocaleString("tr-TR")]})]})}),l.jsx(z,{children:l.jsx("span",{className:"text-sm",children:e.description})}),l.jsx(z,{children:e.recipientName?l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:e.recipientName}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e.recipientId})]}):l.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),l.jsx(z,{children:l.jsx("span",{className:"text-sm",children:e.operator})}),l.jsx(z,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(p,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{className:"font-medium",children:["₺",e.balance.toLocaleString("tr-TR")]})]})}),l.jsx(z,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(K,{variant:"ghost",size:"sm",children:l.jsx(N,{className:"w-4 h-4"})}),l.jsx(K,{variant:"ghost",size:"sm",children:l.jsx(m,{className:"w-4 h-4"})})]})})]},e.id))})]})})})]})]})})}import{j as l,r as i,bL as r,bM as s,bN as n,bO as d,l as c,ak as t,a5 as m,a9 as h,ap as o,bP as p,E as N,aa as u}from"./react-vendor-Zi_jsHoK.js";import{t as v}from"./toast-vendor-Ci27VDWJ.js";import{P as x,Y as g,C as f,e as w,I as b,S as y,j as k,k as T,m as C,n as j,a as P,b as Y,M as B,N as A,O as F,Q as R,V,W as z,f as I,B as K,o as D,K as G,p as L,q as O,r as S,t as q,v as M}from"./beneficiaries-page-CkZlrYV8.js";import{a as E}from"./events-finance-page-DWyC3OLf.js";import"./ui-vendor-f6_gbUtQ.js";import"./utils-vendor-CH-VcvGo.js";import"./appwrite-vendor-Ct7vfU_L.js";import"./motion-vendor-iBxafAnt.js";const Q=[];export{e as CashAidVaultPage};

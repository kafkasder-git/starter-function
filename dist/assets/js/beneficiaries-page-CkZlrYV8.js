function e(e){return e&&e.t&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a(e){var a,t;return Object.prototype.hasOwnProperty.call(e,"__esModule")?e:("function"==typeof(a=e.default)?(t=function e(){var t=!1;try{t=this instanceof e}catch{}return t?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)},t.prototype=a.prototype):t={},Object.defineProperty(t,"t",{value:!0}),Object.keys(e).forEach(function(a){var r=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,r.get?r:{enumerable:!0,get:function(){return e[a]}})}),t)}function t(...e){return tt(rt(e))}function r({delayDuration:e=0,...a}){return We.jsx(Ze,{"data-slot":"tooltip-provider",delayDuration:e,...a})}function n({...e}){return We.jsx(r,{children:We.jsx(Ke,{"data-slot":"tooltip",...e})})}function i({...e}){return We.jsx(Ge,{"data-slot":"tooltip-trigger",...e})}function s({className:e,sideOffset:a=0,children:r,...n}){return We.jsx(He,{children:We.jsxs(Je,{"data-slot":"tooltip-content",sideOffset:a,className:t("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...n,children:[r,We.jsx(Xe,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function l({className:e,variant:a,size:r,asChild:n=!1,removable:i=!1,onRemove:s,icon:l,dot:o=!1,animated:c=!1,children:d,...u}){const m=n?Qe:"span",[h,p]=qe.useState(!1),f="dot"===a||o;return We.jsxs(m,{"data-slot":"badge",className:t(Et({variant:a,size:r}),c&&"animate-scale-in",h&&"animate-scale-out opacity-0",f&&"w-2 h-2 p-0 rounded-full",e),...u,children:[!f&&l&&We.jsx("span",{className:"flex items-center",children:l}),!f&&d,i&&!f&&We.jsx("button",{type:"button",onClick:()=>{s&&(p(!0),setTimeout(()=>{s(),p(!1)},150))},className:"ml-1 hover:bg-black/10 dark:hover:bg-white/10 rounded-full p-0.5 transition-colors","aria-label":"Remove badge",children:We.jsx(ea,{className:"h-3 w-3"})})]})}function o(e){try{if(e instanceof Date)return lt(e)?e:null;if("string"==typeof e){const a=ot(e);return lt(a)?a:null}if("number"==typeof e){const a=new Date(e);return lt(a)?a:null}return null}catch(a){return Rt.warn("Failed to parse date input",{date:e,error:a}),null}}function c(e,a="short"){try{const t=o(e);return t?it(t,Pt[a]??a,{locale:st}):""}catch(t){return Rt.warn("Failed to format date",{date:e,formatString:a,error:t}),""}}function d(e,a=!1){try{const t=o(e);return t?it(t,a?"HH:mm:ss":"HH:mm",{locale:st}):""}catch(t){return Rt.warn("Failed to format time",{date:e,includeSeconds:a,error:t}),""}}function u(e,a){try{const t=o(e);if(!t)return"";const r={addSuffix:!0,locale:st,...a};return ct(t,r)}catch(t){return Rt.warn("Failed to format relative time",{date:e,options:a,error:t}),""}}function m(e){try{const a=o(e);if(!a)return null;const t=new Date,r=Math.abs(dt(t,a)),n=Math.abs(ut(t,a)),i=Math.abs(mt(t,a));return r<1?1e3:n<1?6e4:i<1?36e5:null}catch(a){return Rt.warn("Failed to calculate update interval",{date:e,error:a}),null}}function h(...e){return tt(rt(e))}function p(e,a){let t;try{t=e()}catch(r){return}return{getItem:e=>{var a;const r=e=>null===e?null:JSON.parse(e,void 0),n=null!=(a=t.getItem(e))?a:null;return n instanceof Promise?n.then(r):r(n)},setItem:(e,a)=>t.setItem(e,JSON.stringify(a,void 0)),removeItem:e=>t.removeItem(e)}}function f(e,...a){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}function g(e){return!!e&&!!e[Se]}function b(e){return!!e&&(y(e)||Array.isArray(e)||!!e[Te]||!!e.constructor?.[Te]||_(e)||k(e))}function y(e){if(!e||"object"!=typeof e)return!1;const a=Ie(e);if(null===a)return!0;const t=Object.hasOwnProperty.call(a,"constructor")&&a.constructor;return t===Object||"function"==typeof t&&Function.toString.call(t)===Oe}function v(e,a){0===x(e)?Reflect.ownKeys(e).forEach(t=>{a(t,e[t],e)}):e.forEach((t,r)=>a(r,t,e))}function x(e){const a=e[Se];return a?a.type_:Array.isArray(e)?1:_(e)?2:k(e)?3:0}function w(e,a){return 2===x(e)?e.has(a):Object.prototype.hasOwnProperty.call(e,a)}function N(e,a,t){const r=x(e);2===r?e.set(a,t):3===r?e.add(t):e[a]=t}function _(e){return e instanceof Map}function k(e){return e instanceof Set}function E(e){return e.copy_||e.base_}function A(e,a){if(_(e))return new Map(e);if(k(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const t=y(e);if(!0===a||"class_only"===a&&!t){const a=Object.getOwnPropertyDescriptors(e);delete a[Se];let t=Reflect.ownKeys(a);for(let r=0;r<t.length;r++){const n=t[r],i=a[n];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(a[n]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[n]})}return Object.create(Ie(e),a)}{const a=Ie(e);if(null!==a&&t)return{...e};const r=Object.create(a);return Object.assign(r,e)}}function T(e,a=!1){return I(e)||g(e)||!b(e)||(x(e)>1&&Object.defineProperties(e,{set:{value:S},add:{value:S},clear:{value:S},delete:{value:S}}),Object.freeze(e),a&&Object.values(e).forEach(e=>T(e,!0))),e}function S(){f(2)}function I(e){return Object.isFrozen(e)}function O(e){const a=Re[e];return a||f(0),a}function R(){return De}function D(e,a){a&&(O("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=a)}function z(e){C(e),e.drafts_.forEach(M),e.drafts_=null}function C(e){e===De&&(De=e.parent_)}function P(e){return De={drafts_:[],parent_:De,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function M(e){const a=e[Se];0===a.type_||1===a.type_?a.revoke_():a.revoked_=!0}function L(e,a){a.unfinalizedDrafts_=a.drafts_.length;const t=a.drafts_[0];return void 0!==e&&e!==t?(t[Se].modified_&&(z(a),f(4)),b(e)&&(e=j(a,e),a.parent_||F(a,e)),a.patches_&&O("Patches").generateReplacementPatches_(t[Se].base_,e,a.patches_,a.inversePatches_)):e=j(a,t,[]),z(a),a.patches_&&a.patchListener_(a.patches_,a.inversePatches_),e!==Ae?e:void 0}function j(e,a,t){if(I(a))return a;const r=a[Se];if(!r)return v(a,(n,i)=>B(e,r,a,n,i,t)),a;if(r.scope_!==e)return a;if(!r.modified_)return F(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let n=a,i=!1;3===r.type_&&(n=new Set(a),a.clear(),i=!0),v(n,(n,s)=>B(e,r,a,n,s,t,i)),F(e,a,!1),t&&e.patches_&&O("Patches").generatePatches_(r,t,e.patches_,e.inversePatches_)}return r.copy_}function B(e,a,t,r,n,i,s){if(g(n)){const s=j(e,n,i&&a&&3!==a.type_&&!w(a.assigned_,r)?i.concat(r):void 0);if(N(t,r,s),!g(s))return;e.canAutoFreeze_=!1}else s&&t.add(n);if(b(n)&&!I(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;j(e,n),a&&a.scope_.parent_||"symbol"==typeof r||!(_(t)?t.has(r):Object.prototype.propertyIsEnumerable.call(t,r))||F(e,n)}}function F(e,a,t=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&T(a,t)}function $(e,a){const t=e[Se];return(t?E(t):e)[a]}function V(e,a){if(!(a in e))return;let t=Ie(e);for(;t;){const e=Object.getOwnPropertyDescriptor(t,a);if(e)return e;t=Ie(t)}}function Y(e){e.modified_||(e.modified_=!0,e.parent_&&Y(e.parent_))}function U(e){e.copy_||(e.copy_=A(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function q(e,a){const t=_(e)?O("MapSet").proxyMap_(e,a):k(e)?O("MapSet").proxySet_(e,a):function(e,a){const t=Array.isArray(e),r={type_:t?1:0,scope_:a?a.scope_:R(),modified_:!1,finalized_:!1,assigned_:{},parent_:a,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=r,i=ze;t&&(n=[r],i=Ce);const{revoke:s,proxy:l}=Proxy.revocable(n,i);return r.draft_=l,r.revoke_=s,l}(e,a);return(a?a.scope_:R()).drafts_.push(t),t}function W(e){return g(e)||f(10),K(e)}function K(e){if(!b(e)||I(e))return e;const a=e[Se];let t;if(a){if(!a.modified_)return a.base_;a.finalized_=!0,t=A(e,a.scope_.immer_.useStrictShallowCopy_)}else t=A(e,!0);return v(t,(e,a)=>{N(t,e,K(a))}),a&&(a.finalized_=!1),t}function G(e,a=""){if(void 0!==import.meta){const t=Jt[e];return"string"==typeof t?t:a}return a}function H(e,a=!1){const t=G(e);return t?"true"===t||"1"===t:a}function J(e,a=0){const t=G(e);if(!t)return a;const r=parseInt(t,10);return isNaN(r)?a:r}function X(e,a){const t=sr[e];return t?.[a]||a}function Z({className:e,variant:a="default",size:r,...n}){return We.jsx("div",{"data-slot":"skeleton",className:t(At({variant:a,size:r}),e),"aria-busy":"true","aria-live":"polite",...n})}function Q({variant:e="table",rows:a=5,className:t=""}){switch(e){case"dashboard":return We.jsxs("div",{className:`space-y-8 ${t}`,children:[We.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:Array.from({length:4}).map((e,a)=>We.jsx(Mt,{className:"border-none shadow-lg",children:We.jsx(Ft,{className:"p-6",children:We.jsxs("div",{className:"flex items-center gap-4",children:[We.jsx(Z,{className:"w-14 h-14 rounded-xl"}),We.jsxs("div",{className:"flex-1 space-y-2",children:[We.jsx(Z,{className:"h-8 w-16"}),We.jsx(Z,{className:"h-4 w-24"})]})]})})},a))}),We.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[We.jsxs(Mt,{className:"lg:col-span-2 border-none shadow-lg",children:[We.jsxs(Lt,{className:"pb-6",children:[We.jsx(Z,{className:"h-6 w-48"}),We.jsx(Z,{className:"h-4 w-32"})]}),We.jsx(Ft,{children:We.jsx(Z,{className:"h-64 w-full rounded-xl"})})]}),We.jsxs(Mt,{className:"border-none shadow-lg",children:[We.jsx(Lt,{className:"pb-6",children:We.jsx(Z,{className:"h-6 w-36"})}),We.jsx(Ft,{className:"space-y-4",children:Array.from({length:5}).map((e,a)=>We.jsxs("div",{className:"flex items-center gap-3",children:[We.jsx(Z,{className:"w-10 h-10 rounded-full"}),We.jsxs("div",{className:"flex-1 space-y-2",children:[We.jsx(Z,{className:"h-4 w-full"}),We.jsx(Z,{className:"h-3 w-24"})]})]},a))})]})]})]});case"table":return We.jsxs(Mt,{className:`border-none shadow-lg ${t}`,children:[We.jsx(Lt,{className:"pb-6",children:We.jsxs("div",{className:"flex justify-between items-center",children:[We.jsxs("div",{className:"space-y-2",children:[We.jsx(Z,{className:"h-6 w-48"}),We.jsx(Z,{className:"h-4 w-64"})]}),We.jsxs("div",{className:"flex gap-3",children:[We.jsx(Z,{className:"h-10 w-24"}),We.jsx(Z,{className:"h-10 w-32"})]})]})}),We.jsx(Ft,{className:"pt-0",children:We.jsxs("div",{className:"space-y-4",children:[We.jsx("div",{className:"grid grid-cols-6 gap-4 pb-4 border-b border-neutral-200",children:Array.from({length:6}).map((e,a)=>We.jsx(Z,{className:"h-4 w-full"},a))}),Array.from({length:a}).map((e,a)=>We.jsx("div",{className:"grid grid-cols-6 gap-4 py-4",children:Array.from({length:6}).map((e,a)=>We.jsx(Z,{className:"h-4 w-full"},a))},a))]})})]});case"cards":return We.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 ${t}`,children:Array.from({length:a}).map((e,a)=>We.jsxs(Mt,{className:"border-none shadow-lg",children:[We.jsx(Lt,{className:"pb-4",children:We.jsxs("div",{className:"flex items-center gap-3",children:[We.jsx(Z,{className:"w-12 h-12 rounded-full"}),We.jsxs("div",{className:"space-y-2 flex-1",children:[We.jsx(Z,{className:"h-5 w-32"}),We.jsx(Z,{className:"h-4 w-24"})]})]})}),We.jsxs(Ft,{className:"space-y-3",children:[We.jsx(Z,{className:"h-4 w-full"}),We.jsx(Z,{className:"h-4 w-3/4"}),We.jsxs("div",{className:"flex gap-2 pt-3",children:[We.jsx(Z,{className:"h-8 w-20"}),We.jsx(Z,{className:"h-8 w-16"})]})]})]},a))});case"detail":return We.jsxs("div",{className:`space-y-8 ${t}`,children:[We.jsxs("div",{className:"flex items-center justify-between",children:[We.jsxs("div",{className:"flex items-center gap-4",children:[We.jsx(Z,{className:"w-12 h-12 rounded-xl"}),We.jsxs("div",{className:"space-y-2",children:[We.jsx(Z,{className:"h-8 w-64"}),We.jsx(Z,{className:"h-4 w-48"})]})]}),We.jsxs("div",{className:"flex gap-3",children:[We.jsx(Z,{className:"h-10 w-24"}),We.jsx(Z,{className:"h-10 w-28"})]})]}),We.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[We.jsx("div",{className:"lg:col-span-2 space-y-6",children:Array.from({length:3}).map((e,a)=>We.jsxs(Mt,{className:"border-none shadow-lg",children:[We.jsx(Lt,{children:We.jsx(Z,{className:"h-6 w-48"})}),We.jsx(Ft,{className:"space-y-4",children:Array.from({length:4}).map((e,a)=>We.jsxs("div",{className:"flex justify-between",children:[We.jsx(Z,{className:"h-4 w-32"}),We.jsx(Z,{className:"h-4 w-24"})]},a))})]},a))}),We.jsx("div",{className:"space-y-6",children:Array.from({length:2}).map((e,a)=>We.jsxs(Mt,{className:"border-none shadow-lg",children:[We.jsx(Lt,{children:We.jsx(Z,{className:"h-5 w-36"})}),We.jsx(Ft,{className:"space-y-3",children:Array.from({length:3}).map((e,a)=>We.jsx(Z,{className:"h-4 w-full"},a))})]},a))})]})]});case"form":return We.jsxs(Mt,{className:`border-none shadow-lg ${t}`,children:[We.jsxs(Lt,{className:"pb-6",children:[We.jsx(Z,{className:"h-6 w-48"}),We.jsx(Z,{className:"h-4 w-64"})]}),We.jsxs(Ft,{className:"space-y-6",children:[We.jsx("div",{className:"grid grid-cols-2 gap-4",children:Array.from({length:4}).map((e,a)=>We.jsxs("div",{className:"space-y-2",children:[We.jsx(Z,{className:"h-4 w-24"}),We.jsx(Z,{className:"h-11 w-full rounded-xl"})]},a))}),We.jsxs("div",{className:"space-y-2",children:[We.jsx(Z,{className:"h-4 w-16"}),We.jsx(Z,{className:"h-24 w-full rounded-xl"})]}),We.jsxs("div",{className:"flex gap-3 pt-4",children:[We.jsx(Z,{className:"h-12 w-24"}),We.jsx(Z,{className:"h-12 w-32"})]})]})]});default:return We.jsx(Z,{className:`h-64 w-full ${t}`})}}function ee({className:e,size:a="default"}){return We.jsx(aa,{className:t(Tt({variant:"primary",size:a}),e)})}function ae(){return We.jsx("div",{className:"flex items-center justify-center min-h-[400px] bg-gradient-to-br from-neutral-50/50 to-info-50/30",children:We.jsxs(Nt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-6",children:[We.jsxs("div",{className:"relative",children:[We.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-info-500 to-info-600 rounded-2xl flex items-center justify-center shadow-lg",children:We.jsx(ra,{className:"w-8 h-8 text-white"})}),We.jsx(aa,{className:t("absolute -bottom-2 -right-2 bg-white rounded-full p-1 shadow-md",Tt({variant:"primary",size:"lg"}))})]}),We.jsxs("div",{className:"text-center space-y-2",children:[We.jsx("p",{className:"text-neutral-700 font-medium",children:"Yükleniyor..."}),We.jsx("p",{className:"text-neutral-500 text-sm",children:"Lütfen bekleyiniz"})]})]})})}function te(e="minimum"){const a="minimum"===e?Er.minimum:Er.comfortable;return`min-h-[${a}] min-w-[${a}]`}function re(){const[e,a]=qe.useState(!1);return qe.useEffect(()=>{const e=e=>{"Tab"!==e.key||e.shiftKey||a(!0)},t=()=>{a(!1)};return document.addEventListener("keydown",e),document.addEventListener("click",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("click",t)}},[]),e?We.jsx("div",{className:"fixed top-0 left-0 z-[1600] w-full bg-info-600 text-white shadow-lg",role:"navigation","aria-label":"Skip links",children:We.jsx("div",{className:"container mx-auto px-4 py-2",children:We.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[We.jsx("span",{className:"text-sm font-medium",children:"Hızlı erişim:"}),jr.map(e=>We.jsxs("button",{onClick:()=>{(e=>{const t=document.getElementById(e);t&&(t.focus(),t.scrollIntoView({behavior:"smooth"})),a(!1)})(e.target)},className:`flex items-center gap-1 px-3 py-1 text-sm ${te()} bg-info-700 hover:bg-info-800 rounded transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 focus-visible:ring-offset-info-600`,children:[e.icon,e.label]},e.id))]})})}):null}function ne({title:e,subtitle:a,children:t,showBackButton:r=!1,onBack:n,actions:i,className:s}){return We.jsxs(We.Fragment,{children:[We.jsx(re,{}),We.jsxs("div",{className:`flex flex-col h-full ${s??""}`,children:[We.jsx("header",{className:"bg-white border-b border-neutral-200 shadow-sm z-30 relative",children:We.jsx("div",{className:"p-4 sm:p-6",children:We.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[We.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r&&We.jsx(It,{variant:"outline",size:"sm",onClick:n,className:"min-h-[44px] flex-shrink-0","aria-label":"Go back",children:We.jsx(ya,{className:"w-4 h-4"})}),We.jsxs("div",{className:"min-w-0 flex-1",children:[We.jsx(Nr,{level:1,size:"2xl",weight:"medium",className:"line-clamp-2 break-words",children:e}),a&&We.jsx(kr,{size:"sm",color:"neutral",className:"mt-1 line-clamp-2 break-words",children:a})]})]}),i&&We.jsx("div",{className:"flex-shrink-0 w-full sm:w-auto",children:i})]})})}),We.jsx("main",{id:"main",tabIndex:-1,className:"flex-1 overflow-auto bg-neutral-50",children:t})]})]})}function ie({status:e,children:a,showIcon:r=!0,size:n="default",className:i,animated:s=!1,...o}){const c=Br[e],d=c.icon,u=Fr[n],m=a?`${c.label}: ${a}`:c.label;return We.jsxs(l,{variant:c.variant,size:n,animated:s,className:t("inline-flex items-center gap-1",i),"aria-label":m,...o,children:[r&&We.jsx(d,{className:u,"aria-hidden":"true"}),a]})}function se({className:e,required:a,helperText:r,children:n,...i}){return We.jsxs("div",{className:"space-y-1",children:[We.jsx(Ea,{"data-slot":"label",className:t("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a&&"after:content-['*'] after:text-red-500 after:ml-1 after:font-semibold",e),...i,children:n}),r&&We.jsx("p",{className:"text-xs text-muted-foreground leading-normal",children:r})]})}function le({...e}){return We.jsx(Aa,{"data-slot":"select",...e})}function oe({...e}){return We.jsx(Oa,{"data-slot":"select-value",...e})}function ce({className:e,size:a="default",children:r,...n}){return We.jsxs(Ta,{"data-slot":"select-trigger","data-size":a,className:t("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,We.jsx(Sa,{asChild:!0,children:We.jsx(Ia,{className:"size-4 opacity-50"})})]})}function de({className:e,children:a,position:r="popper",...n}){return We.jsx(Ra,{children:We.jsxs(Da,{"data-slot":"select-content",className:t("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[We.jsx(me,{}),We.jsx(za,{className:t("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),We.jsx(he,{})]})})}function ue({className:e,children:a,...r}){return We.jsxs(Ca,{"data-slot":"select-item",className:t("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[We.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:We.jsx(Pa,{children:We.jsx(Ma,{className:"size-4"})})}),We.jsx(La,{children:a})]})}function me({className:e,...a}){return We.jsx(ja,{"data-slot":"select-scroll-up-button",className:t("flex cursor-default items-center justify-center py-1",e),...a,children:We.jsx(Ba,{className:"size-4"})})}function he({className:e,...a}){return We.jsx(Fa,{"data-slot":"select-scroll-down-button",className:t("flex cursor-default items-center justify-center py-1",e),...a,children:We.jsx(Ia,{className:"size-4"})})}function pe(){function e(e){return function(a){a instanceof RegExp&&(a.lastIndex=0);for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return g(e,a,r)}}function a(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;c&&c(e,null);let r=a.length;for(;r--;){let n=a[r];if("string"==typeof n){const e=t(n);e!==n&&(d(a)||(a[r]=e),n=e)}e[n]=!0}return e}function t(e){for(let a=0;a<e.length;a++)I(e,a)||(e[a]=null);return e}function r(e){const a=f(null);for(const[n,i]of o(e))I(e,n)&&(Array.isArray(i)?a[n]=t(i):i&&"object"==typeof i&&i.constructor===Object?a[n]=r(i):a[n]=i);return a}function n(a,t){for(;null!==a;){const r=m(a,t);if(r){if(r.get)return e(r.get);if("function"==typeof r.value)return e(r.value)}a=u(a)}return function(){return null}}var i,s,l;if(Fe)return Be;Fe=1;const{entries:o,setPrototypeOf:c,isFrozen:d,getPrototypeOf:u,getOwnPropertyDescriptor:m}=Object;let{freeze:h,seal:p,create:f}=Object,{apply:g,construct:b}="undefined"!=typeof Reflect&&Reflect;h||(h=function(e){return e}),p||(p=function(e){return e}),g||(g=function(e,a){for(var t=arguments.length,r=new Array(t>2?t-2:0),n=2;n<t;n++)r[n-2]=arguments[n];return e.apply(a,r)}),b||(b=function(e){for(var a=arguments.length,t=new Array(a>1?a-1:0),r=1;r<a;r++)t[r-1]=arguments[r];return new e(...t)});const y=e(Array.prototype.forEach),v=e(Array.prototype.lastIndexOf),x=e(Array.prototype.pop),w=e(Array.prototype.push),N=e(Array.prototype.splice),_=e(String.prototype.toLowerCase),k=e(String.prototype.toString),E=e(String.prototype.match),A=e(String.prototype.replace),T=e(String.prototype.indexOf),S=e(String.prototype.trim),I=e(Object.prototype.hasOwnProperty),O=e(RegExp.prototype.test),R=(l=TypeError,function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return b(l,a)}),D=h(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),z=h(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),C=h(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P=h(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),M=h(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),L=h(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),j=h(["#text"]),B=h(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),F=h(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$=h(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),V=h(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Y=p(/\{\{[\w\W]*|[\w\W]*\}\}/gm),U=p(/<%[\w\W]*|[\w\W]*%>/gm),q=p(/\$\{[\w\W]*/gm),W=p(/^data-[\-\w.\u00B7-\uFFFF]+$/),K=p(/^aria-[\-\w]+$/),G=p(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),H=p(/^(?:\w+script|data):/i),J=p(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),X=p(/^html$/i),Z=p(/^[a-z][.\w]*(-[.\w]+)+$/i);i=Object.freeze({__proto__:null,ARIA_ATTR:K,ATTR_WHITESPACE:J,CUSTOM_ELEMENT:Z,DATA_ATTR:W,DOCTYPE_NAME:X,ERB_EXPR:U,IS_ALLOWED_URI:G,IS_SCRIPT_OR_DATA:H,MUSTACHE_EXPR:Y,TMPLIT_EXPR:q});const Q=function(){return"undefined"==typeof window?null:window};return s=function e(){function t(e,a,t){y(e,e=>{e.call(l,a,t,ca)})}let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();const l=a=>e(a);if(l.version="3.2.7",l.removed=[],!s||!s.document||9!==s.document.nodeType||!s.Element)return l.isSupported=!1,l;let{document:c}=s;const d=c,u=d.currentScript,{DocumentFragment:m,HTMLTemplateElement:p,Node:g,Element:b,NodeFilter:Y,NamedNodeMap:U=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:q,DOMParser:W,trustedTypes:K}=s,H=b.prototype,J=n(H,"cloneNode"),Z=n(H,"remove"),ee=n(H,"nextSibling"),ae=n(H,"childNodes"),te=n(H,"parentNode");if("function"==typeof p){const e=c.createElement("template");e.content&&e.content.ownerDocument&&(c=e.content.ownerDocument)}let re,ne="";const{implementation:ie,createNodeIterator:se,createDocumentFragment:le,getElementsByTagName:oe}=c,{importNode:ce}=d;let de={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};l.isSupported="function"==typeof o&&"function"==typeof te&&ie&&void 0!==ie.createHTMLDocument;const{MUSTACHE_EXPR:ue,ERB_EXPR:me,TMPLIT_EXPR:he,DATA_ATTR:pe,ARIA_ATTR:fe,IS_SCRIPT_OR_DATA:ge,ATTR_WHITESPACE:be,CUSTOM_ELEMENT:ye}=i;let{IS_ALLOWED_URI:ve}=i,xe=null;const we=a({},[...D,...z,...C,...M,...j]);let Ne=null;const _e=a({},[...B,...F,...$,...V]);let ke=Object.seal(f(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ee=null,Ae=null,Te=!0,Se=!0,Ie=!1,Oe=!0,Re=!1,De=!0,ze=!1,Ce=!1,Pe=!1,Me=!1,Le=!1,je=!1,Be=!0,Fe=!1,$e=!0,Ve=!1,Ye={},Ue=null;const qe=a({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let We=null;const Ke=a({},["audio","video","img","source","image","track"]);let Ge=null;const He=a({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",Xe="http://www.w3.org/2000/svg",Ze="http://www.w3.org/1999/xhtml";let Qe=Ze,ea=!1,aa=null;const ta=a({},[Je,Xe,Ze],k);let ra=a({},["mi","mo","mn","ms","mtext"]),na=a({},["annotation-xml"]);const ia=a({},["title","style","font","a","script"]);let sa=null;const la=["application/xhtml+xml","text/html"];let oa=null,ca=null;const da=c.createElement("form"),ua=function(e){return e instanceof RegExp||e instanceof Function},ma=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ca||ca!==e){if(e&&"object"==typeof e||(e={}),e=r(e),sa=-1===la.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,oa="application/xhtml+xml"===sa?k:_,xe=I(e,"ALLOWED_TAGS")?a({},e.ALLOWED_TAGS,oa):we,Ne=I(e,"ALLOWED_ATTR")?a({},e.ALLOWED_ATTR,oa):_e,aa=I(e,"ALLOWED_NAMESPACES")?a({},e.ALLOWED_NAMESPACES,k):ta,Ge=I(e,"ADD_URI_SAFE_ATTR")?a(r(He),e.ADD_URI_SAFE_ATTR,oa):He,We=I(e,"ADD_DATA_URI_TAGS")?a(r(Ke),e.ADD_DATA_URI_TAGS,oa):Ke,Ue=I(e,"FORBID_CONTENTS")?a({},e.FORBID_CONTENTS,oa):qe,Ee=I(e,"FORBID_TAGS")?a({},e.FORBID_TAGS,oa):r({}),Ae=I(e,"FORBID_ATTR")?a({},e.FORBID_ATTR,oa):r({}),Ye=!!I(e,"USE_PROFILES")&&e.USE_PROFILES,Te=!1!==e.ALLOW_ARIA_ATTR,Se=!1!==e.ALLOW_DATA_ATTR,Ie=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Oe=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Re=e.SAFE_FOR_TEMPLATES||!1,De=!1!==e.SAFE_FOR_XML,ze=e.WHOLE_DOCUMENT||!1,Me=e.RETURN_DOM||!1,Le=e.RETURN_DOM_FRAGMENT||!1,je=e.RETURN_TRUSTED_TYPE||!1,Pe=e.FORCE_BODY||!1,Be=!1!==e.SANITIZE_DOM,Fe=e.SANITIZE_NAMED_PROPS||!1,$e=!1!==e.KEEP_CONTENT,Ve=e.IN_PLACE||!1,ve=e.ALLOWED_URI_REGEXP||G,Qe=e.NAMESPACE||Ze,ra=e.MATHML_TEXT_INTEGRATION_POINTS||ra,na=e.HTML_INTEGRATION_POINTS||na,ke=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ua(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ke.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ua(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ke.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ke.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Re&&(Se=!1),Le&&(Me=!0),Ye&&(xe=a({},j),Ne=[],!0===Ye.html&&(a(xe,D),a(Ne,B)),!0===Ye.svg&&(a(xe,z),a(Ne,F),a(Ne,V)),!0===Ye.svgFilters&&(a(xe,C),a(Ne,F),a(Ne,V)),!0===Ye.mathMl&&(a(xe,M),a(Ne,$),a(Ne,V))),e.ADD_TAGS&&(xe===we&&(xe=r(xe)),a(xe,e.ADD_TAGS,oa)),e.ADD_ATTR&&(Ne===_e&&(Ne=r(Ne)),a(Ne,e.ADD_ATTR,oa)),e.ADD_URI_SAFE_ATTR&&a(Ge,e.ADD_URI_SAFE_ATTR,oa),e.FORBID_CONTENTS&&(Ue===qe&&(Ue=r(Ue)),a(Ue,e.FORBID_CONTENTS,oa)),$e&&(xe["#text"]=!0),ze&&a(xe,["html","head","body"]),xe.table&&(a(xe,["tbody"]),delete Ee.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw R('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw R('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');re=e.TRUSTED_TYPES_POLICY,ne=re.createHTML("")}else void 0===re&&(re=function(e,a){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let t=null;const r="data-tt-policy-suffix";a&&a.hasAttribute(r)&&(t=a.getAttribute(r));const n="dompurify"+(t?"#"+t:"");try{return e.createPolicy(n,{createHTML:e=>e,createScriptURL:e=>e})}catch(i){return void 0,null}}(K,u)),null!==re&&"string"==typeof ne&&(ne=re.createHTML(""));h&&h(e),ca=e}},ha=a({},[...z,...C,...P]),pa=a({},[...M,...L]),fa=function(e){w(l.removed,{element:e});try{te(e).removeChild(e)}catch(a){Z(e)}},ga=function(e,a){try{w(l.removed,{attribute:a.getAttributeNode(e),from:a})}catch(t){w(l.removed,{attribute:null,from:a})}if(a.removeAttribute(e),"is"===e)if(Me||Le)try{fa(a)}catch(t){}else try{a.setAttribute(e,"")}catch(t){}},ba=function(e){let a=null,t=null;if(Pe)e="<remove></remove>"+e;else{const a=E(e,/^[\r\n\t ]+/);t=a&&a[0]}"application/xhtml+xml"===sa&&Qe===Ze&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=re?re.createHTML(e):e;if(Qe===Ze)try{a=(new W).parseFromString(r,sa)}catch(i){}if(!a||!a.documentElement){a=ie.createDocument(Qe,"template",null);try{a.documentElement.innerHTML=ea?ne:r}catch(i){}}const n=a.body||a.documentElement;return e&&t&&n.insertBefore(c.createTextNode(t),n.childNodes[0]||null),Qe===Ze?oe.call(a,ze?"html":"body")[0]:ze?a.documentElement:n},ya=function(e){return se.call(e.ownerDocument||e,e,Y.SHOW_ELEMENT|Y.SHOW_COMMENT|Y.SHOW_TEXT|Y.SHOW_PROCESSING_INSTRUCTION|Y.SHOW_CDATA_SECTION,null)},va=function(e){return e instanceof q&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof U)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},xa=function(e){return"function"==typeof g&&e instanceof g},wa=function(e){let a=null;if(t(de.beforeSanitizeElements,e,null),va(e))return fa(e),!0;const r=oa(e.nodeName);if(t(de.uponSanitizeElement,e,{tagName:r,allowedTags:xe}),De&&e.hasChildNodes()&&!xa(e.firstElementChild)&&O(/<[/\w!]/g,e.innerHTML)&&O(/<[/\w!]/g,e.textContent))return fa(e),!0;if(7===e.nodeType)return fa(e),!0;if(De&&8===e.nodeType&&O(/<[/\w]/g,e.data))return fa(e),!0;if(!xe[r]||Ee[r]){if(!Ee[r]&&_a(r)){if(ke.tagNameCheck instanceof RegExp&&O(ke.tagNameCheck,r))return!1;if(ke.tagNameCheck instanceof Function&&ke.tagNameCheck(r))return!1}if($e&&!Ue[r]){const a=te(e)||e.parentNode,t=ae(e)||e.childNodes;if(t&&a)for(let r=t.length-1;r>=0;--r){const n=J(t[r],!0);n.i=(e.i||0)+1,a.insertBefore(n,ee(e))}}return fa(e),!0}return e instanceof b&&!function(e){let a=te(e);a&&a.tagName||(a={namespaceURI:Qe,tagName:"template"});const t=_(e.tagName),r=_(a.tagName);return!!aa[e.namespaceURI]&&(e.namespaceURI===Xe?a.namespaceURI===Ze?"svg"===t:a.namespaceURI===Je?"svg"===t&&("annotation-xml"===r||ra[r]):Boolean(ha[t]):e.namespaceURI===Je?a.namespaceURI===Ze?"math"===t:a.namespaceURI===Xe?"math"===t&&na[r]:Boolean(pa[t]):e.namespaceURI===Ze?!(a.namespaceURI===Xe&&!na[r])&&!(a.namespaceURI===Je&&!ra[r])&&!pa[t]&&(ia[t]||!ha[t]):!("application/xhtml+xml"!==sa||!aa[e.namespaceURI]))}(e)?(fa(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!O(/<\/no(script|embed|frames)/i,e.innerHTML)?(Re&&3===e.nodeType&&(a=e.textContent,y([ue,me,he],e=>{a=A(a,e," ")}),e.textContent!==a&&(w(l.removed,{element:e.cloneNode()}),e.textContent=a)),t(de.afterSanitizeElements,e,null),!1):(fa(e),!0)},Na=function(e,a,t){if(Be&&("id"===a||"name"===a)&&(t in c||t in da))return!1;if(Se&&!Ae[a]&&O(pe,a));else if(Te&&O(fe,a));else if(!Ne[a]||Ae[a]){if(!(_a(e)&&(ke.tagNameCheck instanceof RegExp&&O(ke.tagNameCheck,e)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(e))&&(ke.attributeNameCheck instanceof RegExp&&O(ke.attributeNameCheck,a)||ke.attributeNameCheck instanceof Function&&ke.attributeNameCheck(a,e))||"is"===a&&ke.allowCustomizedBuiltInElements&&(ke.tagNameCheck instanceof RegExp&&O(ke.tagNameCheck,t)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(t))))return!1}else if(Ge[a]);else if(O(ve,A(t,be,"")));else if("src"!==a&&"xlink:href"!==a&&"href"!==a||"script"===e||0!==T(t,"data:")||!We[e])if(Ie&&!O(ge,A(t,be,"")));else if(t)return!1;return!0},_a=function(e){return"annotation-xml"!==e&&E(e,ye)},ka=function(e){t(de.beforeSanitizeAttributes,e,null);const{attributes:a}=e;if(!a||va(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ne,forceKeepAttr:void 0};let n=a.length;for(;n--;){const s=a[n],{name:o,namespaceURI:c,value:d}=s,u=oa(o),m=d;let h="value"===o?m:S(m);if(r.attrName=u,r.attrValue=h,r.keepAttr=!0,r.forceKeepAttr=void 0,t(de.uponSanitizeAttribute,e,r),h=r.attrValue,!Fe||"id"!==u&&"name"!==u||(ga(o,e),h="user-content-"+h),De&&O(/((--!?|])>)|<\/(style|title|textarea)/i,h)){ga(o,e);continue}if("attributename"===u&&E(h,"href")){ga(o,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){ga(o,e);continue}if(!Oe&&O(/\/>/i,h)){ga(o,e);continue}Re&&y([ue,me,he],e=>{h=A(h,e," ")});const p=oa(e.nodeName);if(Na(p,u,h)){if(re&&"object"==typeof K&&"function"==typeof K.getAttributeType)if(c);else switch(K.getAttributeType(p,u)){case"TrustedHTML":h=re.createHTML(h);break;case"TrustedScriptURL":h=re.createScriptURL(h)}if(h!==m)try{c?e.setAttributeNS(c,o,h):e.setAttribute(o,h),va(e)?fa(e):x(l.removed)}catch(i){ga(o,e)}}else ga(o,e)}t(de.afterSanitizeAttributes,e,null)},Ea=function e(a){let r=null;const n=ya(a);for(t(de.beforeSanitizeShadowDOM,a,null);r=n.nextNode();)t(de.uponSanitizeShadowNode,r,null),wa(r),ka(r),r.content instanceof m&&e(r.content);t(de.afterSanitizeShadowDOM,a,null)};return l.sanitize=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=null,r=null,n=null,i=null;if(ea=!e,ea&&(e="\x3c!--\x3e"),"string"!=typeof e&&!xa(e)){if("function"!=typeof e.toString)throw R("toString is not a function");if("string"!=typeof(e=e.toString()))throw R("dirty is not a string, aborting")}if(!l.isSupported)return e;if(Ce||ma(a),l.removed=[],"string"==typeof e&&(Ve=!1),Ve){if(e.nodeName){const a=oa(e.nodeName);if(!xe[a]||Ee[a])throw R("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof g)t=ba("\x3c!----\x3e"),r=t.ownerDocument.importNode(e,!0),1===r.nodeType&&"BODY"===r.nodeName||"HTML"===r.nodeName?t=r:t.appendChild(r);else{if(!Me&&!Re&&!ze&&-1===e.indexOf("<"))return re&&je?re.createHTML(e):e;if(t=ba(e),!t)return Me?null:je?ne:""}t&&Pe&&fa(t.firstChild);const s=ya(Ve?e:t);for(;n=s.nextNode();)wa(n),ka(n),n.content instanceof m&&Ea(n.content);if(Ve)return e;if(Me){if(Le)for(i=le.call(t.ownerDocument);t.firstChild;)i.appendChild(t.firstChild);else i=t;return(Ne.shadowroot||Ne.shadowrootmode)&&(i=ce.call(d,i,!0)),i}let o=ze?t.outerHTML:t.innerHTML;return ze&&xe["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&O(X,t.ownerDocument.doctype.name)&&(o="<!DOCTYPE "+t.ownerDocument.doctype.name+">\n"+o),Re&&y([ue,me,he],e=>{o=A(o,e," ")}),re&&je?re.createHTML(o):o},l.setConfig=function(){ma(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Ce=!0},l.clearConfig=function(){ca=null,Ce=!1},l.isValidAttribute=function(e,a,t){ca||ma({});const r=oa(e),n=oa(a);return Na(r,n,t)},l.addHook=function(e,a){"function"==typeof a&&w(de[e],a)},l.removeHook=function(e,a){if(void 0!==a){const t=v(de[e],a);return-1===t?void 0:N(de[e],t,1)[0]}return x(de[e])},l.removeHooks=function(e){de[e]=[]},l.removeAllHooks=function(){de={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},l}(),Be=s}function fe({className:e,stickyHeader:a=!1,loading:r=!1,children:n,...i}){return We.jsxs("div",{"data-slot":"table-container",className:"scrollbar-thin relative w-full overflow-x-auto",children:[We.jsx("table",{"data-slot":"table",className:t("w-full caption-bottom text-sm",a&&"sticky-header",e),role:"table","aria-label":i["aria-label"]||"Data table","aria-busy":r,...i,children:n}),r&&We.jsx("div",{className:"bg-background/80 absolute inset-0 z-10 flex items-center justify-center backdrop-blur-sm",children:We.jsxs("div",{className:"text-muted-foreground flex items-center gap-2",children:[We.jsx(aa,{className:"h-4 w-4 animate-spin"}),We.jsx("span",{children:"Yükleniyor..."})]})})]})}function ge({className:e,...a}){return We.jsx("thead",{"data-slot":"table-header",className:t("[&_tr]:border-b","bg-background/95 supports-[backdrop-filter]:bg-background/60 sticky top-0 z-10 backdrop-blur",e),...a})}function be({className:e,...a}){return We.jsx("tbody",{"data-slot":"table-body",className:t("[&_tr:last-child]:border-none",e),...a})}function ye({className:e,selected:a=!1,selectable:r=!1,onRowSelect:n,...i}){return We.jsx("tr",{"data-slot":"table-row",className:t("border-b transition-colors","hover:bg-muted/50",a&&"bg-muted",r&&"cursor-pointer",e),onClick:r?()=>n?.(!a):void 0,role:"row","aria-selected":r?a:void 0,tabIndex:r?0:void 0,onKeyDown:r?e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n?.(!a))}:void 0,...i})}function ve({className:e,...a}){return We.jsx("th",{"data-slot":"table-head",className:t("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}function xe({className:e,children:a,truncate:r=!1,maxWidth:n,...i}){const s=qe.useMemo(()=>{return"string"==typeof a?(t=a)?(e=t,function(e,a={}){if(!e)return"";let t;return t=a.stripAllTags?Wr:a.allowHTML?Kr:{...qr},a.allowedTags&&(t.ALLOWED_TAGS=a.allowedTags),a.allowedAttributes&&(t.ALLOWED_ATTR=a.allowedAttributes),Ur.sanitize(e,t)}(e,{stripAllTags:!0})).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):"":a;var e,t},[a]);return We.jsx("td",{"data-slot":"table-cell",className:t("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r?"truncate":"whitespace-nowrap",e),style:n?{maxWidth:n}:void 0,title:r&&"string"==typeof a?a:void 0,...i,children:s})}function we({data:e,columns:a,loading:r=!1,emptyState:n,onRowClick:i,mobileCardRenderer:s,stickyHeader:l=!0,className:o}){return function(){const[e,a]=qe.useState(void 0);return qe.useEffect(()=>{const e=window.matchMedia("(max-width: 767px)"),t=()=>{a(window.innerWidth<768)};return e.addEventListener("change",t),a(window.innerWidth<768),()=>{e.removeEventListener("change",t)}},[]),Boolean(e)}()?We.jsx("div",{className:t("space-y-3",o),children:r?Array.from({length:3}).map((e,a)=>We.jsx(Mt,{className:"p-4",children:We.jsxs("div",{className:"space-y-3",children:[We.jsx(Z,{className:"h-5 w-3/4"}),We.jsx(Z,{className:"h-4 w-full"}),We.jsx(Z,{className:"h-4 w-5/6"})]})},`skeleton-card-${a}`)):0===e.length?We.jsx("div",{className:"py-12 text-center",children:n||We.jsx("div",{className:"text-gray-500",children:We.jsx("p",{children:"Kayıt bulunamadı"})})}):e.map((e,r)=>s?We.jsx("div",{children:s(e,r)},`mobile-card-${r}`):We.jsx(Mt,{className:t("transition-shadow",i&&"cursor-pointer hover:shadow-md"),onClick:()=>i?.(e),children:We.jsx(Ft,{className:"p-4 min-h-[44px]",children:We.jsx("div",{className:"space-y-2",children:a.filter(e=>!e.hideOnMobile).map((a,t)=>{const n=e[a.key],i=a.mobileLabel||a.title;return We.jsxs("div",{className:"flex items-start justify-between",children:[We.jsxs("span",{className:"text-sm text-gray-600",children:[i,":"]}),We.jsx("span",{className:"text-sm font-medium text-right",children:a.render?a.render(n,e,r):null!=n?String(n):"-"})]},`mobile-field-${r}-${t}`)})})})},`mobile-card-${r}`))}):We.jsx("div",{className:t("overflow-x-auto",o),children:We.jsxs(fe,{stickyHeader:l,loading:r,children:[We.jsx(ge,{children:We.jsx(ye,{className:"bg-gray-50/50",children:a.map((e,a)=>We.jsx(ve,{className:"font-medium",style:e.width?{width:e.width}:void 0,children:e.title},`header-${String(e.key)}-${a}`))})}),We.jsx(be,{children:r?Array.from({length:5}).map((e,t)=>We.jsx(ye,{children:a.map((e,a)=>We.jsx(xe,{children:We.jsx(Z,{className:"h-4 w-full"})},`skeleton-cell-${t}-${a}`))},`skeleton-${t}`)):0===e.length?We.jsx(ye,{children:We.jsx(xe,{colSpan:a.length,className:"py-8 text-center",children:n||We.jsx("div",{className:"text-gray-500",children:We.jsx("p",{children:"Kayıt bulunamadı"})})})}):e.map((e,r)=>We.jsx(ye,{className:t("transition-colors",i&&"cursor-pointer hover:bg-neutral-50"),onClick:()=>i?.(e),children:a.map((a,t)=>{const n=e[a.key];return We.jsx(xe,{children:a.render?a.render(n,e,r):null!=n?String(n):"-"},`cell-${r}-${t}`)})},`row-${r}`))})]})})}function Ne({icon:e,title:a,description:t,action:r,variant:n="default",className:i="",animated:s=!0}){const l=(()=>{switch(n){case"search":return{background:"bg-gradient-to-br from-info-50 to-info-100",iconBg:"bg-gradient-to-br from-info-500 to-info-600",buttonBg:"bg-gradient-to-r from-info-600 to-info-700 hover:from-info-700 hover:to-info-800"};case"error":return{background:"bg-gradient-to-br from-error-50 to-error-100",iconBg:"bg-gradient-to-br from-error-500 to-error-600",buttonBg:"bg-gradient-to-r from-error-600 to-error-700 hover:from-error-700 hover:to-error-800"};case"offline":case"default":default:return{background:"bg-gradient-to-br from-neutral-50 to-neutral-100",iconBg:"bg-gradient-to-br from-neutral-500 to-neutral-600",buttonBg:"bg-gradient-to-r from-neutral-600 to-neutral-700 hover:from-neutral-700 hover:to-neutral-800"};case"no-results":return{background:"bg-gradient-to-br from-warning-50 to-warning-100",iconBg:"bg-gradient-to-br from-warning-500 to-warning-600",buttonBg:"bg-gradient-to-r from-warning-600 to-warning-700 hover:from-warning-700 hover:to-warning-800"}}})(),o=We.jsx(Mt,{className:`border-none shadow-lg ${l.background} ${i}`,role:"status","aria-live":"polite",children:We.jsx(Ft,{className:"p-12 text-center",children:We.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[We.jsx("div",{className:`w-20 h-20 ${l.iconBg} rounded-2xl flex items-center justify-center shadow-lg`,children:We.jsx("div",{className:"text-white","aria-hidden":"true",children:e??(()=>{switch(n){case"offline":return We.jsx(Ya,{className:"w-10 h-10"});case"no-results":case"search":return We.jsx(Va,{className:"w-10 h-10"});case"error":return We.jsx(wa,{className:"w-10 h-10"});default:return We.jsx($a,{className:"w-10 h-10"})}})()})}),We.jsxs("div",{className:"space-y-3 max-w-md",children:[We.jsx(Nr,{level:2,size:"2xl",weight:"semibold",color:"neutral",children:a}),We.jsx(kr,{color:"neutral",className:"leading-relaxed",children:t})]}),r&&We.jsx(It,{onClick:r.onClick,className:`h-12 px-6 ${l.buttonBg} rounded-xl shadow-lg transition-all duration-300 hover:scale-105`,"aria-label":r.label,children:r.label})]})})});return s?We.jsx(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:o}):o}function _e({onNavigateToDetail:e}){const{isAuthenticated:a,user:t}=xr(),[r,o]=qe.useState(!0),[d,u]=qe.useState(!1),[m,h]=qe.useState(""),[p,f]=qe.useState("all"),[g,b]=qe.useState("name-asc"),[y,v]=qe.useState([]),[x,w]=qe.useState([]),[,N]=qe.useState(0),[_,k]=qe.useState(1),[E]=qe.useState(10),[A,T]=qe.useState(!1),[S,I]=qe.useState({total:0,active:0,passive:0,suspended:0,underEvaluation:0,totalAidAmount:0}),[O,R]=qe.useState({ad_soyad:"",kimlik_no:"",telefon_no:"",sehri:"",uyruk:"",ulkesi:"",adres:"",kategori:"",tur:"",iban:""}),D=qe.useCallback(async()=>{try{o(!0);const e={city:"all"!==p?p:void 0,searchTerm:m.trim()??void 0},a=await Lr.getBeneficiaries(_,E,{searchTerm:e.searchTerm,sehir:e.city,sortBy:g});if(a.error)return Rt.error("❌ Service returned error:",a.error),v([]),N(0),void 0;const t=(a.data||[]).map(e=>({...e,display_id:e.id,formatted_phone:e.phone??"Telefon bilgisi yok",formatted_registration_date:e.application_date??e.created_at??(new Date).toISOString().split("T")[0],ad_soyad:e.full_name??"Ad Soyad bilgisi yok",kimlik_no:e.identity_number??"TC No bilgisi yok",sehri:e.city??"Şehir bilgisi yok",adres:e.address??"Adres bilgisi yok",kategori:e.description??"Kategori belirtilmemiş",tur:e.notes??"Tür belirtilmemiş",iban:e.iban??"IBAN bilgisi yok",uyruk:e.nationality??"Belirtilmemiş",ulkesi:e.country??"Türkiye",status:e.status??"active",priority_level:e.priority??"medium"}));v(t),N(a.total??0)}catch(e){if(Rt.error("Error loading beneficiaries:",e),v([]),N(0),e instanceof Error){const a=e.message??"Database hatası";e.message.includes("JWT expired")?pt.error("Oturum süresi doldu. Lütfen bekleyin, sayfa yenileniyor...",{duration:3e3}):e.message.includes("does not exist")||!e.message?pt.info("Database henüz hazırlanıyor",{description:"Tablolar oluşturulduğunda veriler görünecektir",duration:4e3}):e.message.includes("permission denied")?pt.error("Bu işlem için yetkiniz bulunmuyor",{duration:4e3}):pt.error("İhtiyaç sahipleri yüklenirken hata oluştu",{description:a,duration:5e3})}}finally{o(!1)}},[_,E,p,m,g]),z=qe.useCallback(async()=>{try{const e=Array.isArray(y)?y:[];I({total:e.length,active:e.length,passive:0,suspended:0,underEvaluation:0,totalAidAmount:0})}catch(e){Rt.error("Stats loading failed:",e),I({total:0,active:0,passive:0,suspended:0,underEvaluation:0,totalAidAmount:0})}},[y]),C=qe.useCallback(async()=>{try{const e=await Lr.getCities();e.data&&w(e.data)}catch{}},[]);qe.useEffect(()=>{(async()=>{const e=await Lr.testConnection();Rt.info("🔗 Connection test result:",e)})()},[]),qe.useEffect(()=>{D(),C()},[D,C]),qe.useEffect(()=>{y.length>0&&z()},[y.length]),qe.useEffect(()=>{const e=setTimeout(()=>{k(1),D()},300);return()=>{clearTimeout(e)}},[m,p,g]);const P=e=>{const a={active:"success",inactive:"error",passive:"error",suspended:"warning",under_evaluation:"info",archived:"pending"}[e]||"pending",t={active:"Aktif",inactive:"Pasif",passive:"Pasif",suspended:"Askıda",under_evaluation:"Değerlendirmede",archived:"Arşivlendi"}[e]||e;return We.jsx(ie,{status:a,children:t})},M=e=>{const a=Gr[e],t=a?.label??e;return We.jsx(l,{variant:"outline",className:a?.color??"bg-neutral-100 text-neutral-700 border-neutral-200",children:t})},L=async e=>{if(confirm("Bu kaydı silmek istediğinizden emin misiniz?"))try{const a=await Lr.delete(e);if(a.error)throw new Error(a.error);pt.success("Kayıt silindi"),await D(),await z()}catch(a){Rt.error("Error deleting beneficiary:",a),pt.error("Kayıt silinemedi")}},j=[{key:"index",title:"#",width:"60px",render:(e,a,t)=>We.jsx("span",{className:"text-sm font-medium text-gray-600",children:t+1+(_-1)*E}),hideOnMobile:!0},{key:"ad_soyad",title:"İsim",mobileLabel:"İsim",render:(e,a)=>We.jsxs("div",{children:[We.jsx("div",{className:"font-medium text-gray-900",children:a.ad_soyad}),We.jsx("div",{className:"mt-0.5 text-xs text-gray-500",children:a.uyruk??"TR"})]})},{key:"kategori",title:"Kategori",mobileLabel:"Kategori",render:e=>M(e??"Genel")},{key:"telefon",title:"Telefon",mobileLabel:"Telefon",render:(e,a)=>We.jsx("span",{className:"text-blue-600",children:"Telefon bilgisi yok"!==a.formatted_phone?a.formatted_phone:We.jsx("span",{className:"text-gray-400",children:"-"})})},{key:"sehri",title:"Şehir",mobileLabel:"Şehir"},{key:"tc_kimlik_no",title:"Kimlik No",mobileLabel:"Kimlik No",hideOnMobile:!0,render:(e,a)=>We.jsx("span",{className:"font-mono text-xs",children:"TC No bilgisi yok"!==a.kimlik_no?a.kimlik_no:We.jsx("span",{className:"text-gray-400",children:"-"})})},{key:"actions",title:"İşlemler",mobileLabel:"İşlemler",hideOnMobile:!0,render:(a,t)=>{const r=Pr.view,l=Pr.delete;return We.jsxs("div",{className:"flex items-center justify-center gap-1",children:[We.jsxs(n,{children:[We.jsx(i,{asChild:!0,children:We.jsx(It,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:a=>{a.stopPropagation(),e?.(String(t.id))},"aria-label":`View ${t.ad_soyad} details`,children:We.jsx(r,{className:"h-4 w-4"})})}),We.jsx(s,{children:"Detayları Görüntüle"})]}),We.jsxs(n,{children:[We.jsx(i,{asChild:!0,children:We.jsx(It,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:bg-red-50 hover:text-red-700",onClick:e=>{e.stopPropagation(),L(String(t.id))},"aria-label":`Delete ${t.ad_soyad}`,children:We.jsx(l,{className:"h-4 w-4"})})}),We.jsx(s,{children:"Sil"})]})]})}}];return r&&0===y.length?We.jsx(ae,{}):We.jsx(We.Fragment,{children:We.jsx(ne,{title:"İhtiyaç Sahipleri",subtitle:"Dernek yardımlarından faydalanan kişileri yönetin",className:"min-h-screen",actions:We.jsxs("div",{className:"flex w-full flex-wrap items-center justify-end gap-4 p-4 sm:w-auto sm:p-0",children:[We.jsxs(It,{variant:"outline",size:"sm",className:"professional-card order-2 min-h-[44px] min-w-[44px] border-gray-300 px-4 transition-shadow hover:border-gray-400 hover:shadow-md sm:order-1 sm:px-6",onClick:async()=>{try{const e=[["Ad Soyad","Kimlik No","Telefon","Şehir","Uyruk","Ülke","Adres","Kategori","Tür","IBAN","Durum","Kayıt Tarihi"],...y.map(e=>[e.ad_soyad,e.kimlik_no,e.telefon_no,e.sehri,e.uyruk,e.ulkesi,e.adres,e.kategori,e.tur,e.iban,e.status,c(e.created_at)])].map(e=>e.join(",")).join("\n"),a=new Blob([`\ufeff${e}`],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");t.href=URL.createObjectURL(a),t.download=`beneficiaries_${(new Date).toISOString().split("T")[0]}.csv`,t.click(),pt.success("Veriler başarıyla dışa aktarıldı")}catch{pt.error("Dışa aktarma sırasında bir hata oluştu")}},children:[We.jsx(Ka,{className:"mr-1 h-4 w-4 sm:mr-2"}),We.jsx("span",{className:"hidden sm:inline",children:"Dışa Aktar"}),We.jsx("span",{className:"sm:hidden",children:"Dışa Aktar"})]}),We.jsxs(Ar,{open:A,onOpenChange:T,children:[We.jsx(Tr,{asChild:!0,children:We.jsxs(It,{variant:"default",size:"sm",className:"micro-interaction order-1 min-h-[44px] min-w-[44px] flex-shrink-0 border-none px-4 py-3 text-white shadow-lg transition-all duration-200 hover:shadow-xl sm:order-2 sm:px-6 corporate-gradient",type:"button","data-testid":"new-beneficiary-btn","aria-label":"Yeni İhtiyaç Sahibi Ekle",children:[We.jsx(Ga,{className:"mr-1 h-4 w-4 flex-shrink-0 sm:mr-2"}),We.jsx("span",{className:"hidden whitespace-nowrap sm:inline",children:"Yeni İhtiyaç Sahibi Ekle"}),We.jsx("span",{className:"sm:hidden",children:"Yeni Ekle"})]})}),We.jsxs(Or,{className:"professional-card max-h-[90vh] max-w-[95vw] overflow-y-auto sm:max-w-lg","aria-describedby":"dialog-description",children:[We.jsxs(Rr,{className:"pb-4",children:[We.jsxs(zr,{className:"flex items-center gap-2",children:[We.jsx(Ga,{className:"text-primary h-6 w-6"}),"Yeni İhtiyaç Sahibi Kaydı"]}),We.jsx(Cr,{id:"dialog-description",className:"text-muted-foreground mt-1",children:"İhtiyaç sahibi kişinin bilgilerini dernek çalışanı olarak sisteme kaydedin. Tüm zorunlu alanları (*) doldurmanız gereklidir."})]}),We.jsxs("div",{className:"space-y-4 py-4",children:[We.jsxs("div",{className:"space-y-2",children:[We.jsx(se,{htmlFor:"ad_soyad",children:"Ad Soyad *"}),We.jsx($r,{id:"ad_soyad",value:O.ad_soyad,onChange:e=>{R({...O,ad_soyad:e.target.value})},placeholder:"İhtiyaç sahibinin tam adını giriniz",className:"focus-corporate min-h-[44px]",disabled:d})]}),We.jsxs("div",{className:"space-y-2",children:[We.jsx("div",{className:"flex items-center justify-between",children:We.jsx(se,{htmlFor:"kimlik_no",children:"Kimlik No"})}),We.jsx($r,{id:"kimlik_no",value:O.kimlik_no,onChange:e=>{R({...O,kimlik_no:e.target.value})},placeholder:"Kimlik numarası (TC, Pasaport vb.)",className:"focus-corporate min-h-[44px]",disabled:d})]}),We.jsxs("div",{className:"space-y-2",children:[We.jsx(se,{htmlFor:"telefon_no",children:"Telefon"}),We.jsx($r,{id:"telefon_no",type:"tel",value:O.telefon_no,onChange:e=>{R({...O,telefon_no:e.target.value})},placeholder:"İhtiyaç sahibinin telefon numarası",className:"focus-corporate min-h-[44px]",inputMode:"tel",disabled:d})]}),We.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[We.jsxs("div",{className:"space-y-2",children:[We.jsx(se,{htmlFor:"sehri",children:"Şehir"}),We.jsx($r,{id:"sehri",value:O.sehri,onChange:e=>{R({...O,sehri:e.target.value})},placeholder:"İhtiyaç sahibinin yaşadığı şehir",className:"focus-corporate min-h-[44px]",disabled:d})]}),We.jsxs("div",{className:"space-y-2",children:[We.jsx(se,{htmlFor:"uyruk",children:"Uyruk"}),We.jsx($r,{id:"uyruk",value:O.uyruk,onChange:e=>{R({...O,uyruk:e.target.value})},placeholder:"Uyruğu (ör: Türkiye, Suriye)",className:"focus-corporate min-h-[44px]",disabled:d})]})]}),We.jsxs("div",{className:"space-y-2",children:[We.jsx(se,{htmlFor:"adres",children:"Adres"}),We.jsx($r,{id:"adres",value:O.adres,onChange:e=>{R({...O,adres:e.target.value})},placeholder:"İhtiyaç sahibinin adresi",className:"focus-corporate min-h-[44px]",disabled:d})]}),We.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[We.jsxs("div",{className:"space-y-2",children:[We.jsx(se,{htmlFor:"kategori",children:"Kategori"}),We.jsx($r,{id:"kategori",value:O.kategori,onChange:e=>{R({...O,kategori:e.target.value})},placeholder:"Yardım kategorisi",className:"focus-corporate min-h-[44px]",disabled:d})]}),We.jsxs("div",{className:"space-y-2",children:[We.jsx(se,{htmlFor:"tur",children:"Tür"}),We.jsx($r,{id:"tur",value:O.tur,onChange:e=>{R({...O,tur:e.target.value})},placeholder:"İhtiyaç sahibi türü",className:"focus-corporate min-h-[44px]",disabled:d})]})]}),We.jsxs("div",{className:"space-y-2",children:[We.jsx(se,{htmlFor:"iban",children:"IBAN"}),We.jsx($r,{id:"iban",value:O.iban,onChange:e=>{R({...O,iban:e.target.value})},placeholder:"Banka IBAN numarası (isteğe bağlı)",className:"focus-corporate min-h-[44px]",disabled:d})]})]}),We.jsxs("div",{className:"flex flex-col justify-end gap-3 border-t pt-6 sm:flex-row",children:[We.jsx(It,{variant:"outline",onClick:()=>{T(!1)},className:"min-h-[44px] px-6",disabled:d,children:"İptal"}),We.jsx(It,{variant:"default",onClick:async()=>{if(!a||!t?.id)return pt.error("Lütfen önce giriş yapın"),void 0;if(!O.ad_soyad.trim())return pt.error("Ad soyad zorunludur"),void 0;try{u(!0);const a={ad_soyad:O.ad_soyad.trim(),kimlik_no:O.kimlik_no.trim()??null,telefon_no:O.telefon_no.trim()??null,sehri:O.sehri?.trim()??null,uyruk:O.uyruk?.trim()??null,ulkesi:O.ulkesi?.trim()??null,adres:O.adres.trim()??null,kategori:O.kategori?.trim()??null,tur:O.tur?.trim()??null,iban:O.iban?.trim()??null},{data:t,error:r}=await Lr.create(a);if(r||!t)throw new Error(r??"Kayıt oluşturulamadı");pt.success(`${t.full_name||O.ad_soyad} başarıyla kaydedildi!`,{description:"Liste yenileniyor...",duration:2e3}),T(!1),R({ad_soyad:"",kimlik_no:"",telefon_no:"",sehri:"",uyruk:"",ulkesi:"",adres:"",kategori:"",tur:"",iban:""}),e&&t.id&&e(String(t.id)),await D(),await z()}catch(r){Rt.error("❌ Error creating beneficiary:",r);const e=r instanceof Error?r.message:"Kayıt sırasında bir hata oluştu";pt.error(e)}finally{u(!1)}},className:"min-h-[44px] px-6 shadow-md hover:shadow-lg corporate-gradient",disabled:d,children:d?We.jsxs(We.Fragment,{children:[We.jsx(aa,{className:"mr-2 h-4 w-4 animate-spin"}),"Kaydediliyor..."]}):We.jsxs(We.Fragment,{children:[We.jsx(Ga,{className:"mr-2 h-4 w-4"}),"Kaydet ve Devam Et"]})})]})]})]})]}),children:We.jsxs("div",{className:"space-y-4 p-3 sm:space-y-6 sm:p-6",children:[We.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 md:grid-cols-5",children:[We.jsx(Mt,{className:"professional-card micro-interaction",children:We.jsx(Ft,{className:"p-3 sm:p-4",children:We.jsxs("div",{className:"flex items-center justify-between",children:[We.jsxs("div",{children:[We.jsx("div",{className:"text-xl text-blue-600 sm:text-2xl",children:S.total??0}),We.jsx("p",{className:"text-xs text-gray-600 sm:text-sm",children:"Toplam Kayıt"})]}),We.jsx(Ua,{className:"h-8 w-8 text-blue-500 opacity-80"})]})})}),We.jsx(Mt,{className:"professional-card micro-interaction",children:We.jsx(Ft,{className:"p-3 sm:p-4",children:We.jsxs("div",{className:"flex items-center justify-between",children:[We.jsxs("div",{children:[We.jsx("div",{className:"text-xl text-green-600 sm:text-2xl",children:S.active??0}),We.jsx("p",{className:"text-xs text-gray-600 sm:text-sm",children:"Aktif"})]}),We.jsx(qa,{className:"h-8 w-8 text-green-500 opacity-80"})]})})}),We.jsx(Mt,{className:"professional-card micro-interaction",children:We.jsx(Ft,{className:"p-3 sm:p-4",children:We.jsxs("div",{className:"flex items-center justify-between",children:[We.jsxs("div",{children:[We.jsx("div",{className:"text-xl text-orange-600 sm:text-2xl",children:S.underEvaluation??0}),We.jsx("p",{className:"text-xs text-gray-600 sm:text-sm",children:"Değerlendirmede"})]}),We.jsx(va,{className:"h-8 w-8 text-orange-500 opacity-80"})]})})}),We.jsx(Mt,{className:"professional-card micro-interaction",children:We.jsx(Ft,{className:"p-3 sm:p-4",children:We.jsxs("div",{className:"flex items-center justify-between",children:[We.jsxs("div",{children:[We.jsxs("div",{className:"text-lg text-emerald-600 sm:text-2xl",children:["₺",(S.totalAidAmount??0).toLocaleString()]}),We.jsx("p",{className:"text-xs text-gray-600 sm:text-sm",children:"Toplam Yardım"})]}),We.jsx(Wa,{className:"h-8 w-8 text-emerald-500 opacity-80"})]})})})]}),We.jsxs(Mt,{className:"professional-card",children:[We.jsx(Lt,{className:"pb-4",children:We.jsxs(jt,{className:"flex items-center gap-2",children:[We.jsx(Ua,{className:"text-primary h-5 w-5"}),"İhtiyaç Sahibi Listesi"]})}),We.jsxs(Ft,{children:[We.jsxs("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:gap-4",children:[We.jsxs("div",{className:"relative flex-1",children:[We.jsx(ga,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),We.jsx($r,{placeholder:"Ad, soyad veya TC kimlik no ile ara...",value:m,onChange:e=>{h(e.target.value)},className:"focus-corporate min-h-[44px] pl-10 text-sm sm:text-base"})]}),We.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:flex sm:gap-3",children:[We.jsxs(le,{value:p,onValueChange:f,children:[We.jsx(ce,{className:"focus-corporate min-h-[44px] min-w-[120px] text-sm sm:text-base",children:We.jsx(oe,{placeholder:"Tüm Şehirler"})}),We.jsxs(de,{children:[We.jsx(ue,{value:"all",children:"Tüm Şehirler"}),x.map(e=>We.jsx(ue,{value:e,children:e},e))]})]}),We.jsxs(le,{value:g,onValueChange:b,children:[We.jsx(ce,{className:"focus-corporate min-h-[44px] min-w-[140px] text-sm sm:text-base",children:We.jsx(oe,{placeholder:"Sıralama"})}),We.jsxs(de,{children:[We.jsx(ue,{value:"name-asc",children:"Ad (A-Z)"}),We.jsx(ue,{value:"name-desc",children:"Ad (Z-A)"}),We.jsx(ue,{value:"date-newest",children:"En Yeni"}),We.jsx(ue,{value:"date-oldest",children:"En Eski"}),We.jsx(ue,{value:"city-asc",children:"Şehir (A-Z)"}),We.jsx(ue,{value:"category-asc",children:"Kategori (A-Z)"})]})]})]})]}),We.jsx(we,{data:y,columns:j,loading:r,onRowClick:a=>e?.(String(a.id)),mobileCardRenderer:(a,t)=>We.jsx(Mt,{className:"cursor-pointer transition-shadow hover:shadow-md",onClick:()=>e?.(String(a.id)),children:We.jsxs(Ft,{className:"p-4",children:[We.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[We.jsxs("div",{className:"flex-1",children:[We.jsx("div",{className:"mb-1 text-base font-semibold",children:a.ad_soyad}),We.jsxs("div",{className:"text-sm text-gray-600",children:["#",t+1+(_-1)*E]})]}),M(a.kategori??"Genel")]}),We.jsxs("div",{className:"space-y-2 text-sm",children:[We.jsxs("div",{className:"flex justify-between",children:[We.jsx("span",{className:"text-gray-600",children:"Telefon:"}),We.jsx("span",{className:"font-medium",children:a.formatted_phone})]}),We.jsxs("div",{className:"flex justify-between",children:[We.jsx("span",{className:"text-gray-600",children:"Şehir:"}),We.jsx("span",{className:"font-medium",children:a.sehri})]}),We.jsxs("div",{className:"flex justify-between",children:[We.jsx("span",{className:"text-gray-600",children:"Tür:"}),We.jsx("span",{className:"font-medium",children:a.tur??"Belirtilmemiş"})]}),We.jsxs("div",{className:"flex items-center justify-between",children:[We.jsx("span",{className:"text-gray-600",children:"Durum:"}),P(a.status??"active")]})]}),We.jsxs("div",{className:"mt-4 flex gap-2 border-t pt-3",children:[We.jsx(It,{size:"sm",variant:"outline",className:"flex-1 min-h-[44px]",onClick:t=>{t.stopPropagation(),e?.(String(a.id))},"aria-label":`View ${a.ad_soyad} details`,children:"Detay"}),We.jsxs(n,{children:[We.jsx(i,{asChild:!0,children:We.jsx(It,{size:"sm",variant:"destructive",className:"min-h-[44px]",onClick:e=>{e.stopPropagation(),L(String(a.id))},"aria-label":`Delete ${a.ad_soyad}`,children:Ha.createElement(Pr.delete,{className:"h-4 w-4"})})}),We.jsx(s,{children:"Sil"})]})]})]})},a.id),stickyHeader:!0,emptyState:We.jsx(Ne,{title:"Henüz hiç ihtiyaç sahibi kaydı yok.",description:'İlk kayıt için "Yeni İhtiyaç Sahibi Ekle" butonunu kullanın'})})]})]})]})})})}function ke(){const[e,a]=qe.useState([]),[t,r]=qe.useState(!0),[n,i]=qe.useState(null),[s,o]=qe.useState(""),[c,d]=qe.useState("all"),[u,m]=qe.useState("all"),[h,p]=qe.useState("all"),[f,g]=qe.useState(!1),[b,y]=qe.useState(!1),[v,x]=qe.useState({applicantName:"",applicantId:"",phone:"",address:"",aidType:"Nakdi Yardım",requestedAmount:0,priority:"medium",description:""});qe.useEffect(()=>{w()},[]);const w=async()=>{try{setLoading(!0);const e=await Xr.getAidRequests(1,100);e.data?a(e.data):pt.error("Başvurular yüklenirken hata oluştu")}catch(e){pt.error("Başvurular yüklenirken hata oluştu")}},N=e=>{const a=en(e),t={pending:{label:"Beklemede",color:"bg-yellow-100 text-yellow-800"},approved:{label:"Onaylandı",color:"bg-green-100 text-green-800"},rejected:{label:"Reddedildi",color:"bg-red-100 text-red-800"},"under-review":{label:"İncelemede",color:"bg-blue-100 text-blue-800"},completed:{label:"Tamamlandı",color:"bg-purple-100 text-purple-800"}}[a];return We.jsx(l,{className:t?.color||"bg-gray-100 text-gray-800",children:t?.label||a})},_=e=>{const a=an(e),t={low:{label:"Düşük",color:"bg-gray-100 text-gray-800"},medium:{label:"Orta",color:"bg-blue-100 text-blue-800"},high:{label:"Yüksek",color:"bg-orange-100 text-orange-800"},urgent:{label:"Acil",color:"bg-red-100 text-red-800"}}[a];return We.jsx(l,{className:t?.color||"bg-gray-100 text-gray-800",children:t?.label||a})},k=e.filter(e=>{const a=e.applicant_name.toLowerCase().includes(s.toLowerCase())||e.id.includes(s)||e.description.toLowerCase().includes(s.toLowerCase()),t="all"===c||en(e.status)===c,r="all"===u||an(e.urgency)===u,n="all"===h||e.aid_type===Zr(h);return a&&t&&r&&n}),E=async a=>{try{const t=await Xr.approveAidRequest(a,e.find(e=>e.id===a)?.requested_amount||0,"current-user-id");t.error?(Rt.error("Failed to approve application:",t.error),pt.error("Başvuru onaylanırken hata oluştu")):(pt.success("Başvuru onaylandı"),w())}catch(t){Rt.error("Error approving application:",t),pt.error("Başvuru onaylanırken hata oluştu")}},A=async e=>{try{const a=await Xr.rejectAidRequest(e,"current-user-id");a.error?(Rt.error("Failed to reject application:",a.error),pt.error("Başvuru reddedilirken hata oluştu")):(pt.success("Başvuru reddedildi"),w())}catch(a){Rt.error("Error rejecting application:",a),pt.error("Başvuru reddedilirken hata oluştu")}},T={total:e.length,pending:e.filter(e=>"pending"===e.status).length,approved:e.filter(e=>"approved"===e.status).length,rejected:e.filter(e=>"rejected"===e.status).length};return We.jsxs(ne,{title:"Yardım Başvuruları",subtitle:"İhtiyaç sahipleri adına oluşturulan başvuruları değerlendirin ve yönetin",actions:We.jsx("div",{className:"flex w-full flex-wrap items-center justify-end gap-2 p-2 sm:w-auto sm:p-0",children:We.jsxs(It,{variant:"default",className:"min-h-[44px] min-w-[44px]",onClick:()=>{g(!0)},children:[We.jsx(at,{className:"h-4 w-4"}),We.jsx("span",{className:"hidden lg:inline",children:"İhtiyaç Sahibi Adına Başvuru Oluştur"}),We.jsx("span",{className:"lg:hidden",children:"Yeni Başvuru"})]})}),children:[We.jsxs("div",{className:"safe-area space-y-6 p-6",children:[We.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:gap-6 lg:grid-cols-4",children:[We.jsx(Mt,{className:"micro-interaction border border-gray-200 shadow-md transition-all duration-200 hover:shadow-lg dark:border-gray-700 dark:bg-gray-900",children:We.jsxs(Ft,{className:"p-4 sm:p-6",children:[We.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[We.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-100",children:We.jsx(Ja,{className:"h-4 w-4 text-blue-600"})}),We.jsx("div",{className:"text-right",children:We.jsx("div",{className:"text-lg font-bold text-blue-600 sm:text-xl lg:text-2xl",children:T.total})})]}),We.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Toplam Başvuru"}),We.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Bu ay toplam"})]})}),We.jsx(Mt,{className:"micro-interaction border border-gray-200 shadow-md transition-all duration-200 hover:shadow-lg dark:border-gray-700 dark:bg-gray-900",children:We.jsxs(Ft,{className:"p-4 sm:p-6",children:[We.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[We.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-yellow-100",children:We.jsx(va,{className:"h-4 w-4 text-yellow-600"})}),We.jsx("div",{className:"text-right",children:We.jsx("div",{className:"text-lg font-bold text-yellow-600 sm:text-xl lg:text-2xl",children:T.pending})})]}),We.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Beklemede"}),We.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Değerlendirme aşamasında"})]})}),We.jsx(Mt,{className:"micro-interaction border border-gray-200 shadow-md transition-all duration-200 hover:shadow-lg dark:border-gray-700 dark:bg-gray-900",children:We.jsxs(Ft,{className:"p-4 sm:p-6",children:[We.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[We.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-green-100",children:We.jsx(qa,{className:"h-4 w-4 text-green-600"})}),We.jsx("div",{className:"text-right",children:We.jsx("div",{className:"text-lg font-bold text-green-600 sm:text-xl lg:text-2xl",children:T.approved})})]}),We.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Onaylanan"}),We.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Onay oranı: %",Math.round(T.approved/T.total*100)||0]})]})}),We.jsx(Mt,{className:"micro-interaction border border-gray-200 shadow-md transition-all duration-200 hover:shadow-lg dark:border-gray-700 dark:bg-gray-900",children:We.jsxs(Ft,{className:"p-4 sm:p-6",children:[We.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[We.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-red-100",children:We.jsx(Na,{className:"h-4 w-4 text-red-600"})}),We.jsx("div",{className:"text-right",children:We.jsx("div",{className:"text-lg font-bold text-red-600 sm:text-xl lg:text-2xl",children:T.rejected})})]}),We.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Reddedilen"}),We.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Red oranı: %",Math.round(T.rejected/T.total*100)||0]})]})})]}),We.jsx(Mt,{className:"border border-gray-200 shadow-md dark:border-gray-700 dark:bg-gray-900",children:We.jsx(Ft,{className:"p-4 sm:p-6",children:We.jsxs("div",{className:"space-y-4",children:[We.jsxs("div",{className:"relative",children:[We.jsx(ga,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),We.jsx($r,{placeholder:"İhtiyaç sahibinin adı, TC kimlik no veya başvuru açıklaması ile ara...",value:s,onChange:e=>{o(e.target.value)},className:"min-h-[44px] pl-10 text-sm sm:text-base",inputMode:"search"})]}),We.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3 sm:gap-4",children:[We.jsxs(le,{value:c,onValueChange:d,children:[We.jsx(ce,{className:"min-h-[44px] text-sm sm:text-base",children:We.jsx(oe,{placeholder:"Tüm Durumlar"})}),We.jsxs(de,{children:[We.jsx(ue,{value:"all",children:"Tüm Durumlar"}),We.jsx(ue,{value:"pending",children:"Beklemede"}),We.jsx(ue,{value:"approved",children:"Onaylandı"}),We.jsx(ue,{value:"rejected",children:"Reddedildi"}),We.jsx(ue,{value:"under-review",children:"İncelemede"})]})]}),We.jsxs(le,{value:u,onValueChange:m,children:[We.jsx(ce,{className:"min-h-[44px] text-sm sm:text-base",children:We.jsx(oe,{placeholder:"Tüm Öncelikler"})}),We.jsxs(de,{children:[We.jsx(ue,{value:"all",children:"Tüm Öncelikler"}),We.jsx(ue,{value:"urgent",children:"Acil"}),We.jsx(ue,{value:"high",children:"Yüksek"}),We.jsx(ue,{value:"medium",children:"Orta"}),We.jsx(ue,{value:"low",children:"Düşük"})]})]}),We.jsxs(le,{value:h,onValueChange:p,children:[We.jsx(ce,{className:"min-h-[44px] text-sm sm:text-base",children:We.jsx(oe,{placeholder:"Tüm Türler"})}),We.jsxs(de,{children:[We.jsx(ue,{value:"all",children:"Tüm Türler"}),We.jsx(ue,{value:"Nakdi Yardım",children:"Nakdi Yardım"}),We.jsx(ue,{value:"Ayni Yardım",children:"Ayni Yardım"}),We.jsx(ue,{value:"Sağlık Yardımı",children:"Sağlık Yardımı"}),We.jsx(ue,{value:"Eğitim Yardımı",children:"Eğitim Yardımı"})]})]})]})]})})}),We.jsxs(Mt,{className:"border border-gray-200 shadow-md dark:border-gray-700 dark:bg-gray-900",children:[We.jsx(Lt,{className:"pb-4",children:We.jsxs(jt,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[We.jsx(Xa,{className:"h-5 w-5 text-blue-600"}),"Başvuru Listesi (",k.length," başvuru)"]})}),We.jsxs(Ft,{className:"p-0",children:[We.jsx("div",{className:"block sm:hidden",children:k.length>0?We.jsx("div",{className:"space-y-3 p-4",children:k.map(e=>We.jsx(Mt,{className:"border border-gray-200 transition-shadow hover:shadow-md",children:We.jsxs(Ft,{className:"p-4",children:[We.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[We.jsxs("div",{className:"flex-1",children:[We.jsx("h3",{className:"font-medium text-gray-900",children:e.applicant_name}),We.jsx("p",{className:"text-sm text-gray-600",children:e.id}),We.jsx("p",{className:"mt-1 text-xs text-gray-500",children:e.description})]}),We.jsx("div",{className:"text-right",children:_(e.urgency)})]}),We.jsxs("div",{className:"mb-3 grid grid-cols-2 gap-3 text-sm",children:[We.jsxs("div",{children:[We.jsx("span",{className:"text-gray-500",children:"Tür:"}),We.jsx("p",{className:"font-medium",children:e.aid_type})]}),We.jsxs("div",{children:[We.jsx("span",{className:"text-gray-500",children:"Tutar:"}),We.jsx("p",{className:"font-medium",children:e.requested_amount&&e.requested_amount>0?`₺${e.requested_amount.toLocaleString("tr-TR")}`:"Ayni Yardım"})]}),We.jsxs("div",{children:[We.jsx("span",{className:"text-gray-500",children:"Tarih:"}),We.jsx("p",{className:"font-medium",children:new Date(e.created_at).toLocaleDateString("tr-TR")})]}),We.jsxs("div",{children:[We.jsx("span",{className:"text-gray-500",children:"Durum:"}),We.jsx("div",{className:"mt-1",children:N(e.status)})]})]}),We.jsxs("div",{className:"flex flex-wrap items-center justify-between border-t border-gray-100 pt-3 gap-2",children:[We.jsxs("div",{className:"flex gap-2",children:[We.jsx(It,{variant:"ghost",size:"sm",className:"min-h-[44px] min-w-[44px] p-2 hover:bg-blue-50 hover:text-blue-600","aria-label":`${e.applicant_name} başvurusunu görüntüle`,children:We.jsx(ha,{className:"h-4 w-4"})}),We.jsx(It,{variant:"ghost",size:"sm",className:"min-h-[44px] min-w-[44px] p-2 hover:bg-gray-50","aria-label":`${e.applicant_name} başvurusunu düzenle`,children:We.jsx(Za,{className:"h-4 w-4"})})]}),"pending"===e.status&&We.jsxs("div",{className:"flex gap-2",children:[We.jsx(It,{variant:"ghost",size:"sm",onClick:()=>{E(e.id)},className:"min-h-[44px] min-w-[44px] p-2 text-green-600 hover:bg-green-50 hover:text-green-700","aria-label":`${e.applicant_name} başvurusunu onayla`,children:We.jsx(qa,{className:"h-4 w-4"})}),We.jsx(It,{variant:"ghost",size:"sm",onClick:()=>{A(e.id)},className:"min-h-[44px] min-w-[44px] p-2 text-red-600 hover:bg-red-50 hover:text-red-700","aria-label":`${e.applicant_name} başvurusunu reddet`,children:We.jsx(Na,{className:"h-4 w-4"})})]})]})]})},e.id))}):We.jsxs("div",{className:"p-6 text-center",children:[We.jsx(Qa,{className:"mx-auto mb-4 h-12 w-12 text-gray-300"}),We.jsx("p",{className:"mb-2 text-gray-600",children:"Başvuru bulunamadı"}),We.jsx("p",{className:"text-sm text-gray-400",children:"Arama kriterlerinize uygun başvuru bulunmuyor"})]})}),We.jsx("div",{className:"hidden overflow-x-auto sm:block",children:We.jsxs(fe,{children:[We.jsx(ge,{children:We.jsxs(ye,{className:"bg-gray-50/50",children:[We.jsx(ve,{className:"min-w-[200px] p-3 sm:p-4",children:"İhtiyaç Sahibi"}),We.jsx(ve,{className:"min-w-[120px] p-3 sm:p-4",children:"Başvuru Tarihi"}),We.jsx(ve,{className:"min-w-[140px] p-3 sm:p-4",children:"Yardım Türü"}),We.jsx(ve,{className:"min-w-[120px] p-3 sm:p-4",children:"Talep Edilen"}),We.jsx(ve,{className:"min-w-[100px] p-3 sm:p-4",children:"Öncelik"}),We.jsx(ve,{className:"min-w-[120px] p-3 sm:p-4",children:"Durum"}),We.jsx(ve,{className:"min-w-[180px] p-3 text-center sm:p-4",children:"İşlemler"})]})}),We.jsx(be,{children:k.map(e=>We.jsxs(ye,{className:"transition-colors hover:bg-gray-50/50",children:[We.jsx(xe,{className:"p-3 sm:p-4",children:We.jsxs("div",{children:[We.jsx("p",{className:"font-medium",children:e.applicant_name}),We.jsx("p",{className:"text-muted-foreground text-sm",children:e.id})]})}),We.jsx(xe,{className:"p-3 sm:p-4",children:We.jsxs("div",{className:"flex items-center gap-2",children:[We.jsx(et,{className:"h-4 w-4 text-gray-400"}),We.jsx("span",{className:"text-sm",children:new Date(e.created_at).toLocaleDateString("tr-TR")})]})}),We.jsx(xe,{className:"p-3 sm:p-4",children:We.jsx(l,{variant:"outline",children:e.aid_type})}),We.jsx(xe,{className:"p-3 sm:p-4",children:We.jsx("span",{className:"font-medium",children:e.requested_amount&&e.requested_amount>0?`₺${e.requested_amount.toLocaleString("tr-TR")}`:"Ayni Yardım"})}),We.jsx(xe,{className:"p-3 sm:p-4",children:_(e.urgency)}),We.jsx(xe,{className:"p-3 sm:p-4",children:N(e.status)}),We.jsx(xe,{className:"p-3 sm:p-4",children:We.jsxs("div",{className:"flex items-center justify-center gap-2",children:[We.jsx(It,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-50 hover:text-blue-600","aria-label":`${e.applicant_name} başvurusunu görüntüle`,children:We.jsx(ha,{className:"h-4 w-4"})}),We.jsx(It,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-gray-50","aria-label":`${e.applicant_name} başvurusunu düzenle`,children:We.jsx(Za,{className:"h-4 w-4"})}),"pending"===e.status&&We.jsxs(We.Fragment,{children:[We.jsx(It,{variant:"ghost",size:"sm",onClick:()=>{E(e.id)},className:"h-8 w-8 p-0 text-green-600 hover:bg-green-50 hover:text-green-700","aria-label":`${e.applicant_name} başvurusunu onayla`,children:We.jsx(qa,{className:"h-4 w-4"})}),We.jsx(It,{variant:"ghost",size:"sm",onClick:()=>{A(e.id)},className:"h-8 w-8 p-0 text-red-600 hover:bg-red-50 hover:text-red-700","aria-label":`${e.applicant_name} başvurusunu reddet`,children:We.jsx(Na,{className:"h-4 w-4"})})]})]})})]},e.id))})]})})]})]})]}),We.jsx(Ar,{open:f,onOpenChange:g,children:We.jsxs(Or,{className:"max-h-[90vh] overflow-y-auto sm:max-w-[600px]",children:[We.jsxs(Rr,{children:[We.jsxs(zr,{className:"flex items-center gap-2",children:[We.jsx(at,{className:"h-5 w-5"}),"Yeni Yardım Başvurusu"]}),We.jsx(Cr,{children:"İhtiyaç sahibi adına başvuru oluşturun. Zorunlu alanları (*) doldurmanız gereklidir."})]}),We.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!v.applicantName||!v.applicantId||!v.phone)return pt.error("Lütfen zorunlu alanları doldurun"),void 0;try{y(!0);const e=await Xr.createAidRequest({applicant_name:v.applicantName,applicant_phone:v.phone,applicant_address:v.address,aid_type:Zr(v.aidType),requested_amount:v.requestedAmount||null,urgency:Qr(v.priority),description:v.description,reason:v.description});e.error?(Rt.error("Failed to create application:",e.error),pt.error("Başvuru oluşturulurken hata oluştu")):(pt.success("Başvuru başarıyla oluşturuldu!"),g(!1),w(),x({applicantName:"",applicantId:"",phone:"",address:"",aidType:"Nakdi Yardım",requestedAmount:0,priority:"medium",description:""}))}catch(a){Rt.error("Error creating application:",a),pt.error("Başvuru oluşturulurken hata oluştu")}finally{y(!1)}},className:"space-y-4 py-4",children:[We.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[We.jsxs("div",{className:"space-y-2",children:[We.jsxs(se,{htmlFor:"applicantName",children:["Başvuran Adı ",We.jsx("span",{className:"text-red-500",children:"*"})]}),We.jsx($r,{id:"applicantName",value:v.applicantName,onChange:e=>{x({...v,applicantName:e.target.value})},placeholder:"İhtiyaç sahibinin tam adı",required:!0})]}),We.jsxs("div",{className:"space-y-2",children:[We.jsxs(se,{htmlFor:"applicantId",children:["T.C. Kimlik No ",We.jsx("span",{className:"text-red-500",children:"*"})]}),We.jsx($r,{id:"applicantId",value:v.applicantId,onChange:e=>{x({...v,applicantId:e.target.value})},placeholder:"11 haneli kimlik numarası",required:!0,maxLength:11})]})]}),We.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[We.jsxs("div",{className:"space-y-2",children:[We.jsxs(se,{htmlFor:"phone",children:["Telefon ",We.jsx("span",{className:"text-red-500",children:"*"})]}),We.jsx($r,{id:"phone",type:"tel",value:v.phone,onChange:e=>{x({...v,phone:e.target.value})},placeholder:"05XX XXX XX XX",required:!0})]}),We.jsxs("div",{className:"space-y-2",children:[We.jsx(se,{htmlFor:"priority",children:"Öncelik"}),We.jsxs(le,{value:v.priority,onValueChange:e=>{x({...v,priority:e})},children:[We.jsx(ce,{children:We.jsx(oe,{placeholder:"Öncelik seçin"})}),We.jsxs(de,{children:[We.jsx(ue,{value:"low",children:"Düşük"}),We.jsx(ue,{value:"medium",children:"Orta"}),We.jsx(ue,{value:"high",children:"Yüksek"}),We.jsx(ue,{value:"critical",children:"Acil"})]})]})]})]}),We.jsxs("div",{className:"space-y-2",children:[We.jsx(se,{htmlFor:"address",children:"Adres"}),We.jsx(Jr,{id:"address",value:v.address,onChange:e=>{x({...v,address:e.target.value})},placeholder:"Açık adres",rows:2})]}),We.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[We.jsxs("div",{className:"space-y-2",children:[We.jsx(se,{htmlFor:"aidType",children:"Yardım Türü"}),We.jsxs(le,{value:v.aidType,onValueChange:e=>{x({...v,aidType:e})},children:[We.jsx(ce,{children:We.jsx(oe,{placeholder:"Tür seçin"})}),We.jsxs(de,{children:[We.jsx(ue,{value:"Nakdi Yardım",children:"Nakdi Yardım"}),We.jsx(ue,{value:"Ayni Yardım",children:"Ayni Yardım"}),We.jsx(ue,{value:"Sağlık Yardımı",children:"Sağlık Yardımı"}),We.jsx(ue,{value:"Eğitim Yardımı",children:"Eğitim Yardımı"})]})]})]}),We.jsxs("div",{className:"space-y-2",children:[We.jsx(se,{htmlFor:"requestedAmount",children:"Talep Edilen Miktar (TL)"}),We.jsx($r,{id:"requestedAmount",type:"number",value:v.requestedAmount||"",onChange:e=>{x({...v,requestedAmount:parseFloat(e.target.value)||0})},placeholder:"0",min:"0"})]})]}),We.jsxs("div",{className:"space-y-2",children:[We.jsx(se,{htmlFor:"description",children:"Açıklama"}),We.jsx(Jr,{id:"description",value:v.description,onChange:e=>{x({...v,description:e.target.value})},placeholder:"Yardım talebinin detayları",rows:3})]}),We.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[We.jsx(It,{type:"button",variant:"outline",onClick:()=>{g(!1)},disabled:b,children:"İptal"}),We.jsx(It,{type:"submit",disabled:b,children:b?"Kaydediliyor...":"Başvuru Oluştur"})]})]})]})})]})}var Ee,Ae,Te,Se,Ie,Oe,Re,De,ze,Ce,Pe,Me,Le,je,Be,Fe,$e,Ve,Ye,Ue;import{r as qe,j as We,R as Ke,T as Ge,P as He,C as Je,A as Xe,a as Ze,S as Qe,X as ea,L as aa,c as ta,H as ra,b as na,d as ia,e as sa,f as la,g as oa,h as ca,D as da,O as ua,i as ma,E as ha,k as pa,M as fa,l as ga,m as ba,n as ya,o as va,I as xa,p as wa,q as Na,s as _a,t as ka,u as Ea,v as Aa,w as Ta,x as Sa,y as Ia,V as Oa,z as Ra,B as Da,F as za,G as Ca,J as Pa,K as Ma,N as La,Q as ja,U as Ba,W as Fa,Y as $a,Z as Va,_ as Ya,$ as Ua,a0 as qa,a1 as Wa,a2 as Ka,a3 as Ga,a4 as Ha,a5 as Ja,a6 as Xa,a7 as Za,a8 as Qa,a9 as et,aa as at}from"./react-vendor-Zi_jsHoK.js";import{t as tt,c as rt,a as nt,f as it,b as st,i as lt,p as ot,d as ct,e as dt,g as ut,h as mt,C as ht}from"./utils-vendor-CH-VcvGo.js";import{t as pt}from"./toast-vendor-Ci27VDWJ.js";import{C as ft,A as gt,D as bt,S as yt,I as vt,Q as xt,a as wt}from"./appwrite-vendor-Ct7vfU_L.js";import{m as Nt}from"./motion-vendor-iBxafAnt.js";Ee="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};const _t=nt(["inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium","min-h-[44px] transition-all duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","active:scale-[0.98]"],{variants:{variant:{default:["bg-primary-500 text-white shadow-sm hover:bg-primary-600","focus-visible:ring-primary-500/20"],destructive:["bg-error-500 text-white shadow-sm hover:bg-error-600","focus-visible:ring-error-500/20"],outline:["border border-neutral-200 bg-white shadow-sm hover:bg-neutral-50 hover:text-neutral-900","focus-visible:ring-primary-500/20"],secondary:["bg-neutral-100 text-neutral-900 shadow-sm hover:bg-neutral-200","focus-visible:ring-neutral-500/20"],ghost:["hover:bg-neutral-100 hover:text-neutral-900","focus-visible:ring-neutral-500/20"],link:["text-primary-500 underline-offset-4 hover:underline","focus-visible:ring-primary-500/20 min-h-0"],success:["bg-success-500 text-white shadow-sm hover:bg-success-600","focus-visible:ring-success-500/20"],warning:["bg-warning-500 text-white shadow-sm hover:bg-warning-600","focus-visible:ring-warning-500/20"],info:["bg-info-500 text-white shadow-sm hover:bg-info-600","focus-visible:ring-info-500/20"]},size:{xs:"h-8 min-h-[32px] px-2.5 text-xs",sm:"h-9 min-h-[36px] px-3 text-xs",default:"h-10 px-4",lg:"h-11 px-6 text-base",xl:"h-12 px-8 text-lg",icon:"h-10 w-10 min-h-[40px] min-w-[40px] p-0"},loading:{true:"cursor-not-allowed opacity-70",false:""}},compoundVariants:[{variant:"ghost",size:"icon",class:"hover:bg-neutral-100"},{variant:"outline",size:"icon",class:"border-neutral-200"}],defaultVariants:{variant:"default",size:"default",loading:!1}}),kt=nt(["rounded-lg border bg-white text-neutral-950 shadow-sm","transition-shadow duration-200"],{variants:{variant:{default:"border-neutral-200",elevated:"border-neutral-200 shadow-md hover:shadow-lg",outlined:"border-2 border-neutral-200 shadow-none",ghost:"border-transparent shadow-none bg-transparent"},padding:{none:"p-0",sm:"p-3",default:"p-4",lg:"p-6",xl:"p-8"},interactive:{true:"cursor-pointer hover:shadow-md transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2",false:""}},defaultVariants:{variant:"default",padding:"default",interactive:!1}}),Et=nt(["inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold","transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2"],{variants:{variant:{default:"border-transparent bg-primary-500 text-white hover:bg-primary-600",secondary:"border-transparent bg-neutral-100 text-neutral-900 hover:bg-neutral-200",destructive:"border-transparent bg-error-500 text-white hover:bg-error-600",outline:"border-neutral-200 text-neutral-950 hover:bg-neutral-100",success:"border-transparent bg-success-500 text-white hover:bg-success-600",warning:"border-transparent bg-warning-500 text-white hover:bg-warning-600",info:"border-transparent bg-info-500 text-white hover:bg-info-600"},size:{xs:"px-1.5 py-0.5 text-xs",sm:"px-2 py-0.5 text-xs",default:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}},defaultVariants:{variant:"default",size:"default"}}),At=nt(["animate-pulse rounded-md bg-neutral-100","relative overflow-hidden","before:absolute before:inset-0 before:-translate-x-full before:animate-shimmer before:bg-gradient-to-r before:from-transparent before:via-white/60 before:to-transparent"],{variants:{variant:{default:"bg-neutral-100",text:"h-4 bg-neutral-100",avatar:"rounded-full bg-neutral-100",button:"h-9 bg-neutral-100",card:"h-32 bg-neutral-100",input:"h-9 bg-neutral-100"},size:{xs:"h-3",sm:"h-4",default:"h-5",lg:"h-6",xl:"h-8"}},defaultVariants:{variant:"default",size:"default"}}),Tt=nt(["animate-spin rounded-full border-2 border-current border-t-transparent"],{variants:{size:{xs:"h-3 w-3",sm:"h-4 w-4",default:"h-5 w-5",lg:"h-6 w-6",xl:"h-8 w-8"},variant:{default:"text-neutral-500",primary:"text-primary-500",white:"text-white"}},defaultVariants:{size:"default",variant:"default"}}),St={light:[10],medium:[20],heavy:[50],success:[10,10,10],warning:[30,10,30],error:[50,50,50]};qe.memo(l,(e,a)=>e.variant===a.variant&&e.size===a.size&&e.removable===a.removable&&e.animated===a.animated&&e.className===a.className&&e.children===a.children);const It=qe.forwardRef(({className:e,variant:a,size:r,asChild:o=!1,loading:c=!1,loadingText:d,iconLeft:u,iconRight:m,fullWidth:h=!1,ripple:p=!1,haptic:f,tooltip:g,badge:b,ariaLabel:y,disabled:v,children:x,badgeVariant:w,touchOptimized:N=!1,onClick:_,...k},E)=>{const A=o?Qe:"button",T=v||c,{ripples:S,addRipple:I}=(()=>{const[e,a]=qe.useState([]);return{ripples:e,addRipple:qe.useCallback(e=>{const t=e.currentTarget.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top,i=Date.now();a(e=>[...e,{id:i,x:r,y:n}]),setTimeout(()=>{a(e=>e.filter(e=>e.id!==i))},600)},[])}})(),{triggerHaptic:O}=function(){const e=qe.useCallback((e="medium")=>{if(!("vibrate"in navigator))return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const a=St[e];navigator.vibrate(a)},[]),a=qe.useCallback(()=>{e("success")},[e]),t=qe.useCallback(()=>{e("warning")},[e]),r=qe.useCallback(()=>{e("error")},[e]),n=qe.useCallback(()=>{e("light")},[e]),i=qe.useCallback(()=>{e("medium")},[e]),s=qe.useCallback(()=>{e("heavy")},[e]);return{triggerHaptic:e,triggerSuccess:a,triggerWarning:t,triggerError:r,triggerLight:n,triggerMedium:i,triggerHeavy:s}}(),R=!qe.useMemo(()=>{const e=a=>"string"==typeof a||"number"==typeof a||!(!qe.isValidElement(a)||!a.props?.children)&&qe.Children.toArray(a.props.children).some(e);return qe.Children.toArray(x).some(e)},[x]),D=w??("destructive"===a?"destructive":"info"),z=We.jsxs(A,{"data-slot":"button",className:t(_t({variant:a,size:r,loading:c}),h&&"w-full",c&&"cursor-wait",p&&"relative overflow-hidden",b&&"relative",N&&"min-h-[44px] min-w-[44px] sm:min-h-0 sm:min-w-0",e),ref:E,disabled:T,"aria-disabled":T,"aria-busy":c,"aria-label":y||(g&&R?g:void 0),onClick:e=>{p&&!T&&I(e),f&&!T&&O(f),_?.(e)},...k,children:[c&&We.jsx(aa,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}),!c&&u&&We.jsx("span",{className:"inline-flex","aria-hidden":"true",children:u}),We.jsx("span",{className:t(c&&u&&"sr-only"),children:c&&d||x}),!c&&m&&We.jsx("span",{className:"inline-flex","aria-hidden":"true",children:m}),b&&We.jsx(l,{variant:D,size:"sm",className:"absolute -top-1.5 -right-1.5 min-w-5 h-5 flex items-center justify-center px-1.5 rounded-full shadow-sm","aria-label":`${b} notifications`,children:b}),p&&S.map(e=>We.jsx("span",{className:"absolute pointer-events-none animate-ping bg-white/60",style:{left:e.x-10,top:e.y-10,width:20,height:20,borderRadius:"50%",transform:"scale(0)",animation:"ripple 0.6s linear"}},e.id))]});return g?We.jsxs(n,{children:[We.jsx(i,{asChild:!0,children:z}),We.jsx(s,{children:We.jsx("p",{children:g})})]}):z});It.displayName="Button",qe.memo(It,(e,a)=>e.variant===a.variant&&e.size===a.size&&e.loading===a.loading&&e.disabled===a.disabled&&e.fullWidth===a.fullWidth&&e.className===a.className&&e.children===a.children);class Ot{config;static instance;constructor(e){this.config={level:this.getEnvironmentLogLevel(),prefix:"[DernekYS]",enableConsole:this.shouldEnableConsole(),enableAnalytics:!1,...e}}static getInstance(e){return Ot.instance||(Ot.instance=new Ot(e)),Ot.instance}getEnvironmentLogLevel(){return"undefined"==typeof window?1:3}shouldEnableConsole(){return!1}formatMessage(e,a,...t){const r=(new Date).toISOString(),{prefix:n}=this.config;return`[${r}] ${n} [${e}] ${a}`}log(e,a,t,...r){e<this.config.level||(this.formatMessage(a,t,...r),this.config.enableConsole,this.config.enableAnalytics&&e>=3&&this.sendToAnalytics(a,t,r))}sendToAnalytics(e,a,t){}debug(e,...a){this.log(0,"DEBUG",e,...a)}info(e,...a){this.log(1,"INFO",e,...a)}warn(e,...a){this.log(2,"WARN",e,...a)}error(e,...a){this.log(3,"ERROR",e,...a)}storeInit(e,...a){this.info(`Store: ${e}`,...a)}api(e,...a){this.debug(`API: ${e}`,...a)}dev(e,...a){}}const Rt=Ot.getInstance(),Dt=(e,...a)=>{Rt.log(1,"INFO",`Auth: ${e}`,...a)},zt=(e,...a)=>{Rt.log(2,"WARN",`Auth: ${e}`,...a)},Ct=(e,a,...t)=>{Rt.log(3,"ERROR",`Auth error on ${e}: ${String(a)}`,...t)},Pt={short:"dd.MM.yyyy",long:"dd MMMM yyyy",full:"dd MMMM yyyy EEEE"},Mt=qe.forwardRef(({className:e,variant:a,padding:t,interactive:r,...n},i)=>We.jsx("div",{ref:i,className:h(kt({variant:a,padding:t,interactive:r}),e),tabIndex:r?0:void 0,role:r?"button":void 0,...n}));Mt.displayName="Card";const Lt=qe.forwardRef(({className:e,...a},t)=>We.jsx("div",{ref:t,className:h("flex flex-col space-y-1.5 p-4",e),...a}));Lt.displayName="CardHeader";const jt=qe.forwardRef(({className:e,...a},t)=>We.jsx("h3",{ref:t,className:h("text-lg font-semibold leading-tight tracking-tight",e),"data-slot":"card-title",...a}));jt.displayName="CardTitle";const Bt=qe.forwardRef(({className:e,...a},t)=>We.jsx("p",{ref:t,className:h("text-sm text-neutral-600 dark:text-neutral-400",e),...a}));Bt.displayName="CardDescription";const Ft=qe.forwardRef(({className:e,...a},t)=>We.jsx("div",{ref:t,className:h("p-4 pt-0",e),...a}));Ft.displayName="CardContent",qe.forwardRef(({className:e,...a},t)=>We.jsx("div",{ref:t,className:h("flex items-center gap-2 p-4 pt-0",e),...a})).displayName="CardFooter";const $t=e=>{let a;const t=new Set,r=(e,r)=>{const n="function"==typeof e?e(a):e;if(!Object.is(n,a)){const e=a;a=(null!=r?r:"object"!=typeof n||null===n)?n:Object.assign({},a,n),t.forEach(t=>t(a,e))}},n=()=>a,i={setState:r,getState:n,getInitialState:()=>s,subscribe:e=>(t.add(e),()=>t.delete(e))},s=a=e(r,n,i);return i},Vt=e=>e?$t(e):$t,Yt={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APPWRITE_API_KEY:"standard_312fec86d74bc55b3f6b026062001bfa144270f98504aa424c86054d9aa0b3a114fb5428bb24faef633a44a76ee5aff9eaa29a808bf78a1f0be63248c9582ca8ced7465a414e7572bed11156df1c859b0e57a5a30c9f74ebc73ef80bd2866c7a5fcd747477c9d08f8d4f4d975530acc666e872a9b33599b5421ae45ef9e3f67e",VITE_APPWRITE_DATABASE_ID:"dernek_yonetim_db",VITE_APPWRITE_ENDPOINT:"https://fra.cloud.appwrite.io/v1",VITE_APPWRITE_PROJECT_ID:"68e99f6c000183bafb39",VITE_APPWRITE_PROJECT_NAME:"Kafkasder Management System",VITE_APP_DEBUG:"true",VITE_APP_NAME:"Kafkasder Yönetim Sistemi",VITE_APP_VERSION:"1.0.0",VITE_CSRF_SECRET:"kafkasder-csrf-secret-2024",VITE_ENABLE_ANALYTICS:"false",VITE_ENABLE_MOCK_DATA:"false",VITE_ENABLE_OCR:"true",VITE_ENABLE_OFFLINE_MODE:"true",VITE_ENABLE_PWA:"true",VITE_RATE_LIMIT:"100",VITE_SESSION_TIMEOUT:"3600"},Ut=new Map,qt=e=>{const a=Ut.get(e);return a?Object.fromEntries(Object.entries(a.stores).map(([e,a])=>[e,a.getState()])):{}},Wt=e=>{var a,t;if(!e)return;const r=e.split("\n"),n=r.findIndex(e=>e.includes("api.setState"));if(n<0)return;const i=(null==(a=r[n+1])?void 0:a.trim())||"";return null==(t=/.+ (.+) .+/.exec(i))?void 0:t[1]},Kt=(e,a)=>{let t;try{t=JSON.parse(e)}catch(r){void 0}void 0!==t&&a(t)},Gt=e=>a=>{try{const t=e(a);return t instanceof Promise?t:{then:e=>Gt(e)(t),catch(e){return this}}}catch(t){return{then(e){return this},catch:e=>Gt(e)(t)}}},Ht=(e,a)=>(t,r,n)=>{let i={storage:p(()=>localStorage),partialize:e=>e,version:0,merge:(e,a)=>({...a,...e}),...a},s=!1;const l=new Set,o=new Set;let c=i.storage;if(!c)return e((...e)=>{void 0,t(...e)},r,n);const d=()=>{const e=i.partialize({...r()});return c.setItem(i.name,{state:e,version:i.version})},u=n.setState;n.setState=(e,a)=>(u(e,a),d());const m=e((...e)=>(t(...e),d()),r,n);let h;n.getInitialState=()=>m;const f=()=>{var e,a;if(!c)return;s=!1,l.forEach(e=>{var a;return e(null!=(a=r())?a:m)});const n=(null==(a=i.onRehydrateStorage)?void 0:a.call(i,null!=(e=r())?e:m))||void 0;return Gt(c.getItem.bind(c))(i.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];if(i.migrate){const a=i.migrate(e.state,e.version);return a instanceof Promise?a.then(e=>[!0,e]):[!0,a]}void 0}return[!1,void 0]}).then(e=>{var a;const[n,s]=e;if(h=i.merge(s,null!=(a=r())?a:m),t(h,!0),n)return d()}).then(()=>{null==n?void 0:n(h,void 0),h=r(),s=!0,o.forEach(e=>e(h))}).catch(e=>{null==n?void 0:n(void 0,e)})};return n.persist={setOptions:e=>{i={...i,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c?void 0:c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>s,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(o.add(e),()=>{o.delete(e)})},i.skipHydration||f(),h||m};Ae=Symbol.for("immer-nothing"),Te=Symbol.for("immer-draftable"),Se=Symbol.for("immer-state"),Ie=Object.getPrototypeOf,Oe=Object.prototype.constructor.toString(),Re={},Ce={},v(ze={get(e,a){if(a===Se)return e;const t=E(e);if(!w(t,a))return function(e,a,t){const r=V(a,t);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,t,a);const r=t[a];return e.finalized_||!b(r)?r:r===$(e.base_,a)?(U(e),e.copy_[a]=q(r,e)):r},has:(e,a)=>a in E(e),ownKeys:e=>Reflect.ownKeys(E(e)),set(e,a,t){const r=V(E(e),a);if(r?.set)return r.set.call(e.draft_,t),!0;if(!e.modified_){const r=$(E(e),a),s=r?.[Se];if(s&&s.base_===t)return e.copy_[a]=t,e.assigned_[a]=!1,!0;if(((n=t)===(i=r)?0!==n||1/n==1/i:n!=n&&i!=i)&&(void 0!==t||w(e.base_,a)))return!0;U(e),Y(e)}var n,i;return e.copy_[a]===t&&(void 0!==t||a in e.copy_)||Number.isNaN(t)&&Number.isNaN(e.copy_[a])||(e.copy_[a]=t,e.assigned_[a]=!0),!0},deleteProperty:(e,a)=>(void 0!==$(e.base_,a)||a in e.base_?(e.assigned_[a]=!1,U(e),Y(e)):delete e.assigned_[a],e.copy_&&delete e.copy_[a],!0),getOwnPropertyDescriptor(e,a){const t=E(e),r=Reflect.getOwnPropertyDescriptor(t,a);return r?{writable:!0,configurable:1!==e.type_||"length"!==a,enumerable:r.enumerable,value:t[a]}:r},defineProperty(){f(11)},getPrototypeOf:e=>Ie(e.base_),setPrototypeOf(){f(12)}},(e,a)=>{Ce[e]=function(){return arguments[0]=arguments[0][0],a.apply(this,arguments)}}),Ce.deleteProperty=function(e,a){return Ce.set.call(this,e,a,void 0)},Ce.set=function(e,a,t){return ze.set.call(this,e[0],a,t,e[0])},Pe=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,a,t)=>{if("function"==typeof e&&"function"!=typeof a){const t=a;a=e;const r=this;return function(e=t,...n){return r.produce(e,e=>a.call(this,e,...n))}}let r;if("function"!=typeof a&&f(6),void 0!==t&&"function"!=typeof t&&f(7),b(e)){const n=P(this),i=q(e,void 0);let s=!0;try{r=a(i),s=!1}finally{s?z(n):C(n)}return D(n,t),L(r,n)}if(!e||"object"!=typeof e){if(r=a(e),void 0===r&&(r=e),r===Ae&&(r=void 0),this.autoFreeze_&&T(r,!0),t){const a=[],n=[];O("Patches").generateReplacementPatches_(e,r,a,n),t(a,n)}return r}f(1)},this.produceWithPatches=(e,a)=>{if("function"==typeof e)return(a,...t)=>this.produceWithPatches(a,a=>e(a,...t));let t,r;return[this.produce(e,a,(e,a)=>{t=e,r=a}),t,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){b(e)||f(8),g(e)&&(e=W(e));const a=P(this),t=q(e,void 0);return t[Se].isManual_=!0,C(a),t}finishDraft(e,a){const t=e&&e[Se];t&&t.isManual_||f(9);const{scope_:r}=t;return D(r,a),L(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,a){let t;for(t=a.length-1;t>=0;t--){const r=a[t];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}t>-1&&(a=a.slice(t+1));const r=O("Patches").applyPatches_;return g(e)?r(e,a):this.produce(e,e=>r(e,a))}},Me=Pe.produce;const Jt={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APPWRITE_API_KEY:"standard_312fec86d74bc55b3f6b026062001bfa144270f98504aa424c86054d9aa0b3a114fb5428bb24faef633a44a76ee5aff9eaa29a808bf78a1f0be63248c9582ca8ced7465a414e7572bed11156df1c859b0e57a5a30c9f74ebc73ef80bd2866c7a5fcd747477c9d08f8d4f4d975530acc666e872a9b33599b5421ae45ef9e3f67e",VITE_APPWRITE_DATABASE_ID:"dernek_yonetim_db",VITE_APPWRITE_ENDPOINT:"https://fra.cloud.appwrite.io/v1",VITE_APPWRITE_PROJECT_ID:"68e99f6c000183bafb39",VITE_APPWRITE_PROJECT_NAME:"Kafkasder Management System",VITE_APP_DEBUG:"true",VITE_APP_NAME:"Kafkasder Yönetim Sistemi",VITE_APP_VERSION:"1.0.0",VITE_CSRF_SECRET:"kafkasder-csrf-secret-2024",VITE_ENABLE_ANALYTICS:"false",VITE_ENABLE_MOCK_DATA:"false",VITE_ENABLE_OCR:"true",VITE_ENABLE_OFFLINE_MODE:"true",VITE_ENABLE_PWA:"true",VITE_RATE_LIMIT:"100",VITE_SESSION_TIMEOUT:"3600"},Xt={mode:G("MODE","development")||"development",app:{name:G("VITE_APP_NAME","Kafkasder Management System"),version:G("VITE_APP_VERSION","1.0.0"),debug:H("VITE_APP_DEBUG",!0)},appwrite:{endpoint:G("VITE_APPWRITE_ENDPOINT"),projectId:G("VITE_APPWRITE_PROJECT_ID"),projectName:G("VITE_APPWRITE_PROJECT_NAME"),databaseId:G("VITE_APPWRITE_DATABASE_ID")},sentry:G("VITE_SENTRY_DSN")?{dsn:G("VITE_SENTRY_DSN"),environment:G("MODE","development")}:void 0,features:{ocr:H("VITE_ENABLE_OCR",!0),pwa:H("VITE_ENABLE_PWA",!0),analytics:H("VITE_ENABLE_ANALYTICS",!1),mockData:H("VITE_ENABLE_MOCK_DATA",!1),offlineMode:H("VITE_ENABLE_OFFLINE_MODE",!0)},security:{csrfSecret:G("VITE_CSRF_SECRET"),sessionTimeout:J("VITE_SESSION_TIMEOUT",3600),rateLimit:J("VITE_RATE_LIMIT",100)}};Xt.appwrite.endpoint?.startsWith("http")||Rt.warn("Invalid or missing VITE_APPWRITE_ENDPOINT. Appwrite features will be disabled."),Xt.appwrite.projectId||Rt.warn("Missing VITE_APPWRITE_PROJECT_ID. Appwrite features will be disabled."),Xt.appwrite.databaseId||Rt.warn("Missing VITE_APPWRITE_DATABASE_ID. Appwrite features will be disabled.");const Zt=()=>Boolean(Xt.appwrite.endpoint?.startsWith("http")&&Xt.appwrite.projectId&&Xt.appwrite.databaseId);let Qt=null;const er=Qt||("undefined"!=typeof window&&window.__appwriteClient?window.__appwriteClient:Zt()?(Qt=(new ft).setEndpoint(Xt.appwrite.endpoint).setProject(Xt.appwrite.projectId),"undefined"!=typeof window&&(window.__appwriteClient=Qt),Rt.info("Appwrite Client initialized",{endpoint:Xt.appwrite.endpoint,projectId:Xt.appwrite.projectId,databaseId:Xt.appwrite.databaseId}),"development"===Xt.mode&&function(){const e={endpoint:Xt.appwrite.endpoint,projectId:Xt.appwrite.projectId,projectName:Xt.appwrite.projectName,databaseId:Xt.appwrite.databaseId};Rt.info("Appwrite Configuration Debug:",e);const a=[];e.endpoint.startsWith("http")||a.push("Invalid endpoint URL"),(!e.projectId||e.projectId.length<10)&&a.push("Invalid or missing project ID"),(!e.databaseId||e.databaseId.length<10)&&a.push("Invalid or missing database ID"),a.length>0?Rt.warn("Appwrite Configuration Issues:",a):Rt.info("Appwrite configuration looks good"),a.length}(),Qt):(Rt.warn("Appwrite not configured, using mock data mode"),null)),ar=er?new gt(er):null,tr=er?new bt(er):null,rr=er?new yt(er):null,nr=Xt.appwrite.databaseId,ir={USER_PROFILES:"user_profiles",USERS:"users",USER_ACTIVITIES:"user_activities",BENEFICIARIES:"beneficiaries",DONATIONS:"donations",AID_APPLICATIONS:"aid_applications",FINANCE_TRANSACTIONS:"finance_transactions",CAMPAIGNS:"campaigns",LEGAL_CONSULTATIONS:"legal_consultations",EVENTS:"events",INVENTORY_ITEMS:"inventory_items",NOTIFICATIONS:"notifications",TASKS:"tasks",ROLES:"roles",PERMISSIONS:"permissions",SYSTEM_SETTINGS:"system_settings",MESSAGES:"messages",CONVERSATIONS:"conversations",CONVERSATION_PARTICIPANTS:"conversation_participants",MESSAGE_ATTACHMENTS:"message_attachments",MESSAGE_READ_STATUS:"message_read_status",USER_PRESENCE:"user_presence",TYPING_INDICATORS:"typing_indicators"},sr={beneficiaries:{full_name:"ad_soyad",phone:"telefon_no",city:"sehri",district:"yerlesimi",neighborhood:"mahalle",address:"adres",nationality:"uyruk",country:"ulkesi",settlement:"yerlesimi",iban:"iban",family_members_count:"ailedeki_kisi_sayisi",monthly_income:"toplam_tutar",description:"kategori",notes:"tur",application_date:"kayit_tarihi",identity_number:"kimlik_no",status:"status",created_at:"created_at",updated_at:"updated_at",created_by:"created_by",updated_by:"updated_by"}},lr={list:async(e,a=[])=>{try{return{data:await tr.listDocuments(nr,e,a),error:null}}catch(t){return Rt.error(`Error listing documents from ${e}:`,t),{data:null,error:t}}},get:async(e,a)=>{try{return{data:await tr.getDocument(nr,e,a),error:null}}catch(t){return Rt.error(`Error getting document ${a} from ${e}:`,t),{data:null,error:t}}},create:async(e,a,t=vt.unique(),r)=>{try{return{data:await tr.createDocument(nr,e,t,a,r),error:null}}catch(n){return Rt.error(`Error creating document in ${e}:`,n),{data:null,error:n}}},update:async(e,a,t,r)=>{try{return{data:await tr.updateDocument(nr,e,a,t,r),error:null}}catch(n){return Rt.error(`Error updating document ${a} in ${e}:`,n),{data:null,error:n}}},delete:async(e,a)=>{try{return await tr.deleteDocument(nr,e,a),{data:null,error:null}}catch(t){return Rt.error(`Error deleting document ${a} from ${e}:`,t),{data:null,error:t}}}},or={equal:(e,a,t)=>xt.equal(t?X(t,e):e,a),notEqual:(e,a,t)=>xt.notEqual(t?X(t,e):e,a),lessThan:(e,a,t)=>xt.lessThan(t?X(t,e):e,a),lessThanEqual:(e,a,t)=>xt.lessThanEqual(t?X(t,e):e,a),lessThanEqualDate:(e,a,t)=>xt.lessThanEqual(t?X(t,e):e,a),greaterThan:(e,a,t)=>xt.greaterThan(t?X(t,e):e,a),greaterThanEqual:(e,a,t)=>xt.greaterThanEqual(t?X(t,e):e,a),greaterThanEqualDate:(e,a,t)=>xt.greaterThanEqual(t?X(t,e):e,a),search:(e,a,t)=>xt.search(t?X(t,e):e,a),orderAsc:(e,a)=>xt.orderAsc(a?X(a,e):e),orderDesc:(e,a)=>xt.orderDesc(a?X(a,e):e),limit:e=>xt.limit(e),offset:e=>xt.offset(e),select:(e,a)=>xt.select(e.map(e=>a?X(a,e):e))};Le=(e=>(e.SUPER_ADMIN="super_admin",e.ADMIN="admin",e.MANAGER="manager",e.OPERATOR="operator",e.VIEWER="viewer",e.VOLUNTEER="volunteer",e))(Le||{}),je=(e=>(e.DASHBOARD_READ="dashboard:read",e.USERS_READ="users:read",e.USERS_CREATE="users:create",e.USERS_UPDATE="users:update",e.USERS_DELETE="users:delete",e.DONATIONS_READ="donations:read",e.DONATIONS_CREATE="donations:create",e.DONATIONS_UPDATE="donations:update",e.DONATIONS_DELETE="donations:delete",e.DONATIONS_APPROVE="donations:approve",e.BENEFICIARIES_READ="beneficiaries:read",e.BENEFICIARIES_CREATE="beneficiaries:create",e.BENEFICIARIES_UPDATE="beneficiaries:update",e.BENEFICIARIES_DELETE="beneficiaries:delete",e.AID_REQUESTS_READ="aid_requests:read",e.AID_REQUESTS_CREATE="aid_requests:create",e.AID_REQUESTS_UPDATE="aid_requests:update",e.AID_REQUESTS_DELETE="aid_requests:delete",e.AID_REQUESTS_APPROVE="aid_requests:approve",e.SCHOLARSHIPS_READ="scholarships:read",e.SCHOLARSHIPS_CREATE="scholarships:create",e.SCHOLARSHIPS_UPDATE="scholarships:update",e.SCHOLARSHIPS_DELETE="scholarships:delete",e.EVENTS_READ="events:read",e.EVENTS_CREATE="events:create",e.EVENTS_UPDATE="events:update",e.EVENTS_DELETE="events:delete",e.MESSAGING_READ="messaging:read",e.MESSAGING_SEND="messaging:send",e.MESSAGING_BULK="messaging:bulk",e.FINANCIAL_READ="financial:read",e.FINANCIAL_CREATE="financial:create",e.FINANCIAL_UPDATE="financial:update",e.FINANCIAL_DELETE="financial:delete",e.PARTNERS_READ="partners:read",e.PARTNERS_CREATE="partners:create",e.PARTNERS_UPDATE="partners:update",e.PARTNERS_DELETE="partners:delete",e.REPORTS_READ="reports:read",e.REPORTS_EXPORT="reports:export",e.SETTINGS_READ="settings:read",e.SETTINGS_UPDATE="settings:update",e.STORAGE_READ="storage:read",e.STORAGE_UPLOAD="storage:upload",e.STORAGE_DELETE="storage:delete",e.SYSTEM_ADMIN="system:admin",e))(je||{});const cr={super_admin:[...Object.values(je)],admin:["dashboard:read","users:read","users:create","users:update","donations:read","donations:create","donations:update","donations:approve","beneficiaries:read","beneficiaries:create","beneficiaries:update","aid_requests:read","aid_requests:create","aid_requests:update","aid_requests:approve","scholarships:read","scholarships:create","scholarships:update","events:read","events:create","events:update","messaging:read","messaging:send","messaging:bulk","financial:read","financial:create","financial:update","partners:read","partners:create","partners:update","reports:read","reports:export","settings:read","storage:read","storage:upload"],manager:["dashboard:read","users:read","donations:read","donations:create","donations:update","donations:approve","beneficiaries:read","beneficiaries:create","beneficiaries:update","aid_requests:read","aid_requests:create","aid_requests:update","aid_requests:approve","scholarships:read","scholarships:create","scholarships:update","events:read","events:create","events:update","messaging:read","messaging:send","messaging:bulk","financial:read","financial:create","financial:update","partners:read","partners:create","partners:update","reports:read","reports:export","storage:read","storage:upload"],operator:["dashboard:read","donations:read","donations:create","donations:update","beneficiaries:read","beneficiaries:create","beneficiaries:update","aid_requests:read","aid_requests:create","aid_requests:update","scholarships:read","scholarships:create","scholarships:update","events:read","events:create","messaging:read","messaging:send","financial:read","financial:create","partners:read","partners:create","reports:read","storage:read","storage:upload"],viewer:["dashboard:read","donations:read","beneficiaries:read","aid_requests:read","scholarships:read","events:read","messaging:read","financial:read","partners:read","reports:read","storage:read"],volunteer:["dashboard:read","donations:read","donations:create","beneficiaries:read","beneficiaries:create","aid_requests:read","aid_requests:create","events:read","messaging:read","messaging:send","partners:read","storage:read","storage:upload"]},dr={"süper_yönetici":"super_admin","yönetici":"admin","müdür":"manager","operatör":"operator","görüntüleyici":"viewer","gönüllü":"volunteer",super_admin:"süper_yönetici",admin:"yönetici",manager:"müdür",operator:"operatör",viewer:"görüntüleyici",volunteer:"gönüllü"},ur={$id:"mock-admin-001",email:"admin@kafkasder.org",name:"Admin User",labels:["admin"],prefs:{}},mr={$id:"mock-manager-001",email:"manager@kafkasder.org",name:"Manager User",labels:["manager"],prefs:{}},hr={$id:"mock-user-001",email:"user@kafkasder.org",name:"Regular User",labels:["user"],prefs:{}};class pr{currentUser=null;async login(e,a){if(Rt.info("[MockAuth] Attempting login",{email:e}),a.length<6)throw new Error("Şifre en az 6 karakter olmalı");let t=hr;return e.includes("admin")||"admin"===e?t=ur:e.includes("manager")&&(t=mr),this.currentUser=t,Rt.info("[MockAuth] Login successful",{userId:t.$id}),{userId:t.$id,secret:"mock-session-secret"}}async getCurrentUser(){if(!this.currentUser)throw new Error("No user logged in");return this.currentUser}async logout(){Rt.info("[MockAuth] Logout"),this.currentUser=null}async createEmailSession(e,a){return this.login(e,a)}async get(){return this.getCurrentUser()}async deleteSession(e){Rt.info("[MockAuth] Delete session",{sessionId:e}),this.currentUser=null}}let fr=null;const gr=()=>{let e=sessionStorage.getItem("__session_key");return e||(e=ht.lib.WordArray.random(32).toString(),sessionStorage.setItem("__session_key",e)),e},br={setItem:(e,a,t={})=>{try{const{encrypt:r=!0,expiresIn:n}=t,i={value:a,encrypted:r,timestamp:Date.now(),expiresAt:n?Date.now()+n:void 0};let s=JSON.stringify(i);if(r){const e=gr();s=ht.AES.encrypt(s,e).toString()}localStorage.setItem(e,s)}catch(r){throw Rt.error("SecureStorage: Failed to set item",{key:e,error:r}),new Error("Failed to store data securely")}},getItem:e=>{try{const t=localStorage.getItem(e);if(!t)return null;let r;try{r=JSON.parse(t)}catch{try{const a=gr(),n=ht.AES.decrypt(t,a).toString(ht.enc.Utf8);if(!n)return Rt.warn("SecureStorage: Failed to decrypt data",{key:e}),null;r=JSON.parse(n)}catch(a){return Rt.error("SecureStorage: Failed to decrypt item",{key:e,error:a}),null}}return r.expiresAt&&Date.now()>r.expiresAt?(Rt.debug("SecureStorage: Item expired",{key:e}),localStorage.removeItem(e),null):r.value}catch(t){return Rt.error("SecureStorage: Failed to get item",{key:e,error:t}),null}},removeItem:e=>{try{localStorage.removeItem(e)}catch(a){Rt.error("SecureStorage: Failed to remove item",{key:e,error:a})}},clear:()=>{try{localStorage.clear()}catch(e){Rt.error("SecureStorage: Failed to clear storage",{error:e})}},hasItem:e=>null!==br.getItem(e),keys:()=>{try{return Object.keys(localStorage)}catch(e){return Rt.error("SecureStorage: Failed to get keys",{error:e}),[]}}},yr={getItem:e=>"undefined"==typeof window?null:br.getItem(e)??null,setItem:(e,a)=>{"undefined"!=typeof window&&br.setItem(e,a,{encrypt:!0})},removeItem:e=>{"undefined"!=typeof window&&br.removeItem(e)}},vr=async e=>{const a=e.prefs||{};let t,r=Le.VIEWER,n=!0,i=a;try{const{data:s,error:l}=await lr.list(ir.USER_PROFILES,[xt.equal("$id",e.$id)]);if(!l&&s?.documents?.[0]){const l=s.documents[0];r=l.role||Le.VIEWER,n=!1!==l.is_active,t=l.avatar_url,i={...a,...l},Dt("Successfully fetched user profile from database",{userId:e.$id,role:l.role})}else l?zt("Database query returned error, using preferences fallback",{userId:e.$id,error:l.message,errorType:l.type||"unknown"}):Dt("No user profile found in database, using preferences",{userId:e.$id})}catch(o){Ct("Failed to fetch user profile from database, using preferences",{userId:e.$id,error:o.message,errorType:o.type||"unknown"})}const s=a.role;if(s){const a=function(e){const a=e.toLowerCase();if(["super_admin","admin","manager","operator","viewer","volunteer"].includes(a))return a;if(a in dr){const e=dr[a];if(["super_admin","admin","manager","operator","viewer","volunteer"].includes(e))return e}return a}(s);Object.values(Le).includes(a)&&(r=a,Dt("Using role from preferences",{userId:e.$id,rawRole:s,normalizedRole:a}))}n=!1!==a.is_active,t=a.avatar_url;const{email:l}=e;if(!l)throw new Error("User email is required");return{id:e.$id,email:l,name:e.name||a.name||l.split("@")[0]||"User",role:r,avatar:t,permissions:cr[r],metadata:i,lastLogin:new Date,isActive:n,createdAt:new Date(e.$createdAt),updatedAt:new Date(e.$updatedAt)}},xr=ta()(((e,a={})=>(t,r,n)=>{const{enabled:i,anonymousActionType:s,store:l,...o}=a;let c;try{c=(null!=i?i:"production"!==(Yt?"production":void 0))&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(f){}if(!c)return e(t,r,n);const{connection:d,...u}=((e,a,t)=>{if(void 0===e)return{type:"untracked",connection:a.connect(t)};const r=Ut.get(t.name);if(r)return{type:"tracked",store:e,...r};const n={connection:a.connect(t),stores:{}};return Ut.set(t.name,n),{type:"tracked",store:e,...n}})(l,c,o);let m=!0;n.setState=(e,a,i)=>{const c=t(e,a);if(!m)return c;const u=void 0===i?{type:s||Wt((new Error).stack)||"anonymous"}:"string"==typeof i?{type:i}:i;return void 0===l?(null==d?void 0:d.send(u,r()),c):(null==d?void 0:d.send({...u,type:`${l}/${u.type}`},{...qt(o.name),[l]:n.getState()}),c)},n.devtools={cleanup:()=>{d&&"function"==typeof d.unsubscribe&&d.unsubscribe(),((e,a)=>{if(void 0===a)return;const t=Ut.get(e);t&&(delete t.stores[a],0===Object.keys(t.stores).length&&Ut.delete(e))})(o.name,l)}};const h=(...e)=>{const a=m;m=!1,t(...e),m=a},p=e(n.setState,r,n);if("untracked"===u.type?null==d?void 0:d.init(p):(u.stores[u.store]=n,null==d||d.init(Object.fromEntries(Object.entries(u.stores).map(([e,a])=>[e,e===u.store?p:a.getState()])))),n.dispatchFromDevtools&&"function"==typeof n.dispatch){let e=!1;const a=n.dispatch;n.dispatch=(...t)=>{"production"===(Yt?"production":void 0)||"__setState"!==t[0].type||e||(void 0,e=!0),a(...t)}}return d.subscribe(e=>{var a;switch(e.type){case"ACTION":return"string"!=typeof e.payload?(void 0,void 0):Kt(e.payload,e=>{if("__setState"===e.type){if(void 0===l)return h(e.state),void 0;1!==Object.keys(e.state).length,0;const a=e.state[l];if(null==a)return;return JSON.stringify(n.getState())!==JSON.stringify(a)&&h(a),void 0}n.dispatchFromDevtools&&"function"==typeof n.dispatch&&n.dispatch(e)});case"DISPATCH":switch(e.payload.type){case"RESET":return h(p),void 0===l?null==d?void 0:d.init(n.getState()):null==d?void 0:d.init(qt(o.name));case"COMMIT":return void 0===l?(null==d?void 0:d.init(n.getState()),void 0):null==d?void 0:d.init(qt(o.name));case"ROLLBACK":return Kt(e.state,e=>{if(void 0===l)return h(e),null==d||d.init(n.getState()),void 0;h(e[l]),null==d||d.init(qt(o.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Kt(e.state,e=>{if(void 0===l)return h(e),void 0;JSON.stringify(n.getState())!==JSON.stringify(e[l])&&h(e[l])});case"IMPORT_STATE":{const{nextLiftedState:t}=e.payload,r=null==(a=t.computedStates.slice(-1)[0])?void 0:a.state;if(!r)return;return h(void 0===l?r:r[l]),null==d||d.send(null,t),void 0}case"PAUSE_RECORDING":return m=!m}return}}),p})((Ye=Ht((Ue=(e,a)=>({user:null,session:null,isAuthenticated:!1,isLoading:!1,isInitialized:!1,error:null,showLoginModal:!1,rememberMe:!1,loginAttempts:0,sessionExpiryWarningShown:!1,initializeAuth:async()=>{e(e=>{e.isLoading=!0,e.error=null});try{if(!ar)return Ct("Appwrite account not configured",{}),e(e=>{e.isInitialized=!0,e.isLoading=!1}),void 0;const t=await ar.get();if(t){const r=await vr(t);try{const e=t.prefs||{};e.role!==r.role&&(await ar.updatePrefs({...e,role:r.role,name:r.name,is_active:r.isActive}),Dt("Updated Appwrite preferences with database role on init",{userId:r.id,role:r.role}))}catch(a){Ct("Failed to update Appwrite preferences on init",{userId:r.id,error:a})}e(e=>{e.user=r,e.isAuthenticated=!0,e.session={userId:t.$id,expire:new Date(Date.now()+864e5).toISOString()}})}e(e=>{e.isLoading=!1,e.isInitialized=!0})}catch(t){401===t?.code||"general_unauthorized_scope"===t?.type?Dt("No active session found during initialization"):Ct("auth initialization",t),e(e=>{e.user=null,e.session=null,e.isAuthenticated=!1,e.isLoading=!1,e.isInitialized=!0,e.error=null})}},login:async(t,r,n=!1)=>{const i=a();if(i.loginAttempts>=5){const e=i.lastLoginAttempt;if(e&&Date.now()-e.getTime()<9e5)throw new Error("Çok fazla deneme. 15 dakika sonra tekrar deneyin.");a().resetLoginAttempts()}e(e=>{e.isLoading=!0,e.error=null,e.rememberMe=n});try{if(Dt("Attempting login",{email:t}),!Zt()||!ar){if(!Xt.features.mockData)throw new Error("Kimlik doğrulama servisi yapılandırılmamış. Lütfen sistem yöneticinizle iletişime geçin.");zt("Using mock authentication service");const a=(fr||(fr=new pr),fr);await a.login(t,r);const n=await a.getCurrentUser(),i={id:n.$id,email:n.email,name:n.name,role:n.labels.includes("admin")?Le.ADMIN:n.labels.includes("manager")?Le.MANAGER:Le.VIEWER,permissions:cr[n.labels.includes("admin")?Le.ADMIN:n.labels.includes("manager")?Le.MANAGER:Le.VIEWER],isActive:!0,createdAt:new Date,updatedAt:new Date};return e(e=>{e.user=i,e.isAuthenticated=!0,e.session={userId:i.id,expire:new Date(Date.now()+864e5).toISOString()},e.isLoading=!1,e.error=null}),pt.success("Giriş başarılı! (Mock Mode)"),Dt("Mock login successful",{userId:i.id}),void 0}if(!ar)throw new Error("Appwrite account not configured");await ar.createEmailPasswordSession(t,r),Dt("Email session created successfully",{email:t});const n=await ar.get();Dt("Retrieved Appwrite user data",{userId:n.$id,email:n.email});const i=await vr(n);Dt("Built user object successfully",{userId:i.id,role:i.role,isActive:i.isActive});try{const e=n.prefs||{};e.role!==i.role&&(await ar.updatePrefs({...e,role:i.role,name:i.name,is_active:i.isActive}),Dt("Updated Appwrite preferences with database role",{userId:i.id,role:i.role}))}catch(s){Ct("Failed to update Appwrite preferences",{userId:i.id,error:s.message,errorType:s.type||"unknown"})}e(e=>{e.user=i,e.session={userId:n.$id,expire:new Date(Date.now()+864e5).toISOString()},e.isAuthenticated=!0,e.isLoading=!1,e.error=null}),a().resetLoginAttempts(),pt.success(`Hoş geldiniz, ${i.name}!`,{duration:3e3})}catch(l){a().incrementLoginAttempts();let r="Giriş yapılamadı";if(l instanceof wt){switch(l.type){case"user_invalid_credentials":r="Geçersiz email veya şifre";break;case"user_blocked":r="Kullanıcı engellenmiş";break;case"user_email_not_verified":r="Email adresinizi doğrulayın";break;case"general_unauthorized_scope":r="Yetkisiz erişim";break;case"general_unsupported_provider":r="Desteklenmeyen kimlik doğrulama yöntemi";break;default:r=l.message||"Giriş yapılamadı"}Ct("Appwrite login error",{email:t,errorType:l.type,errorCode:l.code,errorMessage:l.message})}else l instanceof Error?(r=l.message.includes("Failed to fetch")||l.message.includes("NetworkError")?"Ağ bağlantısı hatası. Lütfen internet bağlantınızı kontrol edin.":l.message.includes("timeout")?"Bağlantı zaman aşımı. Lütfen tekrar deneyin.":l.message||"Bilinmeyen hata oluştu",Ct("Login error",{email:t,errorName:l.name,errorMessage:l.message})):Ct("Unknown login error",{email:t,error:l});throw e(e=>{e.isLoading=!1,e.error=r}),pt.error(r,{duration:4e3}),new Error(r)}},logout:async a=>{try{if(!ar)throw new Error("Appwrite account not configured");await ar.deleteSession("current"),e(e=>{e.user=null,e.session=null,e.isAuthenticated=!1,e.error=null,e.sessionExpiresAt=void 0,e.showLoginModal=!1,e.sessionExpiryWarningShown=!1,e.sessionExpiryWarningTime=void 0}),pt.success("Başarıyla çıkış yaptınız",{duration:2e3}),a?a():window.location.href="/login"}catch(t){Ct("logout",t),e(e=>{e.user=null,e.session=null,e.isAuthenticated=!1,e.sessionExpiryWarningShown=!1,e.sessionExpiryWarningTime=void 0}),pt.error("Çıkış yapılırken hata oluştu",{duration:3e3}),a?a():window.location.href="/login"}},register:async a=>{e(e=>{e.isLoading=!0,e.error=null});try{if(!ar)throw new Error("Appwrite account not configured");const r=vt.unique();await ar.create(r,a.email,a.password,a.name),await ar.updatePrefs({role:a.role??Le.VIEWER,name:a.name});try{await lr.create(ir.USER_PROFILES,{id:r,email:a.email,name:a.name,role:a.role??Le.VIEWER,is_active:!0,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()})}catch(t){Ct("Failed to create user profile in database",{userId:r,error:t})}pt.success("Kayıt başarılı! Giriş yapabilirsiniz.",{duration:5e3}),e(e=>{e.isLoading=!1})}catch(r){let a="Kayıt oluşturulamadı";if(r instanceof wt)switch(r.type){case"user_already_exists":a="Bu email adresi zaten kayıtlı";break;case"password_recently_used":a="Bu şifre yakın zamanda kullanılmış";break;case"password_personal_data":a="Şifre kişisel bilgiler içeremez";break;default:a=r.message||"Kayıt oluşturulamadı"}throw e(e=>{e.isLoading=!1,e.error=a}),pt.error(a,{duration:4e3}),new Error(a)}},resetPassword:async e=>{try{if(!ar)throw new Error("Appwrite account not configured");await ar.createRecovery(e,`${window.location.origin}/reset-password`),pt.success("Şifre sıfırlama bağlantısı email adresinize gönderildi",{duration:5e3})}catch(a){const e=a instanceof wt?a.message:"Şifre sıfırlama bağlantısı gönderilemedi";throw pt.error(e,{duration:4e3}),new Error(e)}},updateProfile:async t=>{const{user:r}=a();if(!r)throw new Error("Kullanıcı oturumu bulunamadı");try{if(!ar)throw new Error("Appwrite account not configured");t.name&&await ar.updateName(t.name);const a={...r.metadata||{},...t.metadata,name:t.name||r.name,avatar_url:t.avatar,role:t.role||r.role};await ar.updatePrefs(a);try{const e={updated_at:(new Date).toISOString()};t.name&&(e.name=t.name),t.role&&(e.role=t.role),t.avatar&&(e.avatar_url=t.avatar),await lr.update(ir.USER_PROFILES,r.id,e)}catch(n){Ct("Failed to update user profile in database",{userId:r.id,error:n})}const i={...r,...t,updatedAt:new Date};e(e=>{e.user=i}),pt.success("Profil başarıyla güncellendi",{duration:3e3})}catch(i){const e=i instanceof wt?i.message:"Profil güncellenemedi";throw pt.error(e,{duration:4e3}),new Error(e)}},refreshSession:async()=>{const{refreshPromise:t}=a();if(t)return t;const r=(async()=>{try{if(!ar)return Ct("Appwrite account not configured",{}),void 0;const a=await ar.get();if(a){const t=await vr(a);e(e=>{e.user=t,e.session={userId:a.$id,expire:new Date(Date.now()+864e5).toISOString()},e.error=null,e.sessionExpiryWarningShown=!1,e.sessionExpiryWarningTime=void 0})}}catch(t){Ct("session refresh",t),pt.error("Oturum yenilenemedi. Lütfen tekrar giriş yapın.",{duration:0}),await a().logout()}finally{e(e=>{e.refreshPromise=void 0})}})();return e(e=>{e.refreshPromise=r}),r},checkSessionExpiry:()=>{const{session:t,isAuthenticated:r,sessionExpiryWarningShown:n,sessionExpiryWarningTime:i}=a();if(!r||!t)return;const s=new Date(t.expire).getTime(),l=Date.now(),o=3e5;if(s<=l)return a().handleSessionExpired(),void 0;s-l<o&&!n&&(e(e=>{e.sessionExpiryWarningShown=!0,e.sessionExpiryWarningTime=new Date}),pt.warning("Oturumunuz sona ermek üzere. Devam etmek ister misiniz?",{duration:0})),n&&i&&l-i.getTime()>o&&a().handleSessionExpired()},dismissSessionWarning:()=>{e(e=>{e.sessionExpiryWarningShown=!1,e.sessionExpiryWarningTime=void 0})},handleSessionExpired:async()=>{pt.error("Oturumunuz sona erdi. Lütfen tekrar giriş yapın.",{duration:0}),await a().logout()},hasPermission:e=>{const{user:t,isAuthenticated:r}=a();return!(!t||!r)&&t.permissions.includes(e)},hasRole:e=>{const{user:t,isAuthenticated:r}=a();return!(!t||!r)&&t.role===e},hasAnyPermission:e=>{const{user:t,isAuthenticated:r}=a();return!(!t||!r)&&e.some(e=>t.permissions.includes(e))},hasAllPermissions:e=>{const{user:t,isAuthenticated:r}=a();return!(!t||!r)&&e.every(e=>t.permissions.includes(e))},setShowLoginModal:a=>{e(e=>{e.showLoginModal=a})},clearError:()=>{e(e=>{e.error=null})},setRememberMe:a=>{e(e=>{e.rememberMe=a})},setUser:a=>{e(e=>{e.user=a})},setSession:a=>{e(e=>{e.session=a})},setLoading:a=>{e(e=>{e.isLoading=a})},setError:a=>{e(e=>{e.error=a})},incrementLoginAttempts:()=>{e(e=>{e.loginAttempts+=1,e.lastLoginAttempt=new Date})},resetLoginAttempts:()=>{e(e=>{e.loginAttempts=0,e.lastLoginAttempt=void 0})},syncUserProfile:async t=>{try{const{data:r,error:n}=await lr.list(ir.USER_PROFILES,[xt.equal("$id",t)]);if(!n&&r?.documents?.[0]){const n=r.documents[0],{user:i}=a();if(i&&i.id===t){const a={...i,role:n.role||i.role,isActive:!1!==n.is_active,avatar:n.avatar_url||i.avatar,metadata:{...i.metadata,...n},updatedAt:new Date};e(e=>{e.user=a}),Dt("User profile synced with database",{userId:t})}}}catch(r){Ct("Failed to sync user profile",{userId:t,error:r})}},createUserProfile:async e=>{try{await lr.create(ir.USER_PROFILES,{id:e.id,email:e.email,name:e.name,role:e.role||Le.VIEWER,is_active:!0,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}),Dt("User profile created in database",{userId:e.id})}catch(a){throw Ct("Failed to create user profile",{userId:e.id,error:a}),a}}}),(e,a,t)=>(t.setState=(a,t,...r)=>{const n="function"==typeof a?Me(a):a;return e(n,t,...r)},Ue(t.setState,a))),{name:"auth-store",storage:p(()=>yr),partialize:e=>({user:e.user,session:e.session,isAuthenticated:e.isAuthenticated,isInitialized:e.isInitialized,rememberMe:e.rememberMe,loginAttempts:e.loginAttempts,lastLoginAttempt:e.lastLoginAttempt}),version:2,migrate:(e,a)=>a<2?(Dt(`Migrating auth store from version ${a} to version 2 - clearing old data`),{rememberMe:!1,loginAttempts:0,lastLoginAttempt:null}):e}),(e,a,t)=>{const r=t.subscribe;return t.subscribe=(e,a,n)=>{let i=e;if(a){const r=(null==n?void 0:n.equalityFn)||Object.is;let s=e(t.getState());i=t=>{const n=e(t);if(!r(s,n)){const e=s;a(s=n,e)}},(null==n?void 0:n.fireImmediately)&&a(s,s)}return r(i)},Ye(e,a,t)})));"undefined"!=typeof window&&setInterval(()=>{xr.getState().checkSessionExpiry()},6e4);const wr=nt("font-family-primary tracking-tight",{variants:{size:{xs:"text-sm leading-5",sm:"text-base leading-6",md:"text-lg leading-7",lg:"text-xl leading-7",xl:"text-2xl leading-8","2xl":"text-3xl leading-9","3xl":"text-4xl leading-10","4xl":"text-5xl leading-none"},weight:{normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold"},color:{foreground:"text-foreground",muted:"text-muted-foreground",primary:"text-primary",success:"text-success",warning:"text-warning",error:"text-error",neutral:"text-neutral-700 dark:text-neutral-300"}},defaultVariants:{size:"lg",weight:"semibold",color:"foreground"}}),Nr=qe.forwardRef(({className:e,level:a,size:r,weight:n,color:i,asChild:s,balance:l=!1,pretty:o=!1,children:c,...d},u)=>{const m=`h${a}`,h=r||(()=>{switch(a){case 1:return"3xl";case 2:return"2xl";case 3:return"xl";case 4:default:return"lg";case 5:return"md";case 6:return"sm"}})();return We.jsx(m,{className:t(wr({size:h,weight:n,color:i}),l&&"text-balance",o&&"text-pretty",e),ref:u,...d,children:c})});Nr.displayName="Heading";const _r=nt("font-family-primary",{variants:{variant:{body:"text-foreground",caption:"text-muted-foreground",label:"text-foreground font-medium",code:"font-mono bg-muted px-1.5 py-0.5 rounded text-sm",kbd:"font-mono bg-muted border border-border px-1.5 py-0.5 rounded text-xs shadow-sm"},size:{xs:"text-xs leading-4",sm:"text-sm leading-5",md:"text-base leading-6",lg:"text-lg leading-7",xl:"text-xl leading-7"},weight:{normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold"},color:{foreground:"text-foreground",muted:"text-muted-foreground",primary:"text-primary",success:"text-success",warning:"text-warning",error:"text-error",neutral:"text-neutral-600 dark:text-neutral-400"}},defaultVariants:{variant:"body",size:"md",weight:"normal",color:"foreground"}}),kr=qe.forwardRef(({className:e,variant:a,size:r,weight:n,color:i,asChild:s,as:l="span",truncate:o=!1,balance:c=!1,pretty:d=!1,children:u,...m},h)=>{let p=l;return"code"===a?p="code":"kbd"===a?p="kbd":"label"===a&&(p="label"),We.jsx(p,{className:t(_r({variant:a,size:r,weight:n,color:i}),o&&"truncate",c&&"text-balance",d&&"text-pretty",e),ref:"span"===p?h:void 0,...m,children:u})});kr.displayName="Text";const Er={minimum:"44px",comfortable:"48px"},Ar=na,Tr=qe.forwardRef(({...e},a)=>We.jsx(ca,{ref:a,"data-slot":"dialog-trigger",...e}));Tr.displayName=ca.displayName;const Sr=ia;qe.forwardRef(({...e},a)=>We.jsx(la,{ref:a,"data-slot":"dialog-close",...e})).displayName=la.displayName;const Ir=qe.forwardRef(({className:e,...a},r)=>We.jsx(ua,{ref:r,"data-slot":"dialog-overlay",className:t("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/60 backdrop-blur-sm",e),...a}));Ir.displayName=ua.displayName;const Or=qe.forwardRef(({className:e,children:a,...r},n)=>We.jsxs(Sr,{children:[We.jsx(Ir,{}),We.jsxs(sa,{ref:n,"data-slot":"dialog-content","aria-modal":"true",className:t("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-1rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border border-border/20 p-4 sm:p-6 shadow-lg duration-200 sm:max-w-lg md:max-w-xl lg:max-w-2xl","max-h-[90vh] overflow-y-auto",e),...r,children:[a,We.jsxs(la,{className:t("ring-offset-background data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-3 right-3 sm:top-4 sm:right-4 rounded-sm opacity-70 transition-all duration-200 hover:opacity-100 hover:bg-secondary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 flex items-center justify-center",te()),children:[We.jsx(ea,{}),We.jsx("span",{className:"sr-only",children:"Kapat"})]})]})]}));Or.displayName=sa.displayName;const Rr=qe.forwardRef(({className:e,...a},r)=>We.jsx("div",{ref:r,"data-slot":"dialog-header",className:t("flex flex-col gap-2 text-center sm:text-left pb-2 border-b border-border/10",e),...a}));Rr.displayName="DialogHeader";const Dr=qe.forwardRef(({className:e,...a},r)=>We.jsx("div",{ref:r,"data-slot":"dialog-footer",className:t("flex flex-col-reverse gap-3 sm:flex-row sm:justify-end pt-4 border-t border-border/10",e),...a}));Dr.displayName="DialogFooter";const zr=qe.forwardRef(({className:e,...a},r)=>We.jsx(oa,{ref:r,"data-slot":"dialog-title",className:t("text-lg leading-none font-semibold text-foreground",e),...a}));zr.displayName=oa.displayName;const Cr=qe.forwardRef(({className:e,...a},r)=>We.jsx(da,{ref:r,"data-slot":"dialog-description",className:t("text-muted-foreground text-sm",e),...a}));Cr.displayName=da.displayName;const Pr={delete:ma,view:ha},Mr={USER_PROFILES:"user_profiles",USERS:"users",USER_ACTIVITIES:"user_activities",BENEFICIARIES:"beneficiaries",DONATIONS:"donations",AID_APPLICATIONS:"aid_applications",CONVERSATIONS:"conversations",MESSAGES:"messages",MESSAGE_ATTACHMENTS:"message_attachments",CONVERSATION_PARTICIPANTS:"conversation_participants",USER_PRESENCE:"user_presence",TYPING_INDICATORS:"typing_indicators",MEMBERS:"members",EVENTS:"events",INVENTORY:"inventory",LEGAL_CONSULTATIONS:"legal_consultations",PARTNERS:"partners",REPORTS:"reports",WORKFLOWS:"workflows",AUTOMATION_RULES:"automation_rules"},Lr=new class{async getBeneficiaries(e={}){const{page:a=1,limit:t=50,status:r,tc_number:n,name:i}=e;try{const e=[xt.limit(t),xt.offset((a-1)*t),xt.orderDesc("$createdAt")];return r&&e.push(xt.equal("status",r)),n&&e.push(xt.equal("tc_number",n)),i&&e.push(xt.search("name",i)),(await tr.listDocuments(Mr.DATABASE_ID,Mr.BENEFICIARIES,e)).documents}catch(s){throw new Error("İhtiyaç sahipleri listelenemedi")}}async getBeneficiary(e){try{return await tr.getDocument(Mr.DATABASE_ID,Mr.BENEFICIARIES,e)}catch(a){return null}}async createBeneficiary(e){try{return await tr.createDocument(Mr.DATABASE_ID,Mr.BENEFICIARIES,vt.unique(),{name:e.name,tc_number:e.tc_number,phone:e.phone,email:e.email,address:e.address,status:e.status||"active",created_at:(new Date).toISOString(),...e})}catch(a){throw new Error("İhtiyaç sahibi oluşturulamadı")}}async updateBeneficiary(e,a){try{return await tr.updateDocument(Mr.DATABASE_ID,Mr.BENEFICIARIES,e,a)}catch(t){throw new Error("İhtiyaç sahibi güncellenemedi")}}async deleteBeneficiary(e){try{return await tr.deleteDocument(Mr.DATABASE_ID,Mr.BENEFICIARIES,e),!0}catch(a){throw new Error("İhtiyaç sahibi silinemedi")}}async getById(e){return this.getBeneficiary(e)}async getBeneficiaryByTcNumber(e){try{return(await tr.listDocuments(Mr.DATABASE_ID,Mr.BENEFICIARIES,[xt.equal("tc_number",e),xt.limit(1)])).documents[0]||null}catch(a){return null}}async getBeneficiaryStats(){try{const[e,a,t,r,n]=await Promise.all([tr.listDocuments(Mr.DATABASE_ID,Mr.BENEFICIARIES),tr.listDocuments(Mr.DATABASE_ID,Mr.BENEFICIARIES,[xt.equal("status","active")]),tr.listDocuments(Mr.DATABASE_ID,Mr.BENEFICIARIES,[xt.equal("status","inactive")]),tr.listDocuments(Mr.DATABASE_ID,Mr.BENEFICIARIES,[xt.equal("status","pending")]),tr.listDocuments(Mr.DATABASE_ID,Mr.BENEFICIARIES,[xt.greaterThan("created_at",new Date((new Date).getFullYear(),(new Date).getMonth(),1).toISOString())])]);return{total:e.total,active:a.total,inactive:t.total,pending:r.total,newThisMonth:n.total}}catch(e){throw new Error("İhtiyaç sahibi istatistikleri getirilemedi")}}async addSupportingDocuments(e,a){try{return!0}catch(t){throw new Error("Destekleyici belgeler eklenemedi")}}async removeSupportingDocument(e,a){try{return!0}catch(t){throw new Error("Destekleyici belge kaldırılamadı")}}},jr=[{id:"main-content",label:"Ana içeriğe geç",target:"main",icon:We.jsx(pa,{className:"h-4 w-4"})},{id:"navigation",label:"Navigasyona geç",target:"nav",icon:We.jsx(fa,{className:"h-4 w-4"})},{id:"search",label:"Aramaya geç",target:"search",icon:We.jsx(ga,{className:"h-4 w-4"})},{id:"home",label:"Ana sayfaya dön",target:"home",icon:We.jsx(ba,{className:"h-4 w-4"})}],Br={success:{variant:"success",icon:_a,label:"Success"},error:{variant:"destructive",icon:Na,label:"Error"},warning:{variant:"warning",icon:wa,label:"Warning"},info:{variant:"info",icon:xa,label:"Information"},pending:{variant:"secondary",icon:va,label:"Pending"}},Fr={xs:"h-3 w-3",sm:"h-3.5 w-3.5",default:"h-4 w-4",lg:"h-4.5 w-4.5"};qe.memo(ie,(e,a)=>e.status===a.status&&e.size===a.size&&e.showIcon===a.showIcon&&e.animated===a.animated&&e.className===a.className&&e.children===a.children);const $r=qe.forwardRef(({className:e,type:a,prefixIcon:r,suffixIcon:n,clearable:i=!1,loading:s=!1,error:l=!1,success:o=!1,warning:c=!1,helperText:d,errorText:u,successText:m,warningText:h,maxLength:p,showCharacterCount:f=!1,onClear:g,value:b,onChange:y,inputSize:v="md",id:x,...w},N)=>{const[_,k]=qe.useState(!1),[E,A]=qe.useState(b||""),T="password"===a;qe.useEffect(()=>{void 0!==b&&A(b)},[b]);const S=Boolean(E),I=i&&S&&!w.disabled,O=String(E).length,R=!!p&&O>p,D=qe.useId(),z=x||D,C=`${z}-error-text`,P=`${z}-warning-text`,M=`${z}-success-text`,L=`${z}-helper-text`,j=`${z}-character-count`,B=qe.useCallback(e=>{A(e.target.value),y?.(e)},[y]),F=qe.useCallback(()=>{A(""),g?.(),y?.({target:{value:""},currentTarget:{value:""}})},[g,y]),$=qe.useCallback(()=>{k(!_)},[_]),V=T&&_?"text":a,Y={sm:"h-4 w-4",md:"h-4 w-4",lg:"h-5 w-5"};return We.jsxs("div",{className:"relative w-full",children:[We.jsxs("div",{className:"relative",children:[r&&We.jsx("div",{className:t("absolute top-1/2 -translate-y-1/2 text-muted-foreground","sm"===v?"left-2.5":"lg"===v?"left-4":"left-3"),children:We.jsx("div",{className:Y[v],children:r})}),We.jsx("input",{type:V,id:z,"data-slot":"input",className:t("file:text-foreground placeholder:text-muted-foreground selection:bg-primary-500 selection:text-white dark:bg-input/30 border-input flex w-full min-w-0 rounded-lg border bg-white transition-all duration-200 outline-none file:inline-flex file:h-7 file:border-none file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","focus-visible:border-ring focus-visible:ring-ring/20 focus-visible:ring-2 focus-visible:ring-offset-2","hover:border-ring/60",{sm:"h-9 px-3 py-2 text-sm",md:"h-10 px-3 py-2 text-sm",lg:"h-11 px-4 py-2.5 text-base"}[v],r&&{sm:"pl-9",md:"pl-10",lg:"pl-11"}[v],(n||I||s||T)&&{sm:"pr-9",md:"pr-10",lg:"pr-11"}[v],l&&"border-error-600 focus-visible:ring-error-500/20 focus-visible:border-error-600",o&&"border-success-600 focus-visible:ring-success-500/20 focus-visible:border-success-600",c&&!l&&"border-warning-600 focus-visible:ring-warning-500/20 focus-visible:border-warning-600",R&&"border-error-600",e),ref:N,value:E,onChange:B,maxLength:p,"aria-invalid":l||R,"aria-describedby":l&&u?C:c&&h?P:o&&m?M:d?L:f&&p?j:void 0,"aria-label":w["aria-label"]||(T?"Password input":void 0),...w}),We.jsxs("div",{className:t("absolute top-1/2 -translate-y-1/2 flex items-center gap-1","sm"===v?"right-2.5":"lg"===v?"right-4":"right-3"),children:[s&&We.jsx(aa,{className:t("animate-spin text-muted-foreground",Y[v])}),!s&&T&&We.jsx("button",{type:"button",onClick:$,className:"text-muted-foreground hover:text-foreground transition-colors",tabIndex:-1,"aria-label":_?"Hide password":"Show password",children:_?We.jsx(ka,{className:Y[v]}):We.jsx(ha,{className:Y[v]})}),!s&&!T&&I&&We.jsx("button",{type:"button",onClick:F,className:"text-muted-foreground hover:text-foreground transition-colors",tabIndex:-1,"aria-label":"Clear input",children:We.jsx(ea,{className:Y[v]})}),!s&&!T&&!I&&n&&We.jsx("div",{className:t("text-muted-foreground",Y[v]),children:n})]})]}),(d||u||h||m||f&&p)&&We.jsxs("div",{className:"mt-1 flex items-center justify-between text-xs",children:[We.jsxs("div",{className:"flex items-center gap-1",children:[l&&u&&We.jsx("span",{id:C,className:"text-error-600",role:"alert",children:u}),!l&&c&&h&&We.jsx("span",{id:P,className:"text-warning-600",role:"alert",children:h}),!l&&!c&&o&&m&&We.jsx("span",{id:M,className:"text-success-600",children:m}),!l&&!c&&!o&&d&&We.jsx("span",{id:L,className:"text-muted-foreground",children:d})]}),f&&p&&We.jsxs("span",{id:j,className:t("text-muted-foreground",R&&"text-error-600"),"aria-live":"polite",children:[O,"/",p]})]})]})});$r.displayName="Input",qe.memo($r,(e,a)=>e.type===a.type&&e.loading===a.loading&&e.error===a.error&&e.success===a.success&&e.disabled===a.disabled&&e.value===a.value&&e.className===a.className);const Vr=qe.forwardRef(({label:e,required:a=!1,className:r,id:n,error:i,success:s,warning:l,inputSize:o="md",value:c,onChange:d,onFocus:u,onBlur:m,...h},p)=>{const[f,g]=qe.useState(!1),[b,y]=qe.useState(c||""),v=qe.useMemo(()=>n||`floating-input-${Math.random().toString(36).substr(2,9)}`,[n]),x=Boolean(b)||Boolean(c),w=f||x,N=qe.useCallback(e=>{y(e.target.value),d?.(e)},[d]),_=qe.useCallback(e=>{g(!0),u?.(e)},[u]),k=qe.useCallback(e=>{g(!1),m?.(e)},[m]),E={sm:{default:"text-xs top-2 left-2.5",floating:"text-[10px] -top-2 left-2 px-1"},md:{default:"text-sm top-2.5 left-3",floating:"text-xs -top-2.5 left-2.5 px-1"},lg:{default:"text-base top-3.5 left-4",floating:"text-sm -top-2.5 left-3 px-1"}};return We.jsxs("div",{className:"relative w-full",children:[We.jsx($r,{ref:p,id:v,className:t({sm:"pt-5 pb-1",md:"pt-6 pb-2",lg:"pt-7 pb-3"}[o],r),value:b,onChange:N,onFocus:_,onBlur:k,error:i,success:s,warning:l,inputSize:o,"aria-labelledby":`${v}-label`,"aria-required":a,...h}),We.jsxs("label",{id:`${v}-label`,htmlFor:v,className:t("absolute pointer-events-none transition-all duration-200 ease-out bg-background","text-muted-foreground",w?E[o].floating:E[o].default,f&&"text-ring",i&&"text-error-600",s&&!i&&"text-success-600",l&&!i&&!s&&"text-warning-600",h.disabled&&"opacity-50"),children:[e,a&&We.jsx("span",{className:"text-error-500 ml-0.5","aria-hidden":"true",children:"*"})]})]})});Vr.displayName="FloatingLabelInput";const Yr=qe.forwardRef(({children:e,inputSize:a="md",className:r,...n},i)=>We.jsx("div",{ref:i,className:t("flex items-center justify-center bg-muted border border-input text-muted-foreground whitespace-nowrap","first:rounded-l-lg last:rounded-r-lg","[&:not(:first-child)]:border-l-0 [&:not(:last-child)]:border-r-0",{sm:"px-2.5 py-1 text-xs",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"}[a],r),...n,children:e}));Yr.displayName="InputAddon",qe.forwardRef(({children:e,inputSize:a="md",className:r,...n},i)=>{const s=qe.Children.map(e,(r,n)=>{if(qe.isValidElement(r)){const i=0===n,s=n===qe.Children.count(e)-1,l=r.type===$r||r.type===Vr,o=r.type===Yr;return l?qe.cloneElement(r,{inputSize:a,className:t(r.props.className,"[&>div>input]:rounded-none",i&&"[&>div>input]:rounded-l-lg",s&&"[&>div>input]:rounded-r-lg",!i&&"[&>div>input]:border-l-0",!s&&"[&>div>input]:border-r-0")}):o?qe.cloneElement(r,{inputSize:a}):r}return r});return We.jsx("div",{ref:i,className:t("flex w-full items-stretch",r),role:"group",...n,children:s})}).displayName="InputGroup";const Ur=e(Ve?$e:(Ve=1,$e=window.DOMPurify||(window.DOMPurify=pe().default||pe()))),qr={ALLOWED_TAGS:["b","i","em","strong","u","p","br"],ALLOWED_ATTR:[],KEEP_CONTENT:!0,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_DOM_IMPORT:!1,FORCE_BODY:!1},Wr={ALLOWED_TAGS:[],ALLOWED_ATTR:[],KEEP_CONTENT:!0},Kr={ALLOWED_TAGS:["b","i","em","strong","u","p","br","ul","ol","li","a","span","div","h1","h2","h3","h4","h5","h6","blockquote","code","pre"],ALLOWED_ATTR:["href","title","class"],KEEP_CONTENT:!0},Gr={"gıda":{label:"Gıda Yardımı",color:"bg-amber-50 text-amber-700 border-amber-200"},nakdi:{label:"Nakdi Yardım",color:"bg-emerald-50 text-emerald-700 border-emerald-200"},"eğitim":{label:"Eğitim Desteği",color:"bg-blue-50 text-blue-700 border-blue-200"},"sağlık":{label:"Sağlık Yardımı",color:"bg-cyan-50 text-cyan-700 border-cyan-200"},"barınma":{label:"Barınma Desteği",color:"bg-slate-50 text-slate-700 border-slate-200"},giyim:{label:"Giyim Yardımı",color:"bg-slate-50 text-slate-700 border-slate-200"},"diğer":{label:"Diğer Yardım",color:"bg-gray-50 text-gray-700 border-gray-200"}},Hr=Object.freeze(Object.defineProperty({__proto__:null,BeneficiariesPageEnhanced:_e,default:_e},Symbol.toStringTag,{value:"Module"})),Jr=qe.forwardRef(({className:e,...a},r)=>We.jsx("textarea",{className:t("flex min-h-[60px] w-full rounded-md border border-slate-200 bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...a}));Jr.displayName="Textarea";const Xr=new class{async getAidRequests(e={}){const{page:a=1,limit:t=50,status:r,aid_type:n,urgency:i,assigned_to:s,date_from:l,date_to:o}=e;try{const e=[xt.limit(t),xt.offset((a-1)*t),xt.orderDesc("application_date")];return r&&e.push(xt.equal("status",r)),n&&e.push(xt.equal("aid_type",n)),i&&e.push(xt.equal("urgency",i)),s&&e.push(xt.equal("assigned_to",s)),l&&e.push(xt.greaterThanEqual("application_date",l)),o&&e.push(xt.lessThanEqual("application_date",o)),(await tr.listDocuments(Mr.DATABASE_ID,Mr.AID_APPLICATIONS,e)).documents}catch(c){throw new Error("Yardım başvuruları listelenemedi")}}async getAidRequest(e){try{return await tr.getDocument(Mr.DATABASE_ID,Mr.AID_APPLICATIONS,e)}catch(a){return null}}async createAidRequest(e){try{return await tr.createDocument(Mr.DATABASE_ID,Mr.AID_APPLICATIONS,vt.unique(),{applicant_name:e.applicant_name,applicant_phone:e.applicant_phone,aid_type:e.aid_type,requested_amount:e.requested_amount,status:e.status||"pending",urgency:e.urgency||"medium",description:e.description,application_date:e.application_date||(new Date).toISOString(),assigned_to:e.assigned_to,...e})}catch(a){throw new Error("Yardım başvurusu oluşturulamadı")}}async updateAidRequest(e,a){try{return await tr.updateDocument(Mr.DATABASE_ID,Mr.AID_APPLICATIONS,e,a)}catch(t){throw new Error("Yardım başvurusu güncellenemedi")}}async deleteAidRequest(e){try{return await tr.deleteDocument(Mr.DATABASE_ID,Mr.AID_APPLICATIONS,e),!0}catch(a){throw new Error("Yardım başvurusu silinemedi")}}async getAidRequestStats(){try{const e=(await tr.listDocuments(Mr.DATABASE_ID,Mr.AID_APPLICATIONS)).documents,a={total:e.length,pending:0,under_review:0,approved:0,rejected:0,byUrgency:{},byType:{}};return e.forEach(e=>{switch(e.status){case"pending":a.pending++;break;case"under_review":a.under_review++;break;case"approved":a.approved++;break;case"rejected":a.rejected++}a.byUrgency[e.urgency]=(a.byUrgency[e.urgency]||0)+1,a.byType[e.aid_type]=(a.byType[e.aid_type]||0)+1}),a}catch(e){throw new Error("Yardım başvurusu istatistikleri getirilemedi")}}},Zr=e=>({"Nakdi Yardım":"financial","Ayni Yardım":"other","Sağlık Yardımı":"medical","Eğitim Yardımı":"education"}[e]||"other"),Qr=e=>({low:"low",medium:"medium",high:"high",urgent:"critical"}[e]||"medium"),en=e=>({pending:"pending",under_review:"under-review",approved:"approved",rejected:"rejected",completed:"completed"}[e]||e),an=e=>({low:"low",medium:"medium",high:"high",critical:"urgent"}[e]||e),tn=Object.freeze(Object.defineProperty({__proto__:null,AidApplicationsPage:ke,default:ke},Symbol.toStringTag,{value:"Module"}));export{i as $,e as A,It as B,Mt as C,nr as D,Vt as E,Ee as F,_t as G,Nr as H,$r as I,Z as J,Tr as K,ee as L,fe as M,ge as N,ye as O,je as P,ve as Q,cr as R,le as S,kr as T,Le as U,be as V,xe as W,a as X,ne as Y,r as Z,n as _,Lt as a,s as a0,Xr as a1,u as a2,m as a3,ar as a4,ae as a5,Mr as a6,we as a7,Ne as a8,c as a9,Pr as aa,ie as ab,d as ac,Ht as ad,p as ae,Q as af,Lr as ag,Dr as ah,Hr as ai,tn as aj,jt as b,Bt as c,tr as d,Ft as e,l as f,t as g,lr as h,ir as i,ce as j,oe as k,Rt as l,de as m,ue as n,Ar as o,Or as p,Rr as q,zr as r,Cr as s,se as t,xr as u,Jr as v,or as w,rr as x,Xt as y,h as z};
